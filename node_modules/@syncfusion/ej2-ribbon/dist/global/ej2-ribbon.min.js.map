{"version":3,"file":"ej2-ribbon.min.js","sources":["../../src/ribbon/base/utils.js","../../src/ribbon/base/interface.js","../../src/ribbon/models/ribbon-button-settings.js","../../src/ribbon/models/ribbon-checkbox-settings.js","../../src/ribbon/models/ribbon-colorpicker-settings.js","../../src/ribbon/models/ribbon-combobox-settings.js","../../src/ribbon/models/ribbon-dropdown-settings.js","../../src/ribbon/models/ribbon-splitbutton-settings.js","../../src/ribbon/models/ribbon-tooltip.js","../../src/ribbon/models/ribbon-group-button-item.js","../../src/ribbon/models/ribbon-group-button-settings.js","../../src/ribbon/models/ribbon-item.js","../../src/ribbon/models/ribbon-collection.js","../../src/ribbon/models/ribbon-group.js","../../src/ribbon/models/ribbon-tab.js","../../src/ribbon/models/ribbon-file-menu-settings.js","../../src/ribbon/models/ribbon-back-button.js","../../src/ribbon/models/ribbon-backstage-item.js","../../src/ribbon/models/ribbon-back-stage-settings.js","../../src/ribbon/base/constant.js","../../src/ribbon/items/ribbon-button.js","../../src/ribbon/items/ribbon-checkbox.js","../../src/ribbon/items/ribbon-colorpicker.js","../../src/ribbon/items/ribbon-combobox.js","../../src/ribbon/items/ribbon-dropdown.js","../../src/ribbon/items/ribbon-splitbutton.js","../../src/ribbon/items/ribbon-groupbutton.js","../../src/ribbon/base/ribbon.js","../../src/ribbon/modules/ribbon-filemenu.js","../../src/ribbon/modules/ribbon-backstage.js","../../src/global.js"],"sourcesContent":["import { compile, getComponent, select, addClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport * as constants from './constant';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Gets index value.\n *\n * @param {Array} arr - Gets the array to find index.\n * @param {boolean} condition - Defines whether index matches with the value.\n * @returns {number} - Gets the index value.\n * @hidden\n */\nexport function getIndex(arr, condition) {\n    for (var i = 0; i < arr.length; i++) {\n        if (condition(arr[parseInt(i.toString(), 10)], i)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Gets template content based on the template property value.\n *\n * @param {string | HTMLElement| Function} template - Template property value.\n * @returns {Function} - Return template function.\n * @hidden\n */\nexport function getTemplateFunction(template) {\n    if (typeof template === 'string') {\n        var content = '';\n        try {\n            var tempEle = select(template);\n            if (tempEle) {\n                //Return innerHTML incase of jsrenderer script else outerHTML\n                content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n            }\n            else {\n                content = template;\n            }\n        }\n        catch (e) {\n            content = template;\n        }\n        return compile(content);\n    }\n    else {\n        /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n        return compile(template);\n    }\n}\n/**\n * Gets the ribbon item\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon item.\n * @hidden\n */\nexport function getItem(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                for (var l = 0; l < collection.items.length; l++) {\n                    var item = collection.items[parseInt(l.toString(), 10)];\n                    if (item.id === id) {\n                        return {\n                            item: item, collection: collection, group: group,\n                            tabIndex: i, groupIndex: j, collectionIndex: k, itemIndex: l\n                        };\n                    }\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon collection.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon collection.\n * @hidden\n */\nexport function getCollection(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                if (collection.id === id) {\n                    return {\n                        collection: collection, group: group,\n                        tabIndex: i, groupIndex: j, collectionIndex: k\n                    };\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon group.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon group.\n * @hidden\n */\nexport function getGroup(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            if (group.id === id) {\n                return {\n                    group: group, tabIndex: i, groupIndex: j\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n * @param {HTMLElement} element - Gets the element to be destroyed.\n * @param {string} moduleName - Gets the module name.\n * @returns {void}\n * @hidden\n */\nexport function destroyControl(element, moduleName) {\n    var control = getComponent(element, moduleName);\n    control.destroy();\n}\n/**\n * Updates common properties.\n *\n * @param {HTMLElement} element - Gets the element to be updated.\n * @param {string} moduleName - Gets the module name.\n * @param {commonProperties} commonProp - Gets the common properties to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateCommonProperty(element, moduleName, commonProp) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(commonProp);\n}\n/**\n * Updates disabled control.\n *\n * @param {HTMLElement} element - Gets the element to be disabled.\n * @param {string} moduleName - Gets the module name.\n * @param {boolean} disable - Defines whether the control to be disabled or not.\n * @returns {void}\n * @hidden\n */\nexport function updateControlDisabled(element, moduleName, disable) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(moduleName === 'combobox' ? { enabled: !disable } : { disabled: disable });\n}\n/**\n * Gets the ribbon item element.\n *\n * @param {Ribbon} parent - Gets the parent element.\n * @param {string} id - Gets the ID of the item.\n * @param {itemProps} itemProp - Gets the ribbon item.\n * @returns {HTMLElement} - Gets the ribbon item element.\n * @hidden\n */\nexport function getItemElement(parent, id, itemProp) {\n    if (!itemProp) {\n        itemProp = getItem(parent.tabs, id);\n        if (!itemProp) {\n            return null;\n        }\n    }\n    var contentEle = parent.tabObj.items[itemProp.tabIndex].content;\n    if (contentEle.innerHTML === '') {\n        return null;\n    }\n    if (parent.activeLayout === RibbonLayout.Classic) {\n        if (itemProp.item.displayOptions & DisplayMode.Classic) {\n            contentEle = (itemProp.group.isCollapsed) ? parent.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle)\n                : contentEle;\n            return contentEle.querySelector('#' + id);\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n        var ele = (itemProp.item.displayOptions & DisplayMode.Simplified) ?\n            contentEle.querySelector('#' + itemProp.item.id) : null;\n        // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n        if (!ele) {\n            var dropdown = itemProp.group.enableGroupOverflow ?\n                getComponent(contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID), DropDownButton)\n                : parent.overflowDDB;\n            ele = dropdown.target.querySelector('#' + itemProp.item.id);\n        }\n        return ele;\n    }\n}\n/**\n * @param {RibbonTooltipModel} tooltip - Gets the property of tooltip.\n * @returns {boolean} - Gets whether the tooltip is present or not.\n * @hidden\n */\nexport function isTooltipPresent(tooltip) {\n    return (tooltip.content || tooltip.iconCss || tooltip.title || tooltip.id || tooltip.cssClass) ? true : false;\n}\n/**\n * Sets content for tooltip.\n *\n * @param {TooltipEventArgs} args - Gets the argument of tooltip.\n * @param {Tooltip} tooltip - Gets the tooltip to set the content.\n * @param {ribbonTooltipData} tooltipData - Gets the tooltip data.\n * @returns {void}\n * @hidden\n */\nexport function setToolTipContent(args, tooltip, tooltipData) {\n    var targetId = args.target.getAttribute('id');\n    var dataObj = tooltipData.filter(function (e) { return e.id === targetId; })[0];\n    var data = dataObj.data;\n    var content = tooltip.createElement('div', {\n        id: data.id ? constants.RIBBON_TOOLTIP_CONTAINER + '_' + data.id : constants.RIBBON_TOOLTIP_CONTAINER\n    });\n    tooltip.element.append(content);\n    if (data.title) {\n        var header = tooltip.createElement('div', {\n            innerHTML: data.title,\n            className: constants.RIBBON_TOOLTIP_TITLE\n        });\n        content.appendChild(header);\n    }\n    var textContainer = tooltip.createElement('div', {\n        className: constants.RIBBON_TEXT_CONTAINER\n    });\n    content.appendChild(textContainer);\n    if (data.iconCss) {\n        var customCss = tooltip.createElement('div', {\n            className: data.iconCss + ' ' + constants.RIBBON_TOOLTIP_ICON\n        });\n        textContainer.appendChild(customCss);\n    }\n    if (data.content) {\n        var tooltipContent = tooltip.createElement('div', {\n            innerHTML: data.content,\n            className: constants.RIBBON_TOOLTIP_CONTENT\n        });\n        textContainer.appendChild(tooltipContent);\n    }\n    tooltip.setProperties({\n        content: content,\n        cssClass: data.cssClass ? data.cssClass + ' ' + constants.RIBBON_TOOLTIP : constants.RIBBON_TOOLTIP\n    });\n}\n/**\n * Creates tooltip.\n *\n * @param {HTMLElement} element - Gets the element to add tooltip.\n * @param {Ribbon} ribbon - Gets the ribbon.\n * @returns {void}\n * @hidden\n */\nexport function createTooltip(element, ribbon) {\n    var ribbonTooltip = new Tooltip({\n        target: '.' + constants.RIBBON_TOOLTIP_TARGET,\n        beforeRender: beforeTooltipRender.bind(this),\n        windowCollision: true\n    });\n    ribbonTooltip.appendTo(element);\n    /**\n     * @param {TooltipEventArgs} args - Gets the tooltip argument.\n     * @returns {void}\n     * @hidden\n     */\n    function beforeTooltipRender(args) {\n        setToolTipContent(args, ribbonTooltip, ribbon.tooltipData);\n    }\n}\n/**\n * Destroys tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be destroyed.\n * @returns {void}\n * @hidden\n */\nexport function destroyTooltip(element) {\n    var control = getComponent(element, Tooltip);\n    control.destroy();\n}\n/**\n * Updates tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be Updated.\n * @param {commonProperties} prop - Gets the property to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateTooltipProp(element, prop) {\n    var control = getComponent(element, Tooltip);\n    control.setProperties(prop);\n}\n/**\n * Sets the HTML attributes of an element\n *\n * @param {HTMLElement} element - The HTML element for which attributes are to be updated.\n * @param {commonProperties} attributes - An object containing key-value pairs of attributes to be updated.\n * @returns {void}\n * @hidden\n */\nexport function setCustomAttributes(element, attributes) {\n    for (var key in attributes) {\n        if (key === 'class') {\n            var elementClass = attributes['class'].replace(/\\s+/g, ' ').trim();\n            if (elementClass) {\n                addClass([element], elementClass.split(' '));\n            }\n        }\n        else if (key === 'style') {\n            var prevStyles = element.getAttribute('style') || '';\n            var value = \"\" + prevStyles + attributes[\"\" + key];\n            element.setAttribute(\"\" + key, value);\n        }\n        else {\n            element.setAttribute(key, attributes[\"\" + key]);\n        }\n    }\n}\n","/**\n * Defines the layout types of ribbon.\n */\nexport var RibbonLayout;\n(function (RibbonLayout) {\n    /**\n     * Displays the ribbon tab content in classic layout.\n     */\n    RibbonLayout[\"Classic\"] = \"Classic\";\n    /**\n     * Displays the ribbon tab content in simplified layout.\n     */\n    RibbonLayout[\"Simplified\"] = \"Simplified\";\n})(RibbonLayout || (RibbonLayout = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var ItemOrientation;\n(function (ItemOrientation) {\n    /**\n     * Displays the collection of items in rows.\n     */\n    ItemOrientation[\"Row\"] = \"Row\";\n    /**\n     * Displays the collection of items in column.\n     */\n    ItemOrientation[\"Column\"] = \"Column\";\n})(ItemOrientation || (ItemOrientation = {}));\n/**\n * Defines the current size of the ribbon item in normal mode.\n *\n * @aspNumberEnum\n */\nexport var RibbonItemSize;\n(function (RibbonItemSize) {\n    /**\n     * The item appears with large icon and text at the bottom.\n     */\n    RibbonItemSize[RibbonItemSize[\"Large\"] = 4] = \"Large\";\n    /**\n     * The item appears with small icon and text at the right.\n     */\n    RibbonItemSize[RibbonItemSize[\"Medium\"] = 2] = \"Medium\";\n    /**\n     * The item appears with small icon only.\n     */\n    RibbonItemSize[RibbonItemSize[\"Small\"] = 1] = \"Small\";\n})(RibbonItemSize || (RibbonItemSize = {}));\n/**\n * Defines how to show an item in ribbon simplified layout.\n *\n * @aspNumberEnum\n */\nexport var DisplayMode;\n(function (DisplayMode) {\n    /**\n     * The item appears in the classic layout group.\n     */\n    DisplayMode[DisplayMode[\"Classic\"] = 4] = \"Classic\";\n    /**\n     * The item appears in the simplified layout group.\n     */\n    DisplayMode[DisplayMode[\"Simplified\"] = 2] = \"Simplified\";\n    /**\n     * The item appears in overflow popup.\n     */\n    DisplayMode[DisplayMode[\"Overflow\"] = 1] = \"Overflow\";\n    /**\n     * The item appears in classic layout group, simplified layout group, and overflow popup based on ribbon overflow state.\n     */\n    DisplayMode[DisplayMode[\"Auto\"] = 7] = \"Auto\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Defines the type of the ribbon item.\n */\nexport var RibbonItemType;\n(function (RibbonItemType) {\n    /**\n     * Renders button as ribbon item.\n     */\n    RibbonItemType[\"Button\"] = \"Button\";\n    /**\n     * Renders checkbox as ribbon item.\n     */\n    RibbonItemType[\"CheckBox\"] = \"CheckBox\";\n    /**\n     * Renders color picker as ribbon item.\n     */\n    RibbonItemType[\"ColorPicker\"] = \"ColorPicker\";\n    /**\n     * Renders combobox as ribbon item.\n     */\n    RibbonItemType[\"ComboBox\"] = \"ComboBox\";\n    /**\n     * Renders dropdownbutton as ribbon item.\n     */\n    RibbonItemType[\"DropDown\"] = \"DropDown\";\n    /**\n     * Renders splitbutton as ribbon item.\n     */\n    RibbonItemType[\"SplitButton\"] = \"SplitButton\";\n    /**\n     * Renders the group button content as ribbon item.\n     */\n    RibbonItemType[\"GroupButton\"] = \"GroupButton\";\n    /**\n     * Renders the template content as ribbon item.\n     */\n    RibbonItemType[\"Template\"] = \"Template\";\n})(RibbonItemType || (RibbonItemType = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var RibbonGroupButtonSelection;\n(function (RibbonGroupButtonSelection) {\n    /**\n     * Allows selecting single button from button group.\n     */\n    RibbonGroupButtonSelection[\"Single\"] = \"Single\";\n    /**\n     * Allows selecting multiple buttons from button group.\n     */\n    RibbonGroupButtonSelection[\"Multiple\"] = \"Multiple\";\n})(RibbonGroupButtonSelection || (RibbonGroupButtonSelection = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon button item.\n */\nvar RibbonButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonButtonSettings, _super);\n    function RibbonButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of button.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonButtonSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"clicked\", void 0);\n    return RibbonButtonSettings;\n}(ChildProperty));\nexport { RibbonButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon checkbox item.\n */\nvar RibbonCheckBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonCheckBoxSettings, _super);\n    function RibbonCheckBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of checkbox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCheckBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonCheckBoxSettings.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RibbonCheckBoxSettings.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonCheckBoxSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"change\", void 0);\n    return RibbonCheckBoxSettings;\n}(ChildProperty));\nexport { RibbonCheckBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon color picker.\n */\nvar RibbonColorPickerSettings = /** @class */ (function (_super) {\n    __extends(RibbonColorPickerSettings, _super);\n    function RibbonColorPickerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of colorpicker.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonColorPickerSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(10)\n    ], RibbonColorPickerSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonColorPickerSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property('Picker')\n    ], RibbonColorPickerSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonColorPickerSettings.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonColorPickerSettings.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property('#008000ff')\n    ], RibbonColorPickerSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonColorPickerSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"select\", void 0);\n    return RibbonColorPickerSettings;\n}(ChildProperty));\nexport { RibbonColorPickerSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '@syncfusion/ej2-dropdowns';\n/**\n * Defines the ribbon combobox item.\n */\nvar RibbonComboBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonComboBoxSettings, _super);\n    function RibbonComboBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of combobox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonComboBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonComboBoxSettings.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"autofill\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonComboBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], RibbonComboBoxSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], RibbonComboBoxSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('Contains')\n    ], RibbonComboBoxSettings.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"index\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], RibbonComboBoxSettings.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], RibbonComboBoxSettings.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], RibbonComboBoxSettings.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property('None')\n    ], RibbonComboBoxSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property('150px')\n    ], RibbonComboBoxSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonComboBoxSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"select\", void 0);\n    return RibbonComboBoxSettings;\n}(ChildProperty));\nexport { RibbonComboBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon DropDownButton item.\n */\nvar RibbonDropDownSettings = /** @class */ (function (_super) {\n    __extends(RibbonDropDownSettings, _super);\n    function RibbonDropDownSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonDropDownSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonDropDownSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonDropDownSettings.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonDropDownSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"select\", void 0);\n    return RibbonDropDownSettings;\n}(ChildProperty));\nexport { RibbonDropDownSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon SplitButton item.\n */\nvar RibbonSplitButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonSplitButtonSettings, _super);\n    function RibbonSplitButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonSplitButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonSplitButtonSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"target\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonSplitButtonSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"select\", void 0);\n    return RibbonSplitButtonSettings;\n}(ChildProperty));\nexport { RibbonSplitButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon tooltip.\n */\nvar RibbonTooltip = /** @class */ (function (_super) {\n    __extends(RibbonTooltip, _super);\n    function RibbonTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"title\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"iconCss\", void 0);\n    return RibbonTooltip;\n}(ChildProperty));\nexport { RibbonTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon group button settings.\n */\nvar RibbonGroupButtonItem = /** @class */ (function (_super) {\n    __extends(RibbonGroupButtonItem, _super);\n    function RibbonGroupButtonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonGroupButtonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroupButtonItem.prototype, \"selected\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonGroupButtonItem.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGroupButtonItem.prototype, \"beforeClick\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGroupButtonItem.prototype, \"click\", void 0);\n    return RibbonGroupButtonItem;\n}(ChildProperty));\nexport { RibbonGroupButtonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroupButtonItem } from './ribbon-group-button-item';\n/**\n * Defines the ribbon group button settings.\n */\nvar RibbonGroupButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonGroupButtonSettings, _super);\n    function RibbonGroupButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Single')\n    ], RibbonGroupButtonSettings.prototype, \"selection\", void 0);\n    __decorate([\n        Collection([], RibbonGroupButtonItem)\n    ], RibbonGroupButtonSettings.prototype, \"items\", void 0);\n    return RibbonGroupButtonSettings;\n}(ChildProperty));\nexport { RibbonGroupButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Complex, Property } from '@syncfusion/ej2-base';\nimport { RibbonItemSize, DisplayMode } from '../base/interface';\nimport { RibbonButtonSettings } from './ribbon-button-settings';\nimport { RibbonCheckBoxSettings } from './ribbon-checkbox-settings';\nimport { RibbonColorPickerSettings } from './ribbon-colorpicker-settings';\nimport { RibbonComboBoxSettings } from './ribbon-combobox-settings';\nimport { RibbonDropDownSettings } from './ribbon-dropdown-settings';\nimport { RibbonSplitButtonSettings } from './ribbon-splitbutton-settings';\nimport { RibbonTooltip } from './ribbon-tooltip';\nimport { RibbonGroupButtonSettings } from './ribbon-group-button-settings';\n/**\n * Defines the ribbon item.\n */\nvar RibbonItem = /** @class */ (function (_super) {\n    __extends(RibbonItem, _super);\n    function RibbonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of item.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonItem.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(RibbonItemSize.Medium)\n    ], RibbonItem.prototype, \"activeSize\", void 0);\n    __decorate([\n        Property(RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n    ], RibbonItem.prototype, \"allowedSizes\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Button')\n    ], RibbonItem.prototype, \"type\", void 0);\n    __decorate([\n        Property(DisplayMode.Auto)\n    ], RibbonItem.prototype, \"displayOptions\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonButtonSettings)\n    ], RibbonItem.prototype, \"buttonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonDropDownSettings)\n    ], RibbonItem.prototype, \"dropDownSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonCheckBoxSettings)\n    ], RibbonItem.prototype, \"checkBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonColorPickerSettings)\n    ], RibbonItem.prototype, \"colorPickerSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonComboBoxSettings)\n    ], RibbonItem.prototype, \"comboBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonSplitButtonSettings)\n    ], RibbonItem.prototype, \"splitButtonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonGroupButtonSettings)\n    ], RibbonItem.prototype, \"groupButtonSettings\", void 0);\n    return RibbonItem;\n}(ChildProperty));\nexport { RibbonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonItem } from './ribbon-item';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCollection = /** @class */ (function (_super) {\n    __extends(RibbonCollection, _super);\n    function RibbonCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of collection.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCollection.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonItem)\n    ], RibbonCollection.prototype, \"items\", void 0);\n    return RibbonCollection;\n}(ChildProperty));\nexport { RibbonCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonCollection } from './ribbon-collection';\n/**\n * Defines the ribbon group.\n */\nvar RibbonGroup = /** @class */ (function (_super) {\n    __extends(RibbonGroup, _super);\n    function RibbonGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Group.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonGroup.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Collection([], RibbonCollection)\n    ], RibbonGroup.prototype, \"collections\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"isCollapsed\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonGroup.prototype, \"isCollapsible\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"enableGroupOverflow\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"groupIconCss\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"header\", void 0);\n    __decorate([\n        Property('Column')\n    ], RibbonGroup.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(0)\n    ], RibbonGroup.prototype, \"priority\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"showLauncherIcon\", void 0);\n    return RibbonGroup;\n}(ChildProperty));\nexport { RibbonGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroup } from './ribbon-group';\n/**\n * Defines the ribbon tab.\n */\nvar RibbonTab = /** @class */ (function (_super) {\n    __extends(RibbonTab, _super);\n    function RibbonTab() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of tab.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonTab.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonGroup)\n    ], RibbonTab.prototype, \"groups\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"header\", void 0);\n    return RibbonTab;\n}(ChildProperty));\nexport { RibbonTab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { MenuAnimationSettings, MenuItem } from '@syncfusion/ej2-navigations';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar FileMenuSettings = /** @class */ (function (_super) {\n    __extends(FileMenuSettings, _super);\n    function FileMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of FileMenu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    FileMenuSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], FileMenuSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], FileMenuSettings.prototype, \"menuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Complex({}, MenuAnimationSettings)\n    ], FileMenuSettings.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"popupTemplate\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], FileMenuSettings.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"select\", void 0);\n    return FileMenuSettings;\n}(ChildProperty));\nexport { FileMenuSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon backstage back button.\n */\nvar BackstageBackButton = /** @class */ (function (_super) {\n    __extends(BackstageBackButton, _super);\n    function BackstageBackButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BackstageBackButton.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageBackButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(true)\n    ], BackstageBackButton.prototype, \"visible\", void 0);\n    return BackstageBackButton;\n}(ChildProperty));\nexport { BackstageBackButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon backstage back button.\n */\nvar BackstageItem = /** @class */ (function (_super) {\n    __extends(BackstageItem, _super);\n    function BackstageItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], BackstageItem.prototype, \"separator\", void 0);\n    __decorate([\n        Property(false)\n    ], BackstageItem.prototype, \"isFooter\", void 0);\n    __decorate([\n        Event()\n    ], BackstageItem.prototype, \"backStageItemClick\", void 0);\n    return BackstageItem;\n}(ChildProperty));\nexport { BackstageItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex, Collection } from '@syncfusion/ej2-base';\nimport { BackstageBackButton } from './ribbon-back-button';\nimport { BackstageItem } from './ribbon-backstage-item';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar BackStageMenu = /** @class */ (function (_super) {\n    __extends(BackStageMenu, _super);\n    function BackStageMenu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Backstage Menu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    BackStageMenu.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], BackStageMenu.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], BackStageMenu.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], BackStageMenu.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], BackStageMenu.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], BackStageMenu.prototype, \"target\", void 0);\n    __decorate([\n        Complex({}, BackstageBackButton)\n    ], BackStageMenu.prototype, \"backButton\", void 0);\n    __decorate([\n        Collection([], BackstageItem)\n    ], BackStageMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], BackStageMenu.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], BackStageMenu.prototype, \"ribbonTooltipSettings\", void 0);\n    return BackStageMenu;\n}(ChildProperty));\nexport { BackStageMenu };\n","/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nexport var ITEM_VERTICAL_CENTER = 'e-ribbon-vertical-center';\n/** @hidden */\nexport var EXPAND_COLLAPSE_ICON = 'e-icons e-drop-icon';\n/** @hidden */\nexport var BACKSTAGE_CLOSE_ICON = 'e-icons e-arrow-left';\n/** @hidden */\nexport var OVERFLOW_ICON = 'e-icons e-more-horizontal-1';\n/** @hidden */\nexport var VERTICAL_DDB = 'e-vertical';\n/** @hidden */\nexport var DISABLED_CSS = 'e-disabled';\n/** @hidden */\nexport var RTL_CSS = 'e-rtl';\n/** @hidden */\nexport var RIBBON_HOVER = 'e-ribbon-hover';\n/** @hidden */\nexport var RIBBON_CONTROL = 'e-ribbon-control';\n/** @hidden */\nexport var RIBBON_POPUP_CONTROL = 'e-ribbon-popup-control';\n/** @hidden */\nexport var RIBBON_POPUP_OPEN = 'e-ribbon-open';\n/** @hidden */\nexport var SPACE = ' ';\n/** @hidden */\nexport var HORIZONTAL_SCROLLBAR = 'e-hscroll-bar';\n/** @hidden */\nexport var HIDE_CSS = 'e-ribbon-hide';\n/** @hidden */\nexport var RIBBON_TAB = 'e-ribbon-tab';\n/** @hidden */\nexport var RIBBON_TAB_ACTIVE = 'e-ribbon-active';\n/** @hidden */\nexport var RIBBON_TAB_ITEM = 'e-ribbon-tab-item';\n/** @hidden */\nexport var RIBBON_COLLAPSE_BUTTON = 'e-ribbon-collapse-btn';\n/** @hidden */\nexport var RIBBON_EXPAND_BUTTON = 'e-ribbon-expand-btn';\n/** @hidden */\nexport var RIBBON_COLLAPSIBLE = 'e-ribbon-collapsible';\n/** @hidden */\nexport var RIBBON_OVERALL_OF_BUTTON = 'e-ribbon-overall-of-btn';\n/** @hidden */\nexport var RIBBON_GROUP_OF_BUTTON = 'e-ribbon-group-of-btn';\n/** @hidden */\nexport var RIBBON_OVERFLOW_TARGET = 'e-ribbon-overflow-target';\n/** @hidden */\nexport var RIBBON_OVERFLOW = 'e-ribbon-overflow';\n/** @hidden */\nexport var TAB_CONTENT = 'e-content';\n/** @hidden */\nexport var RIBBON_MINIMIZE = 'e-ribbon-minimize';\n/** @hidden */\nexport var RIBBON_GROUP = 'e-ribbon-group';\n/** @hidden */\nexport var RIBBON_SINGLE_BUTTON_SELECTION = 'e-ribbon-single-selection';\n/** @hidden */\nexport var RIBBON_MULTIPLE_BUTTON_SELECTION = 'e-ribbon-multiple-selection';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON = 'e-ribbon-group-button';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_OVERFLOW_POPUP = 'e-ribbon-group-button-overflow-popup';\n/** @hidden */\nexport var RIBBON_GROUP_CONTAINER = 'e-ribbon-group-container';\n/** @hidden */\nexport var RIBBON_OF_TAB_CONTAINER = 'e-ribbon-of-tab';\n/** @hidden */\nexport var RIBBON_OF_GROUP_CONTAINER = 'e-ribbon-of-group-container';\n/** @hidden */\nexport var RIBBON_GROUP_CONTENT = 'e-ribbon-group-content';\n/** @hidden */\nexport var RIBBON_GROUP_HEADER = 'e-ribbon-group-header';\n/** @hidden */\nexport var RIBBON_OVERFLOW_HEADER = 'e-ribbon-overflow-header';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW = 'e-ribbon-group-overflow';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW_DDB = 'e-ribbon-group-overflow-ddb';\n/** @hidden */\nexport var RIBBON_LAUNCHER = 'e-ribbon-launcher';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON_ELE = 'e-ribbon-launcher-icon';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON = 'e-icons e-launcher';\n/** @hidden */\nexport var RIBBON_COLLECTION = 'e-ribbon-collection';\n/** @hidden */\nexport var RIBBON_ITEM = 'e-ribbon-item';\n/** @hidden */\nexport var RIBBON_ROW = 'e-ribbon-row';\n/** @hidden */\nexport var RIBBON_COLUMN = 'e-ribbon-column';\n/** @hidden */\nexport var RIBBON_LARGE_ITEM = 'e-ribbon-large-item';\n/** @hidden */\nexport var RIBBON_MEDIUM_ITEM = 'e-ribbon-medium-item';\n/** @hidden */\nexport var RIBBON_SMALL_ITEM = 'e-ribbon-small-item';\n/** @hidden */\nexport var RIBBON_CONTENT_HEIGHT = 'e-ribbon-content-height';\n/** @hidden */\nexport var DROPDOWNBUTTON = 'e-dropdown-btn';\n/** @hidden */\nexport var DROPDOWNBUTTON_HIDE = 'e-caret-hide';\n/** @hidden */\nexport var RIBBON_TEMPLATE = 'e-ribbon-template';\n/** @hidden */\nexport var RIBBON_HELP_TEMPLATE = 'e-ribbon-help-template';\n/** @hidden */\nexport var RIBBON_TOOLTIP = 'e-ribbon-tooltip';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TARGET = 'e-ribbon-tooltip-target';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TITLE = 'e-ribbon-tooltip-title';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTENT = 'e-ribbon-tooltip-content';\n/** @hidden */\nexport var RIBBON_TOOLTIP_ICON = 'e-ribbon-tooltip-icon';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTAINER = 'e-ribbon-tooltip-container';\n/** @hidden */\nexport var RIBBON_TEXT_CONTAINER = 'e-ribbon-text-container';\n/** @hidden */\nexport var RIBBON_SIMPLIFIED_MODE = 'e-ribbon-simplified-mode';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_POPUP = 'e-ribbon-backstage-popup';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_OPEN = 'e-ribbon-backstage-open';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_CONTENT = 'e-ribbon-backstage-content';\n/** @hidden */\nexport var RIBBON_SELECTED_CONTENT = 'e-ribbon-selected-content';\n/** @hidden */\nexport var RIBBON_BACKSTAGE = 'e-ribbon-backstage';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU = 'e-ribbon-backstage-menu';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_TEMPLATE = 'e-ribbon-backstage-template';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU_WRAPPER = 'e-ribbon-backstage-wrapper';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_ITEMS_WRAPPER = 'e-ribbon-backstage-items-wrapper';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_TEXT_MENU = 'e-blankicon';\n/** @hidden */\nexport var TAB_ID = '_tab';\n/** @hidden */\nexport var GROUP_ID = '_group';\n/** @hidden */\nexport var COLLECTION_ID = '_collection';\n/** @hidden */\nexport var ITEM_ID = '_item';\n/** @hidden */\nexport var COLLAPSE_BUTTON_ID = '_collapsebutton';\n/** @hidden */\nexport var OVRLOF_BUTTON_ID = '_sim_ovrl_overflow';\n/** @hidden */\nexport var GROUPOF_BUTTON_ID = '_sim_grp_overflow';\n/** @hidden */\nexport var HEADER_ID = '_header';\n/** @hidden */\nexport var LAUNCHER_ID = '_launcher';\n/** @hidden */\nexport var CONTENT_ID = '_content';\n/** @hidden */\nexport var CONTAINER_ID = '_container';\n/** @hidden */\nexport var OVERFLOW_ID = '_overflow';\n/** @hidden */\nexport var DROPDOWN_ID = '_dropdown';\n/** @hidden */\nexport var RIBBON_FILE_MENU_ID = '_filemenu';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU_ID = '_backstage';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_POPUP_ID = '_backstagepopup';\n/** @hidden */\nexport var RIBBON_FILE_MENU_LIST = '_filemenulist';\n/** @hidden */\nexport var RIBBON_MENU_LIST = '_menulist';\n/** @hidden */\nexport var RIBBON_FOOTER_MENU_LIST = '_footermenulist';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_ID = '_helppanetemplate';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_ID = '_grpbtn';\n/** @hidden */\nexport var RIBBON_FILE_MENU_WIDTH = '--fileMenuWidth';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_WIDTH = '--helpTemplateWidth';\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RibbonItemSize, setCustomAttributes } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_POPUP_CONTROL, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonButton = /** @class */ (function () {\n    function RibbonButton(parent) {\n        this.parent = parent;\n    }\n    RibbonButton.prototype.getModuleName = function () {\n        return 'ribbonButton';\n    };\n    RibbonButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates button.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.createButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var btnSettings = item.buttonSettings;\n        new Button({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            iconCss: btnSettings.iconCss,\n            disabled: item.disabled,\n            cssClass: (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (btnSettings.cssClass ? btnSettings.cssClass : '')).trim(),\n            content: item.activeSize === RibbonItemSize.Small ? '' : btnSettings.content,\n            isPrimary: btnSettings.isPrimary,\n            isToggle: btnSettings.isToggle,\n            created: btnSettings.created\n        }, buttonEle);\n        if (btnSettings.htmlAttributes) {\n            setCustomAttributes(buttonEle, btnSettings.htmlAttributes);\n        }\n        buttonEle.onclick = function (e) {\n            if (btnSettings.clicked) {\n                btnSettings.clicked.call(_this, e);\n            }\n        };\n        buttonEle.setAttribute('aria-label', btnSettings.content);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        buttonEle.setAttribute('data-control', item.type.toString());\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.setProperties({ cssClass: buttonObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        var buttonObj = getComponent(buttonEle, Button);\n        var cssClass = buttonObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        buttonObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the button.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonButton.prototype.click = function (controlId) {\n        var buttonEle = getItemElement(this.parent, controlId);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.click();\n    };\n    /**\n     * Updates the button properties.\n     *\n     * @param {RibbonButtonSettingsModel} prop - Gets the button property.\n     * @param {string} id - Gets the ID of button item.\n     * @returns {void}\n     */\n    RibbonButton.prototype.updateButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.buttonSettings, prop);\n        var buttonEle = getItemElement(this.parent, id, itemProp);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        if (prop.isToggle) {\n            buttonEle.classList.add('e-active');\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n            buttonEle.setAttribute('aria-label', prop.content);\n        }\n        delete prop.clicked;\n        buttonObj.setProperties(prop);\n    };\n    /**\n     * Updates the button size.\n     *\n     * @param {HTMLElement} element - Gets the button element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.updateButtonSize = function (element, item) {\n        var buttonObj = getComponent(element, Button);\n        buttonObj.setProperties({\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            content: item.activeSize === RibbonItemSize.Small ? '' : item.buttonSettings.content\n        });\n    };\n    return RibbonButton;\n}());\nexport { RibbonButton };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCheckBox = /** @class */ (function () {\n    function RibbonCheckBox(parent) {\n        this.parent = parent;\n    }\n    RibbonCheckBox.prototype.getModuleName = function () {\n        return 'ribbonCheckBox';\n    };\n    RibbonCheckBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the check box.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.createCheckBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var checkBoxSettings = item.checkBoxSettings;\n        new CheckBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            checked: checkBoxSettings.checked,\n            cssClass: (RIBBON_CONTROL + SPACE + (checkBoxSettings.cssClass ? checkBoxSettings.cssClass : '')).trim(),\n            label: checkBoxSettings.label,\n            labelPosition: checkBoxSettings.labelPosition,\n            disabled: item.disabled,\n            created: checkBoxSettings.created,\n            htmlAttributes: checkBoxSettings.htmlAttributes,\n            change: function (e) {\n                if (checkBoxSettings.change) {\n                    checkBoxSettings.change.call(_this, e);\n                }\n            }\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.cssClass = checkBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        var cssClass = checkBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        checkBoxObj.cssClass = cssClass.join(SPACE);\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the Checkbox.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.click = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        if (!inputEle) {\n            return;\n        }\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.click();\n    };\n    /**\n     * Updates the checkbox.\n     *\n     * @param {RibbonCheckBoxSettingsModel} prop - Gets the checkbox property.\n     * @param {string} id - Gets the ID of checkbox.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.updateCheckBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.change;\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.setProperties(prop);\n    };\n    return RibbonCheckBox;\n}());\nexport { RibbonCheckBox };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { getItem, getItemElement, setCustomAttributes } from '../base/index';\nimport { RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonColorPicker = /** @class */ (function () {\n    function RibbonColorPicker(parent) {\n        this.parent = parent;\n    }\n    RibbonColorPicker.prototype.getModuleName = function () {\n        return 'ribbonColorPicker';\n    };\n    RibbonColorPicker.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the colorpicker.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.createColorPicker = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var colorPickerSettings = item.colorPickerSettings;\n        var colorPicker = new ColorPicker({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            columns: colorPickerSettings.columns,\n            cssClass: (RIBBON_CONTROL + SPACE + (colorPickerSettings.cssClass ? colorPickerSettings.cssClass : '')).trim(),\n            disabled: item.disabled,\n            enableOpacity: colorPickerSettings.enableOpacity,\n            mode: colorPickerSettings.mode,\n            modeSwitcher: colorPickerSettings.modeSwitcher,\n            noColor: colorPickerSettings.noColor,\n            presetColors: colorPickerSettings.presetColors,\n            showButtons: colorPickerSettings.showButtons,\n            value: colorPickerSettings.value,\n            beforeClose: function () {\n                colorPicker.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.beforeClose) {\n                    colorPickerSettings.beforeClose.call(_this);\n                }\n            },\n            beforeOpen: colorPickerSettings.beforeOpen,\n            beforeTileRender: colorPickerSettings.beforeTileRender,\n            created: colorPickerSettings.created,\n            change: colorPickerSettings.change,\n            open: function () {\n                colorPicker.element.parentElement.classList.add(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.open) {\n                    colorPickerSettings.open.call(_this);\n                }\n            },\n            select: colorPickerSettings.select\n        }, inputEle);\n        if (colorPickerSettings.htmlAttributes) {\n            setCustomAttributes(inputEle, colorPickerSettings.htmlAttributes);\n        }\n        var wrapper = colorPicker.element.parentElement;\n        EventHandler.add(wrapper, 'mouseenter', this.toggleWrapperHover.bind(this, wrapper, true), this);\n        EventHandler.add(wrapper, 'mouseleave', this.toggleWrapperHover.bind(this, wrapper, false), this);\n    };\n    RibbonColorPicker.prototype.toggleWrapperHover = function (wrapper, isAdd) {\n        if (isAdd) {\n            wrapper.classList.add(RIBBON_HOVER);\n        }\n        else {\n            wrapper.classList.remove(RIBBON_HOVER);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        colorPickerEle.setAttribute('data-control', item.type.toString());\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        colorPickerObj.setProperties({ cssClass: colorPickerObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        var splitBtn = colorPickerObj['splitBtn'];\n        var target;\n        colorPickerObj.beforeClose = function (e) {\n            target = e.event ? e.event.target : null;\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n        splitBtn.close = function () {\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        var cssClass = colorPickerObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        colorPickerObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        var splitBtn = colorPickerObj['splitBtn'];\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        splitBtn.close = null;\n        colorPickerObj.beforeClose = function () {\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n    };\n    RibbonColorPicker.prototype.getColorPickerObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ColorPicker) : null;\n    };\n    /**\n     * Gets color value in specified type.\n     *\n     * @param {string} controlId -Gets the control ID.\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @returns {string} - Returns string.\n     */\n    RibbonColorPicker.prototype.getValue = function (controlId, value, type) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        return colorPickerObj ? colorPickerObj.getValue(value, type) : '';\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - set the id of the control.\n     * @returns {void} - Returns void.\n     */\n    RibbonColorPicker.prototype.toggle = function (controlId) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        if (!colorPickerObj) {\n            return;\n        }\n        colorPickerObj.toggle();\n    };\n    /**\n     * Updates the colorpicker properties.\n     *\n     * @param {RibbonColorPickerSettingsModel} prop - Gets the colorpicker property.\n     * @param {string} id - Gets the ID of colorpicker.\n     * @returns {void}\n     */\n    RibbonColorPicker.prototype.updateColorPicker = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.beforeClose;\n        delete prop.open;\n        var colorPickerObj = getComponent(inputEle, ColorPicker);\n        colorPickerObj.setProperties(prop);\n    };\n    /**\n     * @param {HTMLElement} element - Gets the colorpicker element to be destroyed.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.unwireColorPickerEvents = function (element) {\n        var colorPickerObj = getComponent(element, ColorPicker);\n        var wrapper = colorPickerObj.element.parentElement;\n        EventHandler.remove(wrapper, 'mouseenter', this.toggleWrapperHover);\n        EventHandler.remove(wrapper, 'mouseleave', this.toggleWrapperHover);\n    };\n    return RibbonColorPicker;\n}());\nexport { RibbonColorPicker };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonComboBox = /** @class */ (function () {\n    function RibbonComboBox(parent) {\n        this.parent = parent;\n    }\n    RibbonComboBox.prototype.getModuleName = function () {\n        return 'ribbonComboBox';\n    };\n    RibbonComboBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the combobox.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.createComboBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var comboBoxSettings = item.comboBoxSettings;\n        new ComboBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            allowCustom: false,\n            floatLabelType: 'Never',\n            ignoreAccent: true,\n            ignoreCase: true,\n            allowFiltering: comboBoxSettings.allowFiltering,\n            autofill: comboBoxSettings.autofill,\n            cssClass: (RIBBON_CONTROL + SPACE + (comboBoxSettings.cssClass ? comboBoxSettings.cssClass : '')).trim(),\n            dataSource: comboBoxSettings.dataSource,\n            enabled: !item.disabled,\n            fields: comboBoxSettings.fields,\n            filterType: comboBoxSettings.filterType,\n            footerTemplate: comboBoxSettings.footerTemplate,\n            groupTemplate: comboBoxSettings.groupTemplate,\n            headerTemplate: comboBoxSettings.headerTemplate,\n            index: comboBoxSettings.index,\n            itemTemplate: comboBoxSettings.itemTemplate,\n            noRecordsTemplate: comboBoxSettings.noRecordsTemplate,\n            placeholder: comboBoxSettings.placeholder,\n            popupHeight: comboBoxSettings.popupHeight,\n            popupWidth: comboBoxSettings.popupWidth,\n            showClearButton: comboBoxSettings.showClearButton,\n            sortOrder: comboBoxSettings.sortOrder,\n            text: comboBoxSettings.text,\n            value: comboBoxSettings.value,\n            width: comboBoxSettings.width,\n            beforeOpen: comboBoxSettings.beforeOpen,\n            open: comboBoxSettings.open,\n            htmlAttributes: comboBoxSettings.htmlAttributes,\n            close: function (e) {\n                if (comboBoxSettings.close) {\n                    comboBoxSettings.close.call(_this, e);\n                }\n            },\n            filtering: comboBoxSettings.filtering,\n            change: comboBoxSettings.change,\n            select: comboBoxSettings.select,\n            created: comboBoxSettings.created\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties({ cssClass: comboBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        comboBoxObj.close = function (e) {\n            var target = e.event ? e.event.target : null;\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        var cssClass = comboBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        comboBoxObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        comboBoxObj.close = function (e) {\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n        };\n    };\n    RibbonComboBox.prototype.getComboBoxObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ComboBox) : null;\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {string } controlId - set the id of the control in which methods needs to be called.\n     * @param  {Object[] } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.filter = function (controlId, dataSource, query, fields) {\n        this.getComboBoxObj(controlId).filter(dataSource, query, fields);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.hidePopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.hidePopup();\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.showPopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.showPopup();\n    };\n    /**\n     * Updates the combobox properties.\n     *\n     * @param {RibbonComboBoxSettingsModel} prop - Gets the combobox property.\n     * @param {string} id - Gets the ID of combobox.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.updateComboBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.comboBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.close;\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties(prop);\n    };\n    return RibbonComboBox;\n}());\nexport { RibbonComboBox };\n","import { closest, getComponent, isNullOrUndefined, merge, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getItem, getItemElement, RibbonItemSize, createTooltip, setCustomAttributes } from '../base/index';\nimport { DROPDOWN_ID, ITEM_VERTICAL_CENTER, OVERFLOW_ID, RIBBON_CONTROL, RIBBON_GROUP_OVERFLOW_DDB, RIBBON_POPUP_CONTROL, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonDropDown = /** @class */ (function () {\n    function RibbonDropDown(parent) {\n        this.parent = parent;\n    }\n    RibbonDropDown.prototype.getModuleName = function () {\n        return 'ribbonDropDown';\n    };\n    RibbonDropDown.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createDropDown = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var dropDownSettings = item.dropDownSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (dropDownSettings.cssClass ?\n            dropDownSettings.cssClass : '')).trim();\n        new DropDownButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: dropDownSettings.closeActionEvents,\n            content: item.activeSize === RibbonItemSize.Small ? '' : dropDownSettings.content,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: dropDownSettings.iconCss,\n            items: dropDownSettings.items,\n            target: dropDownSettings.target,\n            createPopupOnClick: dropDownSettings.createPopupOnClick,\n            beforeClose: function (e) {\n                if (dropDownSettings.beforeClose) {\n                    dropDownSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: dropDownSettings.beforeItemRender,\n            beforeOpen: dropDownSettings.beforeOpen,\n            close: function (e) {\n                if (dropDownSettings.close) {\n                    dropDownSettings.close.call(_this, e);\n                }\n            },\n            created: dropDownSettings.created,\n            open: dropDownSettings.open,\n            select: dropDownSettings.select\n        }).appendTo(buttonEle);\n        if (dropDownSettings.htmlAttributes) {\n            setCustomAttributes(buttonEle, dropDownSettings.htmlAttributes);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        dropdownElement.setAttribute('data-control', item.type.toString());\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        dropdown.cssClass = dropdown.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        dropdown.dataBind();\n        var target;\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var cssClass = dropdown.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        dropdown.cssClass = cssClass.join(SPACE);\n        dropdown.dataBind();\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n        };\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Creates Overflow DropDown.\n     *\n     * @param {string} id - Gets the ID of the dropdown item.\n     * @param {string} name - Gets the name of the dropdown item.\n     * @param {string} iconCss - Gets the icon of the dropdown item.\n     * @param {HTMLElement} groupEle - Gets the overflow group element.\n     * @param {HTMLElement} overflowEle - Gets the overflow element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createOverFlowDropDown = function (id, name, iconCss, groupEle, overflowEle, enableRtl) {\n        var _this = this;\n        this.enableRtl = enableRtl;\n        var buttonEle = this.parent.createElement('button', {\n            id: id + OVERFLOW_ID + DROPDOWN_ID\n        });\n        groupEle.setAttribute('tabindex', '0');\n        overflowEle.appendChild(buttonEle);\n        var dropdown = new DropDownButton({\n            iconCss: iconCss,\n            target: groupEle,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            cssClass: VERTICAL_DDB + SPACE + RIBBON_GROUP_OVERFLOW_DDB,\n            iconPosition: 'Top',\n            content: name,\n            beforeClose: function (args) {\n                args.cancel = !isNullOrUndefined(args.event && closest(args.event.target, '.' + RIBBON_POPUP_CONTROL));\n            }\n        }, buttonEle);\n        createTooltip(groupEle, this.parent);\n        buttonEle.onclick = buttonEle.onkeydown = function () { _this.itemIndex = 0; };\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        groupEle.onkeydown = function (e) { _this.keyActionHandler(e, groupEle), _this; };\n        return dropdown;\n    };\n    RibbonDropDown.prototype.keyActionHandler = function (e, target) {\n        var items = target.querySelectorAll('.e-control');\n        var comboBoxElements = target.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < items.length; i++) {\n                if (items[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (items[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.itemIndex = i;\n                    }\n                }\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-last-item') || e.target.classList.contains('e-ribbon-first-item')) {\n            if (e.key === 'ArrowRight' || (!e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, !this.enableRtl, items);\n            }\n            if (e.key === 'ArrowLeft' || (e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, this.enableRtl, items);\n            }\n        }\n    };\n    RibbonDropDown.prototype.handleNavigation = function (e, enableRtl, items) {\n        if (!(items[0].classList.contains('e-ribbon-first-item'))) {\n            items[0].classList.add('e-ribbon-first-item');\n        }\n        if (!(items[items.length - 1].classList.contains('e-ribbon-last-item'))) {\n            items[items.length - 1].classList.add('e-ribbon-last-item');\n        }\n        if (enableRtl) {\n            if (this.itemIndex === 0 && items[parseInt(this.itemIndex.toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                this.updateItemIndex(e, items, true);\n            }\n            if (!e.target.classList.contains('e-combobox') && !e.target.classList.contains('e-ribbon-last-item') &&\n                !e.target.classList.contains('e-ribbon-group-container') && (e.target.classList.contains('e-ribbon-first-item')\n                || this.itemIndex !== 0) && e.target.classList.contains('e-control')) {\n                this.itemIndex++;\n                this.updateItemIndex(e, items, true);\n            }\n            if (e.target.classList.contains('e-ribbon-last-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = 0;\n                    this.updateItemIndex(e, items, true);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = 0;\n                this.updateItemIndex(e, items, true);\n            }\n        }\n        else {\n            if (!e.target.classList.contains('e-combobox') && this.itemIndex !== 0) {\n                this.itemIndex--;\n                this.updateItemIndex(e, items, false);\n            }\n            if (e.target.classList.contains('e-ribbon-first-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = items.length - 1;\n                    this.updateItemIndex(e, items, false);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = items.length - 1;\n                this.updateItemIndex(e, items, false);\n            }\n        }\n        if (e.target.classList.contains('e-combobox') && (e.key === 'Tab')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n            }\n        }\n    };\n    RibbonDropDown.prototype.focusLauncherIcon = function (e, items) {\n        var groupContainer = items[parseInt(this.itemIndex.toString(), 10)].closest('.e-ribbon-group-container');\n        var launcherIconEle;\n        if (groupContainer) {\n            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n        }\n        if (launcherIconEle) {\n            if (e.key === 'Tab') {\n                e.preventDefault();\n            }\n            groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    RibbonDropDown.prototype.updateItemIndex = function (e, items, enableRtl) {\n        var ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = 0;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = items.length - 1;\n                }\n            }\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        items[parseInt(this.itemIndex.toString(), 10)].focus();\n    };\n    /**\n     * Removes Overflow DropDown.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowDropDown = function (dropdownElement) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var tooltip = getComponent(dropdown.target, Tooltip);\n        tooltip.destroy();\n        dropdownElement.parentElement.parentElement.insertBefore(dropdown.target, dropdownElement.parentElement);\n        dropdown.destroy();\n        remove(dropdownElement);\n    };\n    /**\n     * Gets DropDown item element.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @param {string} id - Gets the ID of ribbon DropDown element.\n     * @returns {HTMLElement} - Returns the DropDown item element.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getDDBItemElement = function (dropdownElement, id) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var dropDownPopup = dropdown.dropDown.element;\n        return dropDownPopup.querySelector('#' + id);\n    };\n    /**\n     * Gets Overflow DropDown Popup.\n     *\n     * @param {itemProps} itemProp - Gets the property of ribbon item.\n     * @param {HTMLElement} contentEle - Gets the content element.\n     * @returns {HTMLElement} - Returns the Overflow DropDown Popup.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getOverflowDropDownPopup = function (itemProp, contentEle) {\n        var dropdownElement = contentEle.querySelector('#' + this.parent.tabs[itemProp.tabIndex].groups[itemProp.groupIndex].id + OVERFLOW_ID + DROPDOWN_ID);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        return dropdown.dropDown.element;\n    };\n    RibbonDropDown.prototype.getDropDownObj = function (controlId) {\n        var dropDownEle = getItemElement(this.parent, controlId);\n        return dropDownEle ? getComponent(dropDownEle, DropDownButton) : null;\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the DropDown items.\n     * @param {string} text - Gets the text of the dropdown item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.addItems = function (controlId, Items, text) {\n        this.getDropDownObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getDropDownObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.toggle = function (controlId) {\n        this.getDropDownObj(controlId).toggle();\n    };\n    /**\n     * Updates the dropdown.\n     *\n     * @param {RibbonDropDownSettingsModel} prop - Gets the dropdown property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.updateDropDown = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.dropDownSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, DropDownButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.close;\n        delete prop.beforeClose;\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n        }\n        control.setProperties(prop);\n    };\n    /**\n     * Updated DropDown size\n     *\n     * @param {HTMLElement} element - Gets the dropdown element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.updateDropDownSize = function (element, item) {\n        var control = getComponent(element, DropDownButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        control.setProperties({ content: item.activeSize === RibbonItemSize.Small ? '' : item.dropDownSettings.content });\n    };\n    return RibbonDropDown;\n}());\nexport { RibbonDropDown };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { getItem, getItemElement, RibbonItemSize, setCustomAttributes } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonSplitButton = /** @class */ (function () {\n    function RibbonSplitButton(parent) {\n        this.parent = parent;\n    }\n    RibbonSplitButton.prototype.getModuleName = function () {\n        return 'ribbonSplitButton';\n    };\n    RibbonSplitButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates SplitButton.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.createSplitButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var splitButtonSettings = item.splitButtonSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (splitButtonSettings.cssClass ?\n            splitButtonSettings.cssClass : '')).trim();\n        var splitbutton = new SplitButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: splitButtonSettings.closeActionEvents,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: splitButtonSettings.iconCss,\n            items: splitButtonSettings.items,\n            target: splitButtonSettings.target,\n            beforeClose: function (e) {\n                if (splitButtonSettings.beforeClose) {\n                    splitButtonSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: splitButtonSettings.beforeItemRender,\n            beforeOpen: splitButtonSettings.beforeOpen,\n            close: function () {\n                splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.close) {\n                    splitButtonSettings.close.call(_this);\n                }\n            },\n            created: splitButtonSettings.created,\n            open: function () {\n                splitbutton['wrapper'].classList.add(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.open) {\n                    splitButtonSettings.open.call(_this);\n                }\n            },\n            select: splitButtonSettings.select,\n            click: function (e) {\n                if (splitButtonSettings.click) {\n                    splitButtonSettings.click.call(_this, e);\n                }\n            }\n        }, buttonEle);\n        if (splitButtonSettings.htmlAttributes) {\n            setCustomAttributes(buttonEle, splitButtonSettings.htmlAttributes);\n        }\n        var dropdownEle = buttonEle.parentElement.querySelector('.e-dropdown-btn');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        this.setContent(item, splitbutton);\n        var wrapper = splitbutton['wrapper'];\n        EventHandler.add(wrapper, 'mouseenter', function () { wrapper.classList.add(RIBBON_HOVER); }, this);\n        EventHandler.add(wrapper, 'mouseleave', function () { wrapper.classList.remove(RIBBON_HOVER); }, this);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        splitButtonEle.setAttribute('data-control', item.type.toString());\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        splitbutton.cssClass = splitbutton.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        splitbutton.dataBind();\n        var dropdownEle = splitButtonEle.parentElement.querySelector('.e-dropdown-btn');\n        var ddbId = dropdownEle.getAttribute('id');\n        var popupEle = document.querySelector('#' + ddbId + '-popup');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        popupEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                splitbutton['wrapper'].classList.remove('e-ribbon-open');\n                popupEle.querySelector('.e-focused').click();\n            }\n        };\n        var target;\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        var cssClass = splitbutton.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        splitbutton.cssClass = cssClass.join(SPACE);\n        splitbutton.dataBind();\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n        };\n    };\n    RibbonSplitButton.prototype.setContent = function (item, control) {\n        control['primaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Medium) ? item.splitButtonSettings.content : '' });\n        control['secondaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Large) ? item.splitButtonSettings.content : '' });\n    };\n    RibbonSplitButton.prototype.getSplitButtonObj = function (controlId) {\n        var splitButtonEle = getItemElement(this.parent, controlId);\n        return getComponent(splitButtonEle, SplitButton);\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the SplitButton items.\n     * @param {string} text - Gets the text of the splitbutton item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.addItems = function (controlId, Items, text) {\n        this.getSplitButtonObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getSplitButtonObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.toggle = function (controlId) {\n        this.getSplitButtonObj(controlId).toggle();\n    };\n    /**\n     * Updates the splitbutton.\n     *\n     * @param {RibbonSplitButtonSettingsModel} prop - Gets the splitbutton property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.updateSplitButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.splitButtonSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, SplitButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.open;\n        delete prop.click;\n        delete prop.close;\n        delete prop.beforeClose;\n        control.setProperties(prop);\n        if (prop.content) {\n            this.setContent(itemProp.item, control);\n        }\n    };\n    /**\n     * Updated SplitButton size\n     *\n     * @param {HTMLElement} element - Gets the splibutton element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.updateSplitButtonSize = function (element, item) {\n        var control = getComponent(element, SplitButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        this.setContent(item, control);\n    };\n    return RibbonSplitButton;\n}());\nexport { RibbonSplitButton };\n","import { EventHandler, getComponent, remove } from '@syncfusion/ej2-base';\nimport * as constants from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { RibbonGroupButtonSelection, RibbonItemSize } from '../base/interface';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { createTooltip, isTooltipPresent, setCustomAttributes } from '../base/utils';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonGroupButton = /** @class */ (function () {\n    function RibbonGroupButton(parent) {\n        this.parent = parent;\n        this.isSelected = false;\n    }\n    RibbonGroupButton.prototype.getModuleName = function () {\n        return 'ribbonGroupButton';\n    };\n    RibbonGroupButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates Group Button\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemElement - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.createGroupButton = function (item, itemElement) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        this.count = 0;\n        var btnContainerEle = this.parent.createElement('div', {\n            id: item.id + constants.RIBBON_GROUP_BUTTON_ID,\n            className: 'e-btn-group'\n        });\n        itemElement.appendChild(btnContainerEle);\n        for (var i = 0; i < groupBtnSettings.items.length; i++) {\n            if ((groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss)) {\n                var groupButtonEle = this.parent.createElement('button', {\n                    id: item.id + constants.RIBBON_GROUP_BUTTON_ID + i,\n                    className: constants.RIBBON_GROUP_BUTTON\n                });\n                btnContainerEle.appendChild(groupButtonEle);\n                new Button({\n                    iconCss: groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss,\n                    disabled: item.disabled,\n                    enableRtl: this.parent.enableRtl,\n                    content: item.activeSize === RibbonItemSize.Small ? '' : groupBtnSettings.items[parseInt(i.toString(), 10)].content,\n                    iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left'\n                }, groupButtonEle);\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].htmlAttributes) {\n                    setCustomAttributes(groupButtonEle, groupBtnSettings.items[parseInt(i.toString(), 10)].htmlAttributes);\n                }\n                var buttonEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n                if (groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                    btnContainerEle.classList.add(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                }\n                else {\n                    btnContainerEle.classList.add(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].selected) {\n                    if (groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                        buttonEle.classList.add('e-active');\n                    }\n                    else {\n                        if (this.count < 1) {\n                            buttonEle.classList.add('e-active');\n                            this.count++;\n                        }\n                    }\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings &&\n                    isTooltipPresent(groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings)) {\n                    groupButtonEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                    this.parent.tooltipData.push({\n                        id: groupButtonEle.id, data: groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings\n                    });\n                }\n                EventHandler.add(buttonEle, 'click', this.groupButtonClicked.bind(this, i, item, groupBtnSettings), this);\n            }\n        }\n        if (this.parent.activeLayout === 'Simplified') {\n            var dropdownIcon = void 0;\n            var activeEleCount = 0;\n            var count = 0;\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id\n            });\n            itemElement.appendChild(buttonEle);\n            for (var i = 0; i < groupBtnSettings.items.length; i++) {\n                if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].selected &&\n                    !this.isSelected && groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                    dropdownIcon = item.groupButtonSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    this.isSelected = true;\n                }\n                else if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].selected &&\n                    groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                    activeEleCount++;\n                    if (activeEleCount === 1) {\n                        dropdownIcon = item.groupButtonSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    }\n                    else {\n                        dropdownIcon = null;\n                    }\n                }\n            }\n            while (count < item.groupButtonSettings.items.length && !this.isSelected && !dropdownIcon) {\n                if (item.groupButtonSettings.items[parseInt(count.toString(), 10)].iconCss) {\n                    dropdownIcon = item.groupButtonSettings.items[parseInt(count.toString(), 10)].iconCss;\n                    this.isSelected = true;\n                }\n                count++;\n            }\n            new DropDownButton({\n                iconCss: dropdownIcon,\n                target: btnContainerEle,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-dropdown-group-button',\n                disabled: item.disabled\n            }, buttonEle);\n            buttonEle.onclick = buttonEle.onkeydown = function () {\n                if (itemElement.querySelector('#' + item.id).classList.contains('e-active')) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + 0).focus();\n                    _this.grpBtnIndex = 0;\n                }\n            };\n            btnContainerEle.onkeydown = function (e) {\n                if (_this.parent.activeLayout === 'Simplified') {\n                    _this.handleGroupButtonNavigation(e, item);\n                }\n            };\n            createTooltip(btnContainerEle, this.parent);\n            this.isSelected = false;\n        }\n    };\n    RibbonGroupButton.prototype.groupButtonClicked = function (itemIndex, item, grpBtnSettings) {\n        var previousItems = [], selectingItems = [], selectedItems = [];\n        var groupButtonEle;\n        var dropdown;\n        for (var j = 0; j < grpBtnSettings.items.length; j++) {\n            if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j)) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.contains('e-active')) {\n                    previousItems.push(grpBtnSettings.items[parseInt(j.toString(), 10)]);\n                }\n            }\n        }\n        if (!(document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active'))) {\n            selectingItems.push(grpBtnSettings.items[parseInt(itemIndex.toString(), 10)]);\n        }\n        var eventArgs = {\n            cancel: false, previousItems: previousItems, selectingItems: selectingItems\n        };\n        if (grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].beforeClick) {\n            grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].beforeClick.call(this, eventArgs);\n        }\n        if (eventArgs.cancel) {\n            return;\n        }\n        else {\n            if (grpBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.contains(constants.RIBBON_MULTIPLE_BUTTON_SELECTION)) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.remove(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.add(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                }\n                for (var j = 0; j < grpBtnSettings.items.length; j++) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.contains('e-active')) {\n                        document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.remove('e-active');\n                    }\n                }\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.toggle('e-active');\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active') && this.parent.activeLayout === 'Simplified') {\n                    this.grpBtnIndex = itemIndex;\n                    groupButtonEle = document.querySelector('#' + item.id);\n                    dropdown = getComponent(groupButtonEle, DropDownButton);\n                    dropdown.setProperties({\n                        iconCss: grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].iconCss\n                    });\n                }\n            }\n            else {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.contains(constants.RIBBON_SINGLE_BUTTON_SELECTION)) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.remove(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.add(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                }\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.toggle('e-active');\n                var activeEleCount = 0;\n                for (var n = 0; n < grpBtnSettings.items.length; n++) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n).classList.contains('e-active') && this.parent.activeLayout === 'Simplified' && n !== itemIndex) {\n                        this.isSelected = true;\n                        activeEleCount++;\n                    }\n                }\n                if (this.parent.activeLayout === 'Simplified') {\n                    var dropdownIcon = null;\n                    var itemsCount = 0;\n                    groupButtonEle = document.querySelector('#' + item.id);\n                    dropdown = getComponent(groupButtonEle, DropDownButton);\n                    if (!this.isSelected) {\n                        if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                            dropdownIcon = grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].iconCss;\n                        }\n                    }\n                    else {\n                        if (activeEleCount === 1 && !(document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active'))) {\n                            for (var n = 0; n < grpBtnSettings.items.length; n++) {\n                                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n).classList.contains('e-active')) {\n                                    dropdownIcon = grpBtnSettings.items[parseInt(n.toString(), 10)].iconCss;\n                                }\n                            }\n                        }\n                    }\n                    while (itemsCount < grpBtnSettings.items.length && !dropdownIcon) {\n                        if (grpBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss) {\n                            dropdownIcon = grpBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss;\n                        }\n                        itemsCount++;\n                    }\n                    dropdown.setProperties({ iconCss: dropdownIcon });\n                    this.grpBtnIndex = itemIndex;\n                }\n                this.isSelected = false;\n            }\n            if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                selectedItems.push(grpBtnSettings.items[parseInt(itemIndex.toString(), 10)]);\n            }\n            var eventArgs_1 = { previousItems: previousItems, selectedItems: selectedItems };\n            if (grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].click) {\n                grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].click.call(this, eventArgs_1);\n            }\n        }\n    };\n    /**\n     * updates group button in mode switching\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemElement - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.switchGroupButton = function (item, itemElement) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        var dropdownIcon = null;\n        var activeEleCount = 0;\n        var itemsCount = 0;\n        if (this.parent.activeLayout === 'Simplified') {\n            var containerEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id\n            });\n            itemElement.appendChild(buttonEle);\n            for (var i = 0; i < groupBtnSettings.items.length; i++) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i)) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i).classList.contains('e-active') && groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                        dropdownIcon = groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    }\n                    else if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i).classList.contains('e-active') && groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                        activeEleCount++;\n                        if (activeEleCount === 1) {\n                            dropdownIcon = groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss;\n                        }\n                        else if (activeEleCount > 1) {\n                            dropdownIcon = null;\n                        }\n                    }\n                }\n            }\n            while (itemsCount < groupBtnSettings.items.length && !dropdownIcon) {\n                if (groupBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss) {\n                    dropdownIcon = groupBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss;\n                }\n                itemsCount++;\n            }\n            new DropDownButton({\n                iconCss: dropdownIcon,\n                target: containerEle,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-dropdown-group-button',\n                disabled: item.disabled\n            }, buttonEle);\n            buttonEle.onclick = buttonEle.onkeydown = function () {\n                if (itemElement.querySelector('#' + item.id).classList.contains('e-active')) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + 0).focus();\n                    _this.grpBtnIndex = 0;\n                }\n            };\n            containerEle.onkeydown = function (e) {\n                if (_this.parent.activeLayout === 'Simplified') {\n                    _this.handleGroupButtonNavigation(e, item);\n                }\n            };\n            createTooltip(containerEle, this.parent);\n        }\n        else {\n            var groupButtonEle = itemElement.querySelector('#' + item.id);\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            itemElement.appendChild(dropdown.target);\n            if (groupButtonEle) {\n                dropdown.destroy();\n                remove(groupButtonEle);\n            }\n        }\n    };\n    RibbonGroupButton.prototype.handleGroupButtonNavigation = function (e, item) {\n        var groupButtonEle = document.querySelector('#' + item.id);\n        var dropdown = getComponent(groupButtonEle, DropDownButton);\n        var targetEle = dropdown.target;\n        var isOverflowPopup = false;\n        if (this.parent.activeLayout === 'Simplified' && targetEle.closest('.e-ribbon-dropdown-group-button').classList.contains(constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP)) {\n            isOverflowPopup = true;\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        var groupBtnSettings = item.groupButtonSettings;\n        if ((e.key === 'ArrowRight' && !isOverflowPopup) || (e.key === 'ArrowDown' && isOverflowPopup)) {\n            if (!this.parent.enableRtl || (e.key === 'ArrowDown' && isOverflowPopup)) {\n                this.grpBtnIndex++;\n                if (this.grpBtnIndex < groupBtnSettings.items.length) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex = 0;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n            else {\n                if (this.grpBtnIndex === 0) {\n                    this.grpBtnIndex = groupBtnSettings.items.length - 1;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex--;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n        }\n        else if ((e.key === 'ArrowLeft' && !isOverflowPopup) || (e.key === 'ArrowUp' && isOverflowPopup)) {\n            if (!this.parent.enableRtl || (e.key === 'ArrowUp' && isOverflowPopup)) {\n                if (this.grpBtnIndex === 0) {\n                    this.grpBtnIndex = groupBtnSettings.items.length - 1;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex--;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n            else {\n                this.grpBtnIndex++;\n                if (this.grpBtnIndex < groupBtnSettings.items.length) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex = 0;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.addOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var groupButtonEle = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(groupButtonEle, DropDownButton);\n        dropdown.setProperties({ cssClass: dropdown.cssClass + constants.SPACE + constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP });\n        var targetEle = dropdown.target;\n        targetEle.onclick = function () {\n            if (_this.parent.activeLayout === 'Simplified' && targetEle.closest('.e-ribbon-dropdown-group-button').classList.contains(constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP)) {\n                dropdown.element.focus();\n                dropdown.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var groupButtonEle = itemEle.querySelector('#' + item.id);\n        if (groupButtonEle) {\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            var cssClass = dropdown.cssClass.split(constants.SPACE);\n            cssClass = cssClass.filter(function (value) { return value !== constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP; });\n            dropdown.setProperties({ cssClass: cssClass.join(constants.SPACE) });\n        }\n    };\n    /**\n     * Removes DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.destroyDropDown = function (item) {\n        var groupButtonEle = document.querySelector('#' + item.id);\n        if (groupButtonEle) {\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            var tooltip = getComponent(dropdown.target, Tooltip);\n            tooltip.destroy();\n            dropdown.destroy();\n            remove(groupButtonEle);\n        }\n    };\n    /**\n     * Updates the group button size.\n     *\n     * @param {HTMLElement} itemElement - Gets the group button container element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.updateGroupButtonSize = function (itemElement, item) {\n        var groupBtnSettings = item.groupButtonSettings;\n        var buttonEle;\n        for (var i = 0; i < groupBtnSettings.items.length; i++) {\n            if (this.parent.activeLayout === 'Classic') {\n                buttonEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n            }\n            else {\n                buttonEle = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n            }\n            if (buttonEle) {\n                var buttonObj = getComponent(buttonEle, Button);\n                buttonObj.setProperties({\n                    iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n                    content: item.activeSize === RibbonItemSize.Small ? '' : groupBtnSettings.items[parseInt(i.toString(), 10)].content\n                });\n            }\n        }\n    };\n    return RibbonGroupButton;\n}());\nexport { RibbonGroupButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { addClass, append, Event, Collection, Complex, Component, EventHandler, formatUnit, getInstance, getComponent, getUniqueID, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, NotifyPropertyChanges, Property, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Tab, TabAnimationSettings, HScroll, Toolbar } from '@syncfusion/ej2-navigations';\nimport { RibbonTab, FileMenuSettings, BackStageMenu } from '../models/index';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport { ItemOrientation, RibbonItemSize, RibbonItemType } from './interface';\nimport { RibbonButton, RibbonComboBox, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonGroupButton } from '../items/index';\nimport { destroyControl, getCollection, getGroup, getIndex, getItem, getItemElement, updateCommonProperty, updateControlDisabled, isTooltipPresent, getTemplateFunction, createTooltip, destroyTooltip, updateTooltipProp } from './utils';\nimport * as constants from './constant';\nimport { DropDownButton, SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * The Ribbon Component is a structured layout to manage tools with tabs and groups.\n */\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param  {RibbonModel} options - Specifies the ribbon model\n     * @param  {string|HTMLDivElement} element - Specifies the target element\n     */\n    function Ribbon(options, element) {\n        var _this = this;\n        Ribbon_1.Inject(RibbonButton, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonComboBox, RibbonGroupButton);\n        _this = _super.call(this, options, element) || this;\n        return _this;\n    }\n    Ribbon_1 = Ribbon;\n    /**\n     * Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.render = function () {\n        this.initialize();\n    };\n    Ribbon.prototype.preRender = function () {\n        this.idIndex = 0;\n        this.tooltipData = [];\n        this.initialPropsData = {};\n        this.isAddRemove = false;\n        this.keyConfigs = {\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab'\n        };\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Ribbon.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeLayout']);\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Ribbon.prototype.getModuleName = function () {\n        return 'ribbon';\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    Ribbon.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({ member: 'ribbonButton', args: [this] }, { member: 'ribbonDropDown', args: [this] }, { member: 'ribbonSplitButton', args: [this] }, { member: 'ribbonCheckBox', args: [this] }, { member: 'ribbonColorPicker', args: [this] }, { member: 'ribbonComboBox', args: [this] }, { member: 'ribbonGroupButton', args: [this] }, { member: 'ribbonFileMenu', args: [this] }, { member: 'ribbonBackstage', args: [this] });\n        return modules;\n    };\n    Ribbon.prototype.initialize = function () {\n        this.element.id = this.element.id || getUniqueID('e-' + this.getModuleName());\n        addClass([this.element], ['e-rbn'].concat((this.cssClass ? this.cssClass.split(constants.SPACE) : [])));\n        if (this.enableRtl) {\n            this.element.classList.add(constants.RTL_CSS);\n        }\n        this.element.style.width = formatUnit(this.width);\n        this.renderTabs();\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.createFileMenu(this.fileMenu);\n        }\n        if (this.ribbonBackstageModule) {\n            this.ribbonBackstageModule.createBackStage(this.backStageMenu);\n        }\n        this.createHelpPaneTemplate();\n        var toolbar = this.tabObj['tbObj'];\n        toolbar.refreshOverflow();\n        createTooltip(this.element, this);\n        this.wireEvents();\n        this.wireKeyboardEvent();\n        this.currentControlIndex = 0;\n    };\n    Ribbon.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n    };\n    Ribbon.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleRibbon = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Ribbon.prototype.keyActionHandler = function (e) {\n        if (((e.key === 'Tab') && (!(e.target.classList.contains('e-tab-wrap')) && !(e.target.classList.contains('e-combobox'))))) {\n            e.preventDefault();\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var ribbonControls = activeContent.querySelectorAll('.e-control');\n        var comboBoxElements = activeContent.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < ribbonControls.length; i++) {\n                if (ribbonControls[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (ribbonControls[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.currentControlIndex = i;\n                    }\n                }\n            }\n        }\n        if (this.currentControlIndex === 0) {\n            var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            while (item && item.classList.contains('e-disabled')) {\n                this.currentControlIndex++;\n                item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-collapse-btn') || e.target.classList.contains('e-ribbon-last-item') ||\n            e.target.classList.contains('e-ribbon-first-item') || e.target.classList.contains('e-ribbon-group-of-btn') ||\n            e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            switch (e.action) {\n                case 'rightarrow':\n                    this.handleNavigation(e, !this.enableRtl, ribbonControls);\n                    break;\n                case 'leftarrow':\n                    this.handleNavigation(e, this.enableRtl, ribbonControls);\n                    break;\n                case 'tab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex < ribbonControls.length - 1) {\n                            this.currentControlIndex++;\n                        }\n                    }\n                    break;\n                case 'shiftTab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex > 0) {\n                            this.currentControlIndex--;\n                        }\n                    }\n                    else {\n                        this.tabObj.element.querySelector('.e-toolbar-item.e-active').querySelector('.e-tab-wrap').focus();\n                        this.currentControlIndex = 0;\n                    }\n            }\n        }\n    };\n    Ribbon.prototype.handleNavigation = function (e, enableRtl, ribbonControls) {\n        var groupContainer;\n        var prevGroupId;\n        if (enableRtl) {\n            if (this.currentControlIndex < ribbonControls.length - 1 && ribbonControls[this.currentControlIndex + 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex++;\n            }\n        }\n        else {\n            if (this.currentControlIndex > 0 && ribbonControls[this.currentControlIndex - 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex--;\n            }\n        }\n        if ((!enableRtl && (this.currentControlIndex > 0)) || (enableRtl && (this.currentControlIndex < ribbonControls.length - 1))) {\n            if (!e.target.classList.contains('e-combobox') && e.target.classList.contains('e-control') && !e.target.classList.contains('e-ribbon-last-item')) {\n                if (enableRtl) {\n                    this.currentControlIndex++;\n                }\n                else {\n                    var prevGroupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (prevGroupContainer) {\n                        prevGroupId = prevGroupContainer.getAttribute('id');\n                    }\n                    this.currentControlIndex--;\n                }\n                var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (item && item.classList.contains('e-disabled')) {\n                    if (((enableRtl && this.currentControlIndex === ribbonControls.length - 1) ||\n                        (!enableRtl && this.currentControlIndex === 0))) {\n                        if (ribbonControls[this.currentControlIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                            this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                            break;\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                    enableRtl ? this.currentControlIndex++ : this.currentControlIndex--;\n                    item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (this.activeLayout === 'Classic') {\n                    groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (enableRtl) {\n                        var launcherIconEle = void 0;\n                        if (groupContainer) {\n                            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                        }\n                        if (launcherIconEle) {\n                            var items = groupContainer.querySelectorAll('.e-ribbon-item');\n                            items[items.length - 1].querySelector('.e-control').classList.add('e-ribbon-last-item');\n                        }\n                    }\n                    else {\n                        if (groupContainer) {\n                            var groupContainerId = groupContainer.getAttribute('id');\n                            if (prevGroupId !== groupContainerId) {\n                                var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                                if (launcherIconEle) {\n                                    ribbonControls[parseInt((this.currentControlIndex + 1).toString(), 10)].classList.add('e-ribbon-first-item');\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-first-item');\n                    }\n                    else if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-last-item');\n                    }\n                }\n            }\n        }\n        else {\n            if (this.activeLayout === 'Classic') {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            if (this.activeLayout === 'Simplified') {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if (enableRtl && (overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                }\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-last-item')) {\n            if (enableRtl) {\n                groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n            else {\n                this.currentControlIndex--;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (!enableRtl && e.target.classList.contains('e-ribbon-first-item')) {\n            groupContainer = ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n            var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n            if (launcherIconEle) {\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n            if (enableRtl) {\n                this.currentControlIndex++;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                    ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.remove('e-ribbon-last-item');\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                this.currentControlIndex;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-collapse-btn')) {\n            if (enableRtl) {\n                this.currentControlIndex = 0;\n                var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                    this.currentControlIndex++;\n                    ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n            else {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if ((overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.currentControlIndex = ribbonControls.length - 1;\n                    var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                        this.currentControlIndex--;\n                        ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    }\n                    ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                }\n            }\n        }\n        if (this.activeLayout === 'Simplified' && e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            if (enableRtl) {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            else {\n                this.currentControlIndex = ribbonControls.length - 1;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n    };\n    Ribbon.prototype.resizeHandler = function () {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n        if (this.scrollModule) {\n            var scrollEle = this.tabObj.element.querySelector('.' + constants.HORIZONTAL_SCROLLBAR);\n            this.scrollModule.scrollStep = scrollEle.offsetWidth;\n        }\n    };\n    Ribbon.prototype.renderTabs = function () {\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal = this.checkID(this.tabsInternal, 'tab', this.element.id);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        var tabEle = this.createElement('div', {\n            id: this.element.id + constants.TAB_ID\n        });\n        this.element.appendChild(tabEle);\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        this.tabObj = new Tab({\n            cssClass: constants.RIBBON_TAB,\n            selectedItem: this.selectedTab,\n            overflowMode: 'Popup',\n            width: this.width,\n            items: tabItems,\n            enableRtl: this.enableRtl,\n            created: this.tabCreated.bind(this),\n            selected: this.ribbonTabSelected.bind(this),\n            selecting: this.ribbonTabSelecting.bind(this)\n        });\n        this.tabObj.appendTo(tabEle);\n        //Set the width value as \"0px\" with unit for proper calculation.\n        this.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, '0px');\n        this.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        var toolbar = getComponent(toolbarEle, Toolbar);\n        toolbar.setProperties({ width: 'calc(100% - var(--fileMenuWidth) - var(--helpTemplateWidth))' });\n        this.element.classList[this.isMinimized ? 'add' : 'remove'](constants.RIBBON_MINIMIZE);\n    };\n    Ribbon.prototype.minimize = function (val) {\n        var _this = this;\n        if (val === this.isMinimized) {\n            return;\n        }\n        var eventArgs = { cancel: false };\n        this.trigger(val ? 'ribbonCollapsing' : 'ribbonExpanding', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ isMinimized: val }, true);\n            _this.element.classList.toggle(constants.RIBBON_MINIMIZE, _this.isMinimized);\n            //to overwrite inline styles from hscroll\n            _this.tabObj.element.querySelector('.e-content').style.display = val ? 'none' : 'block';\n            if (!val) {\n                _this.refreshLayout();\n            }\n        });\n    };\n    Ribbon.prototype.toggleLayout = function () {\n        this.setProperties({ activeLayout: this.activeLayout === 'Simplified' ? 'Classic' : 'Simplified' }, true);\n        this.switchLayout();\n    };\n    Ribbon.prototype.tabCreated = function () {\n        if (!this.hideLayoutSwitcher) {\n            this.addExpandCollapse();\n        }\n        this.renderInitialTab(this.selectedTab);\n    };\n    Ribbon.prototype.ribbonTabSelected = function (e) {\n        this.isAddRemove = false;\n        var selectedTabId = e.selectedItem.getAttribute('data-id');\n        var selectedIndex = getIndex(this.tabs, (function (tab) { return (tab.id === selectedTabId); }));\n        selectedIndex = selectedIndex === -1 ? this.selectedTab : selectedIndex;\n        var eventArgs = { previousIndex: this.selectedTab, selectedIndex: selectedIndex };\n        this.setProperties({ selectedTab: selectedIndex }, true);\n        this.checkOverflow(selectedIndex, e.selectedContent.firstChild);\n        if (this.activeLayout === 'Simplified' && this.overflowDDB) {\n            var overflowTarget = this.overflowDDB.target;\n            var ofTabContainer = overflowTarget.querySelector('.' + constants.RIBBON_TAB_ACTIVE);\n            if (ofTabContainer) {\n                ofTabContainer.classList.remove(constants.RIBBON_TAB_ACTIVE);\n            }\n            var activeTab = overflowTarget.querySelector('#' + selectedTabId + constants.OVERFLOW_ID);\n            if (activeTab) {\n                activeTab.classList.add(constants.RIBBON_TAB_ACTIVE);\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                this.checkOverflowHiddenItems(false, selectedIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n            }\n        }\n        this.trigger('tabSelected', eventArgs);\n    };\n    Ribbon.prototype.checkOverflow = function (tabIndex, activeContent) {\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        var isOverFlow = tabContent.offsetWidth < activeContent.offsetWidth;\n        if (isOverFlow && !this.scrollModule) {\n            if (this.activeLayout === 'Classic') {\n                // Defines whether the shrinking is breaked due to insufficient space.\n                var isBreak = false;\n                isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, true);\n                if (!isBreak && (tabContent.offsetWidth < activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, false);\n                }\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createOverflowDropdown(tabIndex, tabContent, activeContent);\n                }\n            }\n            else {\n                this.checkSimplifiedItemShrinking(tabIndex, tabContent, activeContent);\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                }\n            }\n            //Adds Scroll if the tabwidth is less the content width even after adding overflow dropdown.\n            if ((tabContent.offsetWidth < activeContent.offsetWidth) && (!this.scrollModule)) {\n                this.scrollModule = new HScroll({\n                    enableRtl: this.enableRtl\n                }, this.tabObj.element.querySelector('.' + constants.TAB_CONTENT));\n            }\n        }\n        else if (!isOverFlow) {\n            this.destroyScroll();\n            if (this.activeLayout === 'Classic') {\n                var isBreak = false;\n                isBreak = this.removeOverflowDropdown(tabContent, activeContent, false, tabIndex);\n                //Check for expanding small items to medium items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, true);\n                }\n                //Check for expanding medium items to large items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, false);\n                }\n            }\n            else {\n                this.removeSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                if (tabContent.offsetWidth > activeContent.offsetWidth) {\n                    this.checkSimplifiedItemExpanding(tabIndex, tabContent, activeContent);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemShrinking = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Medium) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            itemContainer.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemExpanding = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth > activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth > activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Small) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var valString = itemContainer.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (tabContent.offsetWidth > value)) {\n                                itemContainer.removeAttribute('data-medium-width');\n                                var itemEle = itemContainer.querySelector('#' + item.id);\n                                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                                this.setItemSize(itemEle, item);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createSimplfiedOverflow = function (tabContent, activeContent, tabIndex) {\n        var orderedGroups = this.getGroupResizeOrder(true, tabIndex);\n        var isEmptyCollection;\n        for (var i = 0; ((i < orderedGroups.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = group.collections.length; ((j >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); j--) {\n                var collection = group.collections[parseInt((j - 1).toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    var itemContainer = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        itemContainer.setAttribute('data-simplified-width', activeContent.offsetWidth.toString());\n                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemContainer, groupContainer, true);\n                        if (item.activeSize === RibbonItemSize.Small) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, true);\n                        }\n                    }\n                }\n            }\n            if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n            var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n            if (itemsLength && !group.enableGroupOverflow) {\n                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                if (isEmptyCollection) {\n                    groupEle.classList.add('e-ribbon-emptyCollection');\n                }\n            }\n            this.checkOverflowHiddenItems(group.enableGroupOverflow, tabIndex, group.id);\n        }\n    };\n    Ribbon.prototype.checkEmptyCollection = function (itemsLength) {\n        var isEmptyCollection = true;\n        for (var i = 0; i < itemsLength.length; i++) {\n            if (!(itemsLength[parseInt(i.toString(), 10)].classList.contains('e-hidden'))) {\n                isEmptyCollection = false;\n                break;\n            }\n        }\n        return isEmptyCollection;\n    };\n    Ribbon.prototype.updatePopupItems = function (item, itemEle, isGroupOF, isMenu) {\n        var dropdown = getComponent(itemEle.querySelector('#' + item.id), (item.type === RibbonItemType.DropDown || item.type === RibbonItemType.GroupButton) ? DropDownButton : SplitButton);\n        var dropDownPopup = dropdown.dropDown;\n        // popup is on right if (isGroupOF && isMenu)\n        // The position is reversed if RTL is enabled.\n        // isRight = ((isGroupOF && isMenu) && !this.enableRtl ) || (!(isGroupOF && isMenu) && this.enableRtl)  ==> (isGroupOF && isMenu) !== this.enableRtl\n        var isLeft = (isGroupOF && isMenu) === this.enableRtl;\n        if (dropDownPopup) {\n            dropDownPopup.setProperties({ position: { X: isLeft ? 'left' : 'right', Y: isMenu ? 'top' : 'bottom' } }, true);\n            if (isMenu) {\n                dropdown.beforeOpen = function () {\n                    if (isLeft) {\n                        dropDownPopup.element.style.setProperty('visibility', 'hidden');\n                        dropDownPopup.element.style.setProperty('display', 'block');\n                        dropDownPopup.setProperties({ offsetX: -1 * dropDownPopup.element.offsetWidth });\n                        dropDownPopup.element.style.removeProperty('display');\n                        dropDownPopup.element.style.removeProperty('visibility');\n                    }\n                };\n            }\n            else {\n                dropDownPopup.setProperties({ offsetX: 0 }, true);\n                dropdown.beforeOpen = null;\n            }\n        }\n    };\n    Ribbon.prototype.removeSimplfiedOverflow = function (tabContent, activeContent, tabIndex, isClear) {\n        if (isClear === void 0) { isClear = false; }\n        var orderedGroups = this.getGroupResizeOrder(false, tabIndex);\n        var flag = true;\n        var isEmptyCollection;\n        for (var i = 0; ((i < orderedGroups.length) && flag); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var overflowDDB = void 0;\n            var overflowtarget = void 0;\n            if (group.enableGroupOverflow) {\n                var overflowDDBEle = tabContent.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n            }\n            else {\n                overflowDDB = this.overflowDDB;\n                overflowtarget = this.overflowDDB ? this.overflowDDB.target : null;\n            }\n            for (var j = 0; ((j < group.collections.length) && flag); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                // eslint-disable-next-line max-len\n                for (var k = 0; ((k < collection.items.length) && flag && !isClear && (tabContent.offsetWidth > activeContent.offsetWidth)); k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemContainer = void 0;\n                    if (overflowtarget) {\n                        itemContainer = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    }\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        var width = parseInt(itemContainer.getAttribute('data-simplified-width'), 10);\n                        if (!isClear && (tabContent.offsetWidth < width)) {\n                            flag = false;\n                            break;\n                        }\n                        var groupEle_1 = tabContent.querySelector('#' + collection.id);\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, false);\n                        }\n                        groupEle_1.append(itemContainer);\n                        this.removeOverflowEvent(item, itemContainer);\n                        if (item.allowedSizes & RibbonItemSize.Small) {\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemContainer.querySelector('#' + item.id), item);\n                        }\n                    }\n                }\n            }\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var itemEle = groupEle.querySelector('.' + constants.RIBBON_ITEM);\n            if (groupEle.classList.contains('e-ribbon-emptyCollection') && itemEle !== null) {\n                var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n                if (itemsLength) {\n                    isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                    if (!isEmptyCollection) {\n                        groupEle.classList.remove('e-ribbon-emptyCollection');\n                    }\n                }\n            }\n            if (overflowDDB) {\n                if (group.enableGroupOverflow) {\n                    if (overflowtarget.childElementCount === 0) {\n                        this.removeOverflowButton(overflowDDB);\n                    }\n                }\n                else {\n                    var ofGroupContainer = overflowtarget.querySelector('#' + group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = overflowtarget.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                        this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n                    }\n                }\n            }\n            this.checkOverflowHiddenItems(group.enableGroupOverflow, tabIndex, group.id);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            if (overflowEle.childElementCount === 0) {\n                this.removeOverflowButton(this.overflowDDB);\n                this.overflowDDB = null;\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflowHiddenItems = function (isGroupOF, tabIndex, groupId) {\n        if (isGroupOF) {\n            var overflowDDB = document.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (overflowDDB) {\n                var overflowButton = getInstance(overflowDDB, DropDownButton);\n                var overflowBtnTarget = overflowButton.target;\n                var itemEle = overflowBtnTarget.querySelectorAll('.e-ribbon-item');\n                var isHidden = true;\n                for (var i = 0; i < itemEle.length; i++) {\n                    if (!(itemEle[parseInt(i.toString(), 10)].classList.contains('e-hidden'))) {\n                        isHidden = false;\n                        break;\n                    }\n                }\n                overflowButton.element.classList[isHidden ? 'add' : 'remove']('e-hidden');\n            }\n        }\n        else {\n            if (this.overflowDDB) {\n                var isGroupHidden = true;\n                var isItemHidden = void 0;\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    for (var k = 0; k < ofTabContainer.children.length; k++) {\n                        isItemHidden = true;\n                        var overflowTab = ofTabContainer.children[parseInt(k.toString(), 10)];\n                        var groupTabContainer = overflowTab.querySelectorAll('.e-ribbon-item');\n                        for (var n = 0; n < groupTabContainer.length; n++) {\n                            if (!(groupTabContainer[parseInt(n.toString(), 10)].classList.contains('e-hidden'))) {\n                                isItemHidden = false;\n                                break;\n                            }\n                        }\n                        overflowTab.classList[isItemHidden ? 'add' : 'remove']('e-hide-group');\n                        if (!(overflowTab.classList.contains('e-hide-group')) && !(overflowTab.classList.contains('e-hidden'))) {\n                            isGroupHidden = false;\n                        }\n                    }\n                    this.overflowDDB.element.classList[isGroupHidden ? 'add' : 'remove'](constants.HIDE_CSS);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowPopup = function (item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer, isResize) {\n        var overflowButton;\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        if (isGroupOF) {\n            var overflowDDB = groupContainer.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (!overflowDDB) {\n                overflowButton = this.addOverflowButton(groupId + constants.GROUPOF_BUTTON_ID);\n                overflowButton.element.classList.add(constants.RIBBON_GROUP_OF_BUTTON);\n                groupContainer.appendChild(overflowButton.element);\n            }\n            else {\n                overflowButton = getInstance(overflowDDB, DropDownButton);\n            }\n            var overflowBtnTarget = overflowButton.target;\n            if (groupEle) {\n                if (groupEle.classList.contains('e-disabled')) {\n                    overflowBtnTarget.classList.add('e-disabled');\n                }\n                if (groupEle.classList.contains('e-hidden')) {\n                    overflowBtnTarget.classList.add('e-hidden');\n                }\n                if (groupEle.classList.contains('e-hide-group')) {\n                    overflowBtnTarget.classList.add('e-hide-group');\n                }\n            }\n            isResize ? overflowBtnTarget.insertBefore(itemEle, overflowBtnTarget.querySelector('.' + constants.RIBBON_ITEM))\n                : overflowBtnTarget.append(itemEle);\n        }\n        else {\n            if (!this.overflowDDB) {\n                this.overflowDDB = this.addOverflowButton(this.tabObj.element.id + constants.OVRLOF_BUTTON_ID);\n                this.tabObj.element.insertBefore(this.overflowDDB.element, this.collapseButton);\n                this.overflowDDB.element.classList.add(constants.RIBBON_OVERALL_OF_BUTTON);\n                this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var ofGroupContainer = overflowEle.querySelector('#' + groupId + constants.CONTAINER_ID);\n                    if (!ofGroupContainer) {\n                        ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n                        if (groupEle) {\n                            if (groupEle.classList.contains('e-disabled')) {\n                                ofGroupContainer.classList.add('e-disabled');\n                            }\n                            if (groupEle.classList.contains('e-hidden')) {\n                                ofGroupContainer.classList.add('e-hidden');\n                            }\n                            if (groupEle.classList.contains('e-hide-group')) {\n                                ofGroupContainer.classList.add('e-hide-group');\n                            }\n                        }\n                        ofTabContainer.append(ofGroupContainer);\n                    }\n                    isResize ? ofGroupContainer.insertBefore(itemEle, ofGroupContainer.querySelector('.' + constants.RIBBON_ITEM)) : ofGroupContainer.append(itemEle);\n                }\n                else {\n                    this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n                }\n            }\n            overflowButton = this.overflowDDB;\n        }\n        if (itemEle !== null) {\n            this.addOverflowEvents(item, itemEle, overflowButton);\n        }\n    };\n    Ribbon.prototype.addOverflowEvents = function (item, itemEle, overflowButton) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'GroupButton':\n                if (this.activeLayout === 'Simplified') {\n                    this.ribbonGroupButtonModule.addOverFlowEvents(item, itemEle);\n                    break;\n                }\n        }\n    };\n    Ribbon.prototype.createOfTabContainer = function (groupId, groupHeader, itemEle, tabIndex) {\n        var ofTabContainer = this.createElement('div', {\n            id: this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID,\n            className: constants.RIBBON_OF_TAB_CONTAINER\n        });\n        var overflowtarget = this.overflowDDB.target;\n        overflowtarget.append(ofTabContainer);\n        var ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n        ofGroupContainer.append(itemEle);\n        ofTabContainer.append(ofGroupContainer);\n        if (tabIndex === this.selectedTab) {\n            ofTabContainer.classList.add(constants.RIBBON_TAB_ACTIVE);\n        }\n        var groupEle = document.querySelector('#' + groupId);\n        if (groupEle) {\n            if (groupEle.classList.contains('e-disabled')) {\n                ofGroupContainer.classList.add('e-disabled');\n            }\n            if (groupEle.classList.contains('e-hidden')) {\n                ofGroupContainer.classList.add('e-hidden');\n            }\n            if (groupEle.classList.contains('e-hide-group')) {\n                ofGroupContainer.classList.add('e-hide-group');\n            }\n        }\n    };\n    Ribbon.prototype.checkGroupShrinking = function (tabIndex, tabContent, activeContent, isLarge) {\n        var isOverFlow = true;\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = (tab.groups.length - 1); (isOverFlow && (j >= 0)); j--) {\n            // eslint-disable-next-line max-len\n            isBreak = isLarge ? this.checkLargeToMedium(tabIndex, tab, j, tabContent, activeContent) : this.checkMediumToSmall(tabIndex, tab, j, tabContent, activeContent);\n            isOverFlow = !isBreak && (tabContent.offsetWidth < activeContent.offsetWidth);\n        }\n        return isBreak;\n    };\n    Ribbon.prototype.checkValidCollectionLength = function (collections) {\n        var count = 0;\n        for (var i = 0; i < collections.length; i++) {\n            var items = collections[parseInt(i.toString(), 10)].items;\n            for (var ind = 0; ind < items.length; ind++) {\n                if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                    count++;\n                    break;\n                }\n            }\n            if (count > 1) {\n                return false;\n            }\n        }\n        return count === 1;\n    };\n    Ribbon.prototype.checkClassicCollection = function (collections, n, isIncrement) {\n        var items = collections[parseInt(n.toString(), 10)].items;\n        for (var ind = 0; ind < items.length; ind++) {\n            if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                return n;\n            }\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === collections.length) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkClassicItem = function (items, n, isIncrement) {\n        var item = items[parseInt(n.toString(), 10)];\n        if (item.displayOptions & DisplayMode.Classic) {\n            return n;\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === items.length) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkLargeToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var canReduceCollection = function (collection) {\n            return (collection.items.length === 1) && canReduceItem(collection.items[0]);\n        };\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Large);\n        };\n        var createShrinkEle = function (id, firstItem, start, end) {\n            var shrinkEle = _this.createElement('div', {\n                className: 'e-ribbon-shrink' + constants.SPACE + constants.RIBBON_ROW,\n                id: id + '_shrink_container' + start,\n                attrs: { 'data-start': start.toString(), 'data-end': end.toString() }\n            });\n            firstItem.parentElement.insertBefore(shrinkEle, firstItem);\n            if (!shouldSkip) {\n                shrinkEle.setAttribute('data-large-width', activeContent.offsetWidth.toString());\n            }\n            return shrinkEle;\n        };\n        var moveItemToColumn = function (start, end) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[0];\n            var firstItem = activeContent.querySelector('#' + collection.items[parseInt(start.toString(), 10)].id + constants.CONTAINER_ID);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + collection.id + '_shrink_container' + start) :\n                createShrinkEle(collection.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (!(item.displayOptions & DisplayMode.Classic)) {\n                    continue;\n                }\n                var ele = activeContent.querySelector('#' + item.id + constants.CONTAINER_ID);\n                shrinkEle.appendChild(ele);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton && _this.activeLayout === 'Classic') {\n                    _this.setItemSize(ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID), item);\n                }\n                else {\n                    _this.setItemSize(ele.querySelector('#' + item.id), item);\n                }\n            }\n        };\n        var moveCollectionToColumn = function (start, end) {\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            var firstItem = activeContent.querySelector('#' + group.collections[parseInt(start.toString(), 10)].id);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + group.id + '_shrink_container' + start) :\n                createShrinkEle(group.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                var ele = activeContent.querySelector('#' + collection.id);\n                shrinkEle.appendChild(ele);\n                collection.items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (collection.items[0].type === RibbonItemType.GroupButton && _this.activeLayout === 'Classic') {\n                    _this.setItemSize(ele.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID), collection.items[0]);\n                }\n                else {\n                    _this.setItemSize(ele.querySelector('#' + collection.items[0].id), collection.items[0]);\n                }\n            }\n        };\n        var orientation = group.orientation;\n        if (orientation === ItemOrientation.Column) {\n            for (var k = (group.collections.length - 1); k > 0; k--) {\n                //to avoid negative index while checking for the second collection\n                k = this.checkClassicCollection(group.collections, k, false);\n                var l = k - 1;\n                //Checks the element rendered at position n\n                if ((l >= 0) && canReduceCollection(group.collections[parseInt(k.toString(), 10)])) {\n                    l = this.checkClassicCollection(group.collections, l, false);\n                    //Checks the element rendered at position n-1\n                    if ((l >= 0) && canReduceCollection(group.collections[parseInt(l.toString(), 10)])) {\n                        var m = l - 1;\n                        if (m >= 0) {\n                            m = this.checkClassicCollection(group.collections, m, false);\n                        }\n                        //Checks the element rendered at position n-2\n                        if ((m >= 0) && canReduceCollection(group.collections[parseInt(m.toString(), 10)])) {\n                            moveCollectionToColumn(m, k);\n                        }\n                        else {\n                            moveCollectionToColumn(l, k);\n                        }\n                        k = m;\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                    else {\n                        k = l;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                var collection = group.collections[0];\n                for (var k = (collection.items.length - 1); k > 0; k--) {\n                    //to avoid negative index while checking for the second item\n                    k = this.checkClassicItem(collection.items, k, false);\n                    var l = k - 1;\n                    //Checks the element rendered at position n\n                    if ((l >= 0) && canReduceItem(collection.items[parseInt(k.toString(), 10)])) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        //Checks the element rendered at position n-1\n                        if ((l >= 0) && canReduceItem(collection.items[parseInt(l.toString(), 10)])) {\n                            var m = l - 1;\n                            //Checks the element rendered at position n-2\n                            if (m >= 0) {\n                                m = this.checkClassicItem(collection.items, m, false);\n                            }\n                            if ((m >= 0) && canReduceItem(collection.items[parseInt(m.toString(), 10)])) {\n                                moveItemToColumn(m, k);\n                            }\n                            else {\n                                moveItemToColumn(l, k);\n                            }\n                            k = m;\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                        else {\n                            k = l;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToSmall = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Small) && (item.activeSize === RibbonItemSize.Medium);\n        };\n        var reduceItemsToSmall = function (collectionIndex, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var reduce = function (i) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var ele_1 = activeContent.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    if (item.type === RibbonItemType.GroupButton) {\n                        ele_1 = activeContent.querySelector('#' + item.id + '_grpbtn');\n                    }\n                    _this.setItemSize(ele_1, item);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var reduceCollectionsToSmall = function (index, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            if (!shouldSkip) {\n                shrinkColumns[parseInt(index.toString(), 10)].setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n            var reduce = function (i) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var ele_2 = activeContent.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    if (collection.items[0].type === RibbonItemType.GroupButton) {\n                        ele_2 = activeContent.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_2, collection.items[0]);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var setWidth = function (id) {\n            if (!shouldSkip) {\n                var ele_3 = activeContent.querySelector('#' + id);\n                ele_3.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n        };\n        if (orientation === ItemOrientation.Column) {\n            if (shrinkColumns.length > 0) {\n                for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                    var start = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-end'), 10);\n                    //only 2 or 3 itmes alone can be present in shrinked column\n                    var l = this.checkClassicCollection(group.collections, start + 1, false); //next valid item\n                    if (canReduceItem(group.collections[parseInt(start.toString(), 10)].items[0])\n                        && canReduceItem(group.collections[parseInt(l.toString(), 10)].items[0])) {\n                        if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                            reduceCollectionsToSmall(k, start, end);\n                        }\n                        else if (canReduceItem(group.collections[parseInt(end.toString(), 10)].items[0])) {\n                            reduceCollectionsToSmall(k, start, end, l);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            for (var k = (group.collections.length - 1); k >= 0; k--) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                var classicItems = [];\n                for (var i = 0; i < collection.items.length; i++) {\n                    if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                        classicItems.push(i);\n                    }\n                }\n                //If items length is 1 then, it would have been already check for shrinked column\n                if ((classicItems.length > 1)) {\n                    if (canReduceItem(collection.items[classicItems[0]]) && canReduceItem(collection.items[classicItems[1]])) {\n                        if (classicItems.length === 2) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[1]);\n                        }\n                        else if (canReduceItem(collection.items[classicItems[2]])) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[2], classicItems[1]);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                if (shrinkColumns.length > 0) {\n                    for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                        var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                        var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                        var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                        //only 2 or 3 itmes alone can be present in shrinked column\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, false); //next valid item\n                        if (canReduceItem(group.collections[0].items[parseInt(start.toString(), 10)])\n                            && canReduceItem(group.collections[0].items[parseInt(l.toString(), 10)])) {\n                            if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end);\n                            }\n                            else if (canReduceItem(group.collections[0].items[parseInt(end.toString(), 10)])) {\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end, l);\n                            }\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                for (var k = (group.collections.length - 1); k >= 0; k--) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = (collection.items.length - 1); l >= 0; l--) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        if (l < 0) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canReduceItem(item)) {\n                            item.type !== RibbonItemType.GroupButton ? setWidth(item.id) : setWidth(item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            reduceItemsToSmall(k, l, l);\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkGroupExpanding = function (tabIndex, tabContent, activeContent, isSmall) {\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = 0; (!isBreak && (j < tab.groups.length)); j++) {\n            isBreak = isSmall ? this.checkSmallToMedium(tabIndex, tab, j, tabContent, activeContent, false, true) :\n                this.checkMediumToLarge(tabIndex, tab, j, tabContent, activeContent, false, true);\n        }\n        return isBreak;\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.checkSmallToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canExpandItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Small);\n        };\n        var expandItemToMedium = function (collectionIndex, index, parentEle) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var item = collection.items[parseInt(index.toString(), 10)];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_4 = parentEle.id === item.id ? parentEle : parentEle.querySelector('#' + item.id);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton) {\n                    ele_4 = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                _this.setItemSize(ele_4, item);\n            }\n        };\n        var expandCollectionsToMedium = function (i) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections;\n            var item = collections[parseInt(i.toString(), 10)].items[0];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id);\n                collections[parseInt(i.toString(), 10)].items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton) {\n                    ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                _this.setItemSize(ele_5, collections[parseInt(i.toString(), 10)].items[0]);\n            }\n        };\n        if (orientation === ItemOrientation.Row) {\n            // collection length is 1, then the it wll be covered in shrinked columns\n            if (!this.checkValidCollectionLength(group.collections)) {\n                for (var k = 0; k < group.collections.length; k++) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = 0; l < collection.items.length; l++) {\n                        l = this.checkClassicItem(collection.items, l, true);\n                        if (l === collection.items.length) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canExpandItem(item)) {\n                            var itemEle = activeContent.querySelector('#' + item.id);\n                            if (item.type === 'GroupButton') {\n                                itemEle = activeContent.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            }\n                            var valString = itemEle.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                                expandItemToMedium(k, l, itemEle);\n                                if (!shouldSkip || shouldClear) {\n                                    itemEle.removeAttribute('data-medium-width');\n                                }\n                            }\n                            else if (value) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var k = 0; k < group.collections.length; k++) {\n                //If items length is 1 then, it will be handled in shrinked column\n                if ((group.collections[parseInt(k.toString(), 10)].items.length > 1)) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    var itemEle = activeContent.querySelector('#' + collection.id);\n                    var valString = itemEle.getAttribute('data-medium-width');\n                    var value = valString ? parseInt(valString, 10) : null;\n                    var classicItems = [];\n                    for (var i = 0; i < collection.items.length; i++) {\n                        if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                            classicItems.push(i);\n                        }\n                    }\n                    if ((classicItems.length > 1) && value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                        expandItemToMedium(k, classicItems[0], itemEle);\n                        expandItemToMedium(k, classicItems[1], itemEle);\n                        if (classicItems.length === 3) {\n                            expandItemToMedium(k, classicItems[2], itemEle);\n                        }\n                        if (!shouldSkip || shouldClear) {\n                            itemEle.removeAttribute('data-medium-width');\n                        }\n                    }\n                    else if (value) {\n                        return true;\n                    }\n                }\n            }\n        }\n        if (shrinkColumns.length > 0) {\n            for (var k = 0; k < shrinkColumns.length; k++) {\n                var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                var valString = shrinkColumn.getAttribute('data-medium-width');\n                var value = valString ? parseInt(valString, 10) : null;\n                if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                    var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                    if (orientation === ItemOrientation.Row) {\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                        expandItemToMedium(0, start, shrinkColumn);\n                        expandItemToMedium(0, l, shrinkColumn);\n                        // if l == end, then l is the last item, else L is the middle item. If l is middle then call the method for end.\n                        if (l !== end) {\n                            expandItemToMedium(0, end, shrinkColumn);\n                        }\n                    }\n                    else {\n                        var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                        expandCollectionsToMedium(start);\n                        expandCollectionsToMedium(m);\n                        if (m !== end) {\n                            expandCollectionsToMedium(end);\n                        }\n                    }\n                    if (!shouldSkip || shouldClear) {\n                        shrinkColumn.removeAttribute('data-medium-width');\n                    }\n                }\n                else if (value) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToLarge = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        if (shrinkColumns.length === 0) {\n            return false;\n        }\n        var expandItemsToLarge = function (start, end, parentEle, middle) {\n            var items = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections[0].items;\n            var reduce = function (i) {\n                var item = items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var container = parentEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    var ele_6 = container.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    if (item.type === RibbonItemType.GroupButton) {\n                        ele_6 = container.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_6, item);\n                    parentEle.insertAdjacentElement('beforebegin', container);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        var expandCollectionsToLarge = function (start, end, parentEle, middle) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections;\n            var reduce = function (i) {\n                var collection = collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var collectionEle = parentEle.querySelector('#' + collection.id);\n                    var ele_7 = collectionEle.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    if (collection.items[0].type === RibbonItemType.GroupButton) {\n                        ele_7 = collectionEle.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_7, collection.items[0]);\n                    parentEle.insertAdjacentElement('beforebegin', collectionEle);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        for (var k = 0; k < shrinkColumns.length; k++) {\n            var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n            var valString = shrinkColumn.getAttribute('data-large-width');\n            var value = valString ? parseInt(valString, 10) : null;\n            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                if (orientation === ItemOrientation.Row) {\n                    var collection = group.collections[0];\n                    var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                    if (l === end) {\n                        expandItemsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandItemsToLarge(start, end, shrinkColumn, l);\n                    }\n                }\n                else {\n                    var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                    if (m === end) {\n                        expandCollectionsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandCollectionsToLarge(start, end, shrinkColumn, m);\n                    }\n                }\n                if (!shouldSkip || shouldClear) {\n                    shrinkColumn.removeAttribute('data-large-width');\n                }\n            }\n            else if (value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.handleContentSize = function (itemEle, isRemoveOverflow) {\n        var itemContainer = itemEle.closest('.' + constants.RIBBON_GROUP_CONTENT);\n        (isRemoveOverflow ? (itemContainer.classList.add(constants.RIBBON_CONTENT_HEIGHT)) : (itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT)));\n    };\n    Ribbon.prototype.setItemSize = function (itemEle, item) {\n        if (itemEle) {\n            var itemContainer = itemEle.closest('.' + constants.RIBBON_ITEM);\n            if (item.type === RibbonItemType.Button) {\n                this.ribbonButtonModule.updateButtonSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.DropDown) {\n                this.ribbonDropDownModule.updateDropDownSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.SplitButton) {\n                this.ribbonSplitButtonModule.updateSplitButtonSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.Template) {\n                remove(itemEle);\n                this.createTemplateContent(item, itemContainer);\n            }\n            else if (item.type === RibbonItemType.GroupButton) {\n                this.ribbonGroupButtonModule.updateGroupButtonSize(itemEle, item);\n            }\n            itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT, constants.RIBBON_LARGE_ITEM, constants.RIBBON_MEDIUM_ITEM, constants.RIBBON_SMALL_ITEM);\n            if (item.activeSize === RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((item.activeSize === RibbonItemSize.Medium) ?\n                    constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowDropdown = function (tabIndex, tabContent, activeContent) {\n        var collapseOrder = this.getGroupResizeOrder(true, tabIndex);\n        if (collapseOrder.length === 0) {\n            return;\n        }\n        var _loop_1 = function (i) {\n            var group = collapseOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_1.tabObj.element.querySelector('#' + group.id);\n            groupEle.setAttribute('data-expanded-width', activeContent.offsetWidth.toString());\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            var groupOverFlow = this_1.createElement('div', {\n                className: constants.RIBBON_GROUP_OVERFLOW + constants.SPACE + constants.RIBBON_LARGE_ITEM,\n                id: group.id + constants.OVERFLOW_ID + constants.CONTAINER_ID\n            });\n            groupEle.insertBefore(groupOverFlow, groupContainer);\n            var groupIndex = getIndex(this_1.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            var tab = this_1.tabs[parseInt(tabIndex.toString(), 10)];\n            //Expanding the items in the group to their original expanded state\n            this_1.checkSmallToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            this_1.checkMediumToLarge(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            var dropdown = this_1.ribbonDropDownModule.createOverFlowDropDown(group.id, group.header, group.groupIconCss, groupContainer, groupOverFlow, this_1.enableRtl);\n            this_1.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: true }, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupContainer.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_1.handleContentSize(itemEle);\n                        this_1.addOverflowEvents(item, itemEle, dropdown);\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; ((i < collapseOrder.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            _loop_1(i);\n        }\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.removeOverflowDropdown = function (tabContent, activeContent, isClear, tabIndex) {\n        if (isClear === void 0) { isClear = false; }\n        var expandOrder = this.getGroupResizeOrder(false, tabIndex);\n        if (expandOrder.length === 0) {\n            return false;\n        }\n        var _loop_2 = function (i) {\n            var group = expandOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_2.tabObj.element.querySelector('#' + group.id);\n            if (!groupEle) {\n                return \"break\";\n            } //to handle the rerendering of tabcontrol when a ribbon tab is added/removed\n            var width = parseInt(groupEle.getAttribute('data-expanded-width'), 10);\n            if (!isClear && (tabContent.offsetWidth < width)) {\n                return { value: true };\n            }\n            this_2.removeDropdown(group.id);\n            var groupIndex = getIndex(this_2.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            this_2.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: false }, true);\n            var tab = this_2.tabs[parseInt(tabIndex.toString(), 10)];\n            //Shrinking the items in the group to their previous shrinked state (before moving to dropdown)\n            this_2.checkLargeToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            this_2.checkMediumToSmall(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_2.handleContentSize(itemEle, true);\n                        this_2.removeOverflowEvent(item, itemEle);\n                    }\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < expandOrder.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n            if (state_1 === \"break\")\n                break;\n        }\n        return false;\n    };\n    Ribbon.prototype.removeDropdown = function (groupId) {\n        var dropdownElement = this.tabObj.element.querySelector('#' + groupId + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n        if (dropdownElement) {\n            var groupOverFlow = dropdownElement.parentElement;\n            this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n            remove(groupOverFlow);\n        }\n    };\n    Ribbon.prototype.getGroupResizeOrder = function (isCollapse, tabIndex) {\n        var _this = this;\n        var groups = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n        groups = groups.filter(function (e) {\n            // (isUndefined(e.isCollapsible) || e.isCollapsible) => check whethe rhte item is collapsible\n            // if a isCollapsed property is undefined, then it is considered collapsible and included in collapsible list\n            // ((isCollapse && !e.isCollapsed)||(!isCollapse && e.isCollapsed)) => isCollapse !== e.isCollapsed\n            return (_this.activeLayout === 'Classic') ? (isUndefined(e.isCollapsible) || e.isCollapsible) && ((isCollapse &&\n                isUndefined(e.isCollapsed)) || (!isUndefined(e.isCollapsed) && (isCollapse !== e.isCollapsed))) : true;\n        });\n        //sort the collapsible groups based on the priority\n        groups.sort(function (a, b) { return a.priority - b.priority; });\n        //reverse the sorted array to return the array in descending order while collapsing.\n        return isCollapse ? groups.reverse() : groups;\n    };\n    Ribbon.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Ribbon.prototype.clearOverflowDropDown = function (index) {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(index.toString(), 10)].id + constants.CONTENT_ID);\n        if (!activeContent) {\n            return;\n        }\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        if (this.activeLayout === 'Simplified') {\n            this.removeSimplfiedOverflow(activeContent, tabContent, index, true);\n        }\n        else {\n            this.removeOverflowDropdown(activeContent, tabContent, true, index);\n        }\n    };\n    Ribbon.prototype.ribbonTabSelecting = function (e) {\n        var _this = this;\n        this.currentControlIndex = 0;\n        var nextTabId = e.selectingItem.getAttribute('data-id');\n        var previousTabId = e.previousItem.getAttribute('data-id');\n        var nextIndex = getIndex(this.tabs, (function (tab) { return (tab.id === nextTabId); }));\n        var previousIndex = getIndex(this.tabs, (function (tab) { return (tab.id === previousTabId); }));\n        nextIndex = nextIndex === -1 ? this.selectedTab : nextIndex;\n        var eventArgs = {\n            cancel: e.cancel, isInteracted: e.isInteracted, previousIndex: previousIndex, selectedIndex: nextIndex\n        };\n        this.trigger('tabSelecting', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.destroyScroll();\n            if (!_this.isAddRemove && (previousIndex !== -1)) {\n                _this.clearOverflowDropDown(previousIndex);\n            }\n            var selectedTabContent = _this.tabObj.items[parseInt(nextIndex.toString(), 10)].content;\n            if ((!selectedTabContent.querySelector('.' + constants.RIBBON_GROUP)) && (_this.tabs[parseInt(nextIndex.toString(), 10)].groups.length !== 0)) {\n                var elements = _this.createGroups(_this.tabs[parseInt(nextIndex.toString(), 10)].groups, nextIndex);\n                append(elements, selectedTabContent);\n            }\n        });\n    };\n    Ribbon.prototype.createTabItems = function (tabs) {\n        var _this = this;\n        var tabItems = [];\n        for (var i = 0; i < tabs.length; i++) {\n            var ribbonTab = tabs[parseInt(i.toString(), 10)];\n            var header = this.createElement('span', {\n                innerHTML: ribbonTab.header,\n                id: ribbonTab.id + constants.HEADER_ID\n            });\n            header.onclick = function () { _this.minimize(false); };\n            header.ondblclick = function () { _this.minimize(true); };\n            var tab = { header: { text: header }, id: ribbonTab.id, cssClass: ribbonTab.cssClass };\n            var content = this.createElement('div', {\n                className: tab.cssClass,\n                id: ribbonTab.id + constants.CONTENT_ID\n            });\n            content.classList.add(constants.RIBBON_TAB_ITEM);\n            tab.content = content;\n            tabItems.push(tab);\n        }\n        return tabItems;\n    };\n    Ribbon.prototype.renderInitialTab = function (index) {\n        var elements = this.createGroups(this.tabs[parseInt(index.toString(), 10)].groups, index);\n        var content = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        append(elements, content);\n        if (this.activeLayout === 'Simplified') {\n            this.element.classList.add(constants.RIBBON_SIMPLIFIED_MODE);\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.addOverflowButton = function (btnId) {\n        var _this = this;\n        var overflowButton = this.createElement('button', {\n            id: btnId\n        });\n        var overflowTarget = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_TARGET,\n            attrs: { 'tabindex': '0' }\n        });\n        var overflowDDB = new DropDownButton({\n            iconCss: constants.OVERFLOW_ICON,\n            cssClass: constants.DROPDOWNBUTTON_HIDE + constants.SPACE + constants.RIBBON_GROUP_OVERFLOW_DDB,\n            target: overflowTarget,\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            enablePersistence: this.enablePersistence,\n            beforeOpen: function (args) {\n                var eventArgs = { element: args.element, event: args.event, cancel: args.cancel };\n                _this.trigger('overflowPopupOpen', eventArgs, function (ribbonArgs) {\n                    if (ribbonArgs.cancel) {\n                        args.cancel = true;\n                    }\n                });\n            },\n            beforeClose: function (args) {\n                var ele = args.event ? closest(args.event.target, '.' + constants.RIBBON_POPUP_CONTROL) : null;\n                var eventArgs = { element: args.element, event: args.event, cancel: args.cancel };\n                _this.trigger('overflowPopupClose', eventArgs, function (ribbonArgs) {\n                    if (ele || ribbonArgs.cancel) {\n                        args.cancel = true;\n                    }\n                });\n            }\n        }, overflowButton);\n        this.element.classList.add(constants.RIBBON_OVERFLOW);\n        createTooltip(overflowTarget, this);\n        var isGroupOf;\n        overflowButton.onkeydown = overflowButton.onclick = function () { _this.itemIndex = -1; isGroupOf = overflowButton.classList.contains('e-ribbon-overall-of-btn') ? false : true; };\n        overflowTarget.onkeydown = function (e) { return (_this.upDownKeyHandler(e, overflowTarget, isGroupOf), _this); };\n        return overflowDDB;\n    };\n    Ribbon.prototype.upDownKeyHandler = function (e, target, isGroupOf) {\n        var items;\n        if (isGroupOf) {\n            items = target.getElementsByClassName('e-ribbon-item');\n        }\n        else {\n            var currentList = target.querySelector('.e-ribbon-of-tab.e-ribbon-active');\n            items = currentList.getElementsByClassName('e-ribbon-item');\n        }\n        var comboBoxEle = items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-control').classList.contains('e-combobox') ? items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-combobox') : null;\n        var ribbonItem;\n        if (comboBoxEle === null || (e.key === 'Tab') || this.itemIndex < 0) {\n            if (e.key === 'ArrowDown' || (!e.shiftKey && e.key === 'Tab')) {\n                if ((!this.itemIndex && this.itemIndex !== 0) || this.itemIndex < 0 || this.itemIndex === items.length - 1) {\n                    this.itemIndex = 0;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                    if (comboBoxEle && e.key === 'Tab') {\n                        e.preventDefault();\n                        items[this.itemIndex].querySelector('.e-control').focus();\n                    }\n                }\n                else if (this.itemIndex < items.length - 1 && this.itemIndex >= 0) {\n                    this.itemIndex++;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                }\n            }\n            else if (e.key === 'ArrowUp' || (e.shiftKey && e.key === 'Tab')) {\n                if (comboBoxEle === null || (e.key === 'Tab')) {\n                    if (!this.itemIndex || this.itemIndex === -1) {\n                        this.itemIndex = items.length - 1;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                        if (comboBoxEle && (e.shiftKey && e.key === 'Tab')) {\n                            e.preventDefault();\n                            items[this.itemIndex].querySelector('.e-control').focus();\n                        }\n                    }\n                    else if (this.itemIndex <= items.length - 1 && this.itemIndex > 0) {\n                        this.itemIndex--;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                    }\n                }\n            }\n            target.setAttribute('index', this.itemIndex.toString());\n        }\n        var currentItemIndex = parseInt(target.getAttribute('index'), 10);\n        var itemType = items[parseInt(currentItemIndex.toString(), 10)] ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').getAttribute('data-control') : null;\n        if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === ' ' || e.key === 'Tab') {\n            if (itemType === 'ColorPicker') {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-split-colorpicker').focus();\n            }\n            else {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n            if (e.key === ' ' && (itemType === 'CheckBox')) {\n                var checkBoxEle = items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control');\n                var checkBox = getComponent(checkBoxEle, CheckBox);\n                this.itemIndex = -1;\n                checkBox.click();\n            }\n        }\n        if (((itemType === 'SplitButton') && (e.key === 'ArrowRight' || e.key === 'ArrowLeft'))) {\n            if (e.key === 'ArrowRight') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus();\n            }\n            if (e.key === 'ArrowLeft') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n        }\n        if (e.key === 'Enter') {\n            this.itemIndex = -1;\n        }\n    };\n    Ribbon.prototype.findDisabledItem = function (ribbonItem, items, isIncrease) {\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (isIncrease) {\n                if (this.itemIndex === items.length - 1 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = -1;\n                }\n            }\n            else {\n                if (this.itemIndex === 0 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = items.length;\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            isIncrease ? this.itemIndex++ : this.itemIndex--;\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n    };\n    Ribbon.prototype.removeOverflowButton = function (overflowDDB) {\n        if (overflowDDB) {\n            var btnEle = overflowDDB.element;\n            destroyTooltip(overflowDDB.target);\n            overflowDDB.destroy();\n            btnEle.remove();\n        }\n    };\n    Ribbon.prototype.removeOverflowEvent = function (item, itemEle) {\n        if (itemEle) {\n            switch (item.type) {\n                case 'Button':\n                    this.ribbonButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'DropDown':\n                    this.ribbonDropDownModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'SplitButton':\n                    this.ribbonSplitButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'CheckBox':\n                    this.ribbonCheckBoxModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'ColorPicker':\n                    this.ribbonColorPickerModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'ComboBox':\n                    this.ribbonComboBoxModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'GroupButton':\n                    this.ribbonGroupButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n            }\n        }\n    };\n    Ribbon.prototype.createGroupContainer = function (groupId, groupHeader) {\n        var ofGroupContainer = this.createElement('div', {\n            className: constants.RIBBON_OF_GROUP_CONTAINER,\n            id: groupId + constants.CONTAINER_ID\n        });\n        var ofGroupHeader = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_HEADER,\n            id: groupId + constants.HEADER_ID,\n            innerHTML: groupHeader\n        });\n        ofGroupContainer.append(ofGroupHeader);\n        return ofGroupContainer;\n    };\n    Ribbon.prototype.addExpandCollapse = function () {\n        var _this = this;\n        this.collapseButton = this.createElement('span', {\n            className: constants.RIBBON_COLLAPSE_BUTTON + constants.SPACE + constants.EXPAND_COLLAPSE_ICON,\n            id: this.tabObj.element.id + constants.COLLAPSE_BUTTON_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Layout Switcher', 'role': 'button' }\n        });\n        this.collapseButton.onclick = function () { _this.toggleLayout(); };\n        this.collapseButton.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                _this.toggleLayout();\n            }\n        };\n        this.element.classList.add(constants.RIBBON_COLLAPSIBLE);\n        if (this.activeLayout === 'Simplified') {\n            this.collapseButton.classList.add(constants.RIBBON_EXPAND_BUTTON);\n        }\n        this.tabObj.element.appendChild(this.collapseButton);\n    };\n    Ribbon.prototype.removeExpandCollapse = function () {\n        var _this = this;\n        var index = getIndex(this.tooltipData, function (e) { return e.id === _this.collapseButton.id; });\n        if (index !== -1) {\n            this.tooltipData.splice(index, 1);\n        }\n        this.element.classList.remove(constants.RIBBON_COLLAPSIBLE);\n        remove(this.tabObj.element.querySelector('.' + constants.RIBBON_COLLAPSE_BUTTON));\n        this.collapseButton = null;\n    };\n    Ribbon.prototype.reRenderTabs = function (tabs) {\n        this.destroyScroll();\n        this.checkID(this.tabs, 'tab', this.element.id);\n        for (var key in tabs) {\n            var index = parseInt(key, 10);\n            var tab = tabs[parseInt(index.toString(), 10)];\n            var isNewTab = false;\n            for (var j = 0; j < (this.tabObj.items.length); j++) {\n                if (this.tabs[parseInt(index.toString(), 10)].id === this.tabObj.items[parseInt(j.toString(), 10)].id) {\n                    isNewTab = true;\n                    break;\n                }\n            }\n            if (!isNewTab) {\n                this.destroyTabItems(this.tabsInternal);\n                this.tabsInternal = this.tabs.slice();\n                this.validateItemSize();\n                var tabItems = this.createTabItems(this.tabs);\n                if (this.selectedTab >= this.tabs.length) {\n                    this.selectedTab = this.tabs.length - 1;\n                }\n                this.tabObj.setProperties({ items: tabItems, selectedItem: this.selectedTab });\n                break;\n            }\n            else {\n                var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n                var tabEle = this.tabObj.element;\n                var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n                ribbonTab.setProperties(tab, true);\n                this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n                this.validateItemSize();\n                var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n                if (groups) {\n                    // Check whether header is passed by the user and sets the updated values.\n                    if (tab.header) {\n                        this.tabObj.items[parseInt(index.toString(), 10)].header.text.innerText = ribbonTab.header;\n                    }\n                    // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n                    if (tab.cssClass) {\n                        if (this.tabObj.items[parseInt(index.toString(), 10)].cssClass) {\n                            contentEle.classList.remove(this.tabObj.items[parseInt(index.toString(), 10)].cssClass);\n                            tabEle.querySelector('.e-active').classList.remove(this.tabObj.items[parseInt(index.toString(), 10)].cssClass);\n                        }\n                        contentEle.classList.add(ribbonTab.cssClass);\n                        tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n                    }\n                    // Check whether group is passed by the user, and if it is, then remove the old values.\n                    if (tab.groups) {\n                        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                            var group = groups_1[_i];\n                            var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                            for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                                var collection = _b[_a];\n                                for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                                    var item = _d[_c];\n                                    var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                                    if (ele) {\n                                        this.destroyFunction(item, ele);\n                                    }\n                                }\n                            }\n                            if (dropdownElement) {\n                                this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                            }\n                        }\n                        var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                        // eslint-disable-next-line @typescript-eslint/tslint/config\n                        groupElements.forEach(function (groupEle) { groupEle.remove(); });\n                        var elements = this.createGroups(ribbonTab.groups, index);\n                        append(elements, contentEle);\n                    }\n                }\n            }\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.switchLayout = function () {\n        this.currentControlIndex = 0;\n        this.destroyScroll();\n        this.collapseButton.classList.toggle(constants.RIBBON_EXPAND_BUTTON, this.activeLayout === 'Simplified');\n        this.element.classList.toggle(constants.RIBBON_SIMPLIFIED_MODE, this.activeLayout === 'Simplified');\n        for (var i = 0; i <= (this.tabs.length - 1); i++) {\n            var tabIndex = i;\n            var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n            if (contentEle.innerHTML !== '') {\n                var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n                var groupList = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n                var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.CONTENT_ID);\n                var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n                if (this.activeLayout === 'Simplified') {\n                    for (var i_1 = 0; i_1 < groupList.length; i_1++) {\n                        var group = groupList[parseInt(i_1.toString(), 10)];\n                        var alignType = groupList[parseInt(i_1.toString(), 10)].orientation;\n                        if (group.isCollapsed) {\n                            group.setProperties({ isCollapsed: false }, true);\n                            this.removeDropdown(group.id);\n                        }\n                        else {\n                            this.checkSmallToMedium(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                            this.checkMediumToLarge(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                        }\n                        var groupEle = tabContent.querySelector('#' + group.id);\n                        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var shrinkColumns = groupContainer.querySelectorAll('.' + 'e-ribbon-shrink');\n                        for (var i_2 = 0; i_2 < shrinkColumns.length; i_2++) {\n                            shrinkColumns[parseInt(i_2.toString(), 10)].remove();\n                        }\n                        var groupHeader = groupContainer.querySelector('#' + group.id + constants.HEADER_ID);\n                        groupHeader.remove();\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        groupContent.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                        groupContent.classList.remove(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            groupCollection.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && (item.displayOptions === DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle_1 = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    var ele = itemEle_1.querySelector('#' + item.id);\n                                    this.destroyFunction(item, ele);\n                                    itemEle_1.remove();\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                var size = ((item.allowedSizes === RibbonItemSize.Large) ||\n                                    (item.allowedSizes & RibbonItemSize.Medium)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                size = (!(item.displayOptions & DisplayMode.Simplified) && (item.displayOptions & DisplayMode.Overflow))\n                                    ? RibbonItemSize.Medium : size;\n                                var itemEle = void 0;\n                                if (!(item.displayOptions & DisplayMode.Classic)) {\n                                    itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer)[0];\n                                    if (item.displayOptions & DisplayMode.Simplified) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                else {\n                                    itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)) {\n                                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemEle, groupContainer);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, true);\n                                        }\n                                    }\n                                    if (item.type === RibbonItemType.GroupButton) {\n                                        this.ribbonGroupButtonModule.switchGroupButton(item, itemEle);\n                                    }\n                                    item.setProperties({ activeSize: size }, true);\n                                    if (itemEle) {\n                                        var ele = itemEle.querySelector('#' + item.id);\n                                        this.setItemSize(ele, item);\n                                    }\n                                }\n                            }\n                        }\n                        if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                    }\n                }\n                else {\n                    this.element.classList.remove(constants.RIBBON_OVERFLOW);\n                    for (var i_3 = 0; i_3 < groupList.length; i_3++) {\n                        var group = groupList[parseInt(i_3.toString(), 10)];\n                        var alignType = groupList[parseInt(i_3.toString(), 10)].orientation;\n                        var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        var groupHeader = this.createElement('div', {\n                            className: constants.RIBBON_GROUP_HEADER,\n                            id: group.id + constants.HEADER_ID,\n                            innerHTML: group.header\n                        });\n                        groupContainer.appendChild(groupHeader);\n                        if (alignType === 'Row') {\n                            groupContent.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                        }\n                        groupContent.classList.add(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var overflowDDB = void 0;\n                            var overflowtarget = void 0;\n                            if (!group.enableGroupOverflow) {\n                                overflowDDB = this.overflowDDB;\n                                if (overflowDDB) {\n                                    overflowtarget = this.overflowDDB.target;\n                                }\n                            }\n                            else {\n                                var overflowDDBEle = groupContainer.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                                if (overflowDDBEle) {\n                                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                                    overflowtarget = overflowDDB.target;\n                                }\n                            }\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            if (alignType === 'Column') {\n                                groupCollection.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                            }\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && !(item.displayOptions & DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle = void 0;\n                                    if ((item.displayOptions & DisplayMode.Simplified) || (item.displayOptions & DisplayMode.Overflow)) {\n                                        if (item.displayOptions & DisplayMode.Simplified) {\n                                            itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        else {\n                                            itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        if (itemEle !== null) {\n                                            var ele_8 = itemEle.querySelector('#' + item.id);\n                                            this.destroyFunction(item, ele_8);\n                                            itemEle.remove();\n                                        }\n                                    }\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                if (!(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) {\n                                    var itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex)[0];\n                                    groupCollection.append(itemEle);\n                                }\n                                else {\n                                    var itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (!itemEle && overflowtarget) {\n                                        itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, false);\n                                        }\n                                        this.removeOverflowEvent(item, itemEle);\n                                    }\n                                    if (item.type === RibbonItemType.GroupButton) {\n                                        this.ribbonGroupButtonModule.switchGroupButton(item, itemEle);\n                                    }\n                                    if (itemEle) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                var ele = groupContainer.querySelector('#' + item.id);\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    ele = groupContainer.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                                }\n                                var itemsize = (item.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                                    (item.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                item.setProperties({ activeSize: itemsize }, true);\n                                this.setItemSize(ele, item);\n                            }\n                            if (group.enableGroupOverflow && overflowDDB) {\n                                if (overflowtarget.childElementCount === 0) {\n                                    this.removeOverflowButton(overflowDDB);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (this.selectedTab === tabIndex) {\n                    this.checkOverflow(tabIndex, activeContent);\n                }\n            }\n        }\n        if (this.activeLayout === 'Classic') {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.createLauncherIcon = function (groupId, groupContainer) {\n        var _this = this;\n        var launcherIcon = this.createElement('div', {\n            className: constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss ? this.launcherIconCss : constants.RIBBON_LAUNCHER_ICON),\n            id: groupId + constants.LAUNCHER_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Launcher Icon', 'role': 'button' }\n        });\n        groupContainer.appendChild(launcherIcon);\n        groupContainer.classList.add(constants.RIBBON_LAUNCHER);\n        EventHandler.add(launcherIcon, 'click', this.launcherIconClicked.bind(this, groupId), this);\n        EventHandler.add(launcherIcon, 'keydown', function (e) {\n            if (e.key === 'Enter') {\n                _this.launcherIconClicked(groupId);\n            }\n        }, this);\n    };\n    Ribbon.prototype.launcherIconClicked = function (id) {\n        var eventArgs = { groupId: id };\n        this.trigger('launcherIconClick', eventArgs);\n    };\n    Ribbon.prototype.createGroups = function (groupList, tabIndex) {\n        var groupElements = [];\n        for (var i = 0; i < groupList.length; i++) {\n            var group = groupList[parseInt(i.toString(), 10)];\n            var alignType = group.orientation;\n            var groupEle = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id\n            });\n            groupEle.classList.add(constants.RIBBON_GROUP);\n            groupElements.push(groupEle);\n            var groupContainer = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id + constants.CONTAINER_ID\n            });\n            groupContainer.classList.add(constants.RIBBON_GROUP_CONTAINER);\n            groupEle.appendChild(groupContainer);\n            var groupContent = this.createElement('div', {\n                className: this.activeLayout === 'Simplified' ? constants.RIBBON_GROUP_CONTENT : (constants.RIBBON_GROUP_CONTENT + constants.SPACE + constants.RIBBON_CONTENT_HEIGHT),\n                id: group.id + constants.CONTENT_ID\n            });\n            groupContent.classList.add(((alignType === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            groupContainer.appendChild(groupContent);\n            if (this.activeLayout === 'Classic') {\n                var groupHeader = this.createElement('div', {\n                    className: constants.RIBBON_GROUP_HEADER,\n                    id: group.id + constants.HEADER_ID,\n                    innerHTML: group.header\n                });\n                groupContainer.appendChild(groupHeader);\n            }\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(group.id, groupContainer);\n            }\n            var elements = this.createCollection(group.collections, group.orientation, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer);\n            append(elements, groupContent);\n            var isItemsHidden = true;\n            for (var j = 0; j < elements.length; j++) {\n                if (isItemsHidden) {\n                    for (var k = 0; k < elements[parseInt(j.toString(), 10)].children.length; k++) {\n                        if (!(elements[parseInt(j.toString(), 10)].children[parseInt(k.toString(), 10)].classList.contains('e-hidden'))) {\n                            isItemsHidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (isItemsHidden) {\n                groupEle.classList.add('e-hide-group');\n            }\n            if ((this.activeLayout === 'Simplified') && !(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n            var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n            if (initialProps) {\n                if (initialProps.hiddenGroups && initialProps.hiddenGroups.length) {\n                    this.updateGroupProps('hiddenGroups', initialProps, groupEle);\n                }\n                if (initialProps.disabledGroups && initialProps.disabledGroups.length) {\n                    this.updateGroupProps('disabledGroups', initialProps, groupEle);\n                }\n            }\n        }\n        if (this.initialPropsData[parseInt(tabIndex.toString(), 10)]) {\n            delete this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        }\n        return groupElements;\n    };\n    Ribbon.prototype.updateGroupProps = function (key, initialProps, groupEle) {\n        // eslint-disable-next-line\n        var groupIndex = initialProps[key].indexOf(groupEle.id);\n        if (groupIndex !== -1) {\n            key === 'hiddenGroups' ? groupEle.classList.add('e-hidden') : groupEle.classList.add('e-disabled');\n        }\n    };\n    Ribbon.prototype.validateItemSize = function () {\n        for (var k = 0; k < this.tabs.length; k++) {\n            var groupList = this.tabs[parseInt(k.toString(), 10)].groups;\n            for (var l = 0; l < groupList.length; l++) {\n                var collectionList = groupList[parseInt(l.toString(), 10)].collections;\n                var alignType = groupList[parseInt(l.toString(), 10)].orientation;\n                for (var i = 0; i < collectionList.length; i++) {\n                    var items = collectionList[parseInt(i.toString(), 10)].items;\n                    for (var j = 0; j < items.length; j++) {\n                        var ribbonitem = items[parseInt(j.toString(), 10)];\n                        if (!ribbonitem.allowedSizes || (ribbonitem.allowedSizes === 0)) {\n                            ribbonitem.setProperties({\n                                allowedSizes: (RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n                            }, true);\n                        }\n                        if ((ribbonitem.type === 'ColorPicker') && (ribbonitem.allowedSizes !== RibbonItemSize.Small)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Small }, true);\n                        }\n                        else if ((ribbonitem.type === 'ComboBox' || ribbonitem.type === 'CheckBox') &&\n                            (ribbonitem.allowedSizes !== RibbonItemSize.Medium)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Medium }, true);\n                        }\n                        else if (((alignType === 'Column') && (items.length > 1)) || ((alignType === 'Row') && (collectionList.length > 1))) {\n                            if (ribbonitem.allowedSizes & RibbonItemSize.Large) {\n                                // To remove large size, perform 'and' with 011(3).\n                                var sizeVal = ribbonitem.allowedSizes & (RibbonItemSize.Small | RibbonItemSize.Medium);\n                                sizeVal = sizeVal ? sizeVal : RibbonItemSize.Medium;\n                                ribbonitem.setProperties({ allowedSizes: sizeVal }, true);\n                            }\n                        }\n                        var itemsize = (ribbonitem.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                            (ribbonitem.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                        ribbonitem.setProperties({ activeSize: itemsize }, true);\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createCollection = function (collectionList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var collectionElements = [];\n        for (var i = 0; i < collectionList.length; i++) {\n            var collection = collectionList[parseInt(i.toString(), 10)];\n            var collectionEle = this.createElement('div', {\n                className: collection.cssClass,\n                id: collection.id\n            });\n            collectionEle.classList.add(constants.RIBBON_COLLECTION);\n            collectionEle.classList.add(((alignType !== 'Column') || (this.activeLayout === 'Simplified')) ?\n                constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            collectionElements.push(collectionEle);\n            var elements = this.createItems(collection.items, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer);\n            append(elements, collectionEle);\n            if ((alignType === 'Row') && (i === 2)) {\n                break;\n            }\n        }\n        return collectionElements;\n    };\n    Ribbon.prototype.createRibbonItem = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.createButton(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.createDropDown(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.createSplitButton(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.createCheckBox(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.createColorPicker(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.createComboBox(item, itemEle);\n                break;\n            case 'Template':\n                this.createTemplateContent(item, itemEle);\n                break;\n            case 'GroupButton':\n                this.ribbonGroupButtonModule.createGroupButton(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createItems = function (itemList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var _a;\n        var itemElements = [];\n        for (var i = 0; i < itemList.length; i++) {\n            var item = itemList[parseInt(i.toString(), 10)];\n            //To stop rendering of items with simplified mode position type as none\n            var flag = true;\n            while (flag &&\n                (((this.activeLayout === 'Simplified') && !(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) ||\n                    ((this.activeLayout === 'Classic') && !(item.displayOptions & DisplayMode.Classic)))) {\n                i++;\n                if (i < itemList.length) {\n                    item = itemList[parseInt(i.toString(), 10)];\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (!flag) {\n                break;\n            }\n            var itemEle = this.createElement('div', {\n                className: item.cssClass,\n                id: item.id + constants.CONTAINER_ID\n            });\n            (_a = itemEle.classList).add.apply(_a, [constants.RIBBON_ITEM].concat((item.disabled ? [constants.DISABLED_CSS] : [])));\n            // To avoid undefined items condition is added\n            if (item.ribbonTooltipSettings && isTooltipPresent(item.ribbonTooltipSettings)) {\n                itemEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemEle.id, data: item.ribbonTooltipSettings });\n            }\n            var size = item.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((item.allowedSizes === RibbonItemSize.Large) || (item.allowedSizes & RibbonItemSize.Medium) ||\n                    (item.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                item.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemEle.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemEle.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n            if (initialProps && initialProps.hiddenItems && initialProps.hiddenItems.length) {\n                var itemIndex = initialProps.hiddenItems.indexOf(item.id);\n                if (itemIndex !== -1) {\n                    itemEle.classList.add('e-hidden');\n                }\n            }\n            this.createRibbonItem(item, itemEle);\n            if ((this.activeLayout === 'Simplified') && ((item.displayOptions === DisplayMode.Overflow) || (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)))) {\n                this.createOverflowPopup(item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer);\n                if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                    this.updatePopupItems(item, itemEle, isGroupOF, true);\n                }\n            }\n            else {\n                // For normal mode and Simplified mode position type as Group and Auto\n                itemElements.push(itemEle);\n            }\n            if ((alignType === 'Column') && (i === 2)) {\n                break;\n            }\n        }\n        return itemElements;\n    };\n    Ribbon.prototype.createHelpPaneTemplate = function () {\n        if (this.helpPaneTemplate) {\n            var templateName = 'helpPaneTemplate';\n            this.clearTemplate([templateName]);\n            this.ribbonTempEle = this.createElement('div', {\n                className: constants.RIBBON_HELP_TEMPLATE,\n                id: this.element.id + constants.RIBBON_HELP_PANE_TEMPLATE_ID\n            });\n            var templateFunction = getTemplateFunction(this.helpPaneTemplate);\n            append(templateFunction({}, this, templateName, 'helpPaneTemplate', this.isStringTemplate), this.ribbonTempEle);\n            var tabEle = this.tabObj.element;\n            var toolbarEle = tabEle.querySelector('.e-toolbar');\n            toolbarEle.after(this.ribbonTempEle);\n            tabEle.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, this.ribbonTempEle.offsetWidth + 'px');\n            this.renderReactTemplates();\n        }\n    };\n    Ribbon.prototype.createTemplateContent = function (item, itemElement) {\n        var itemEle = this.createElement('div', {\n            className: item.cssClass ? (constants.RIBBON_TEMPLATE + constants.SPACE + item.cssClass) : constants.RIBBON_TEMPLATE,\n            id: item.id\n        });\n        if (item.disabled) {\n            itemEle.classList.add(constants.DISABLED_CSS);\n            itemEle.setAttribute('disabled', '');\n        }\n        itemElement.appendChild(itemEle);\n        this.renderItemTemplate(item, itemEle);\n    };\n    Ribbon.prototype.renderItemTemplate = function (item, itemElement) {\n        var templateName = 'ribbon' + item.id + 'itemTemplate';\n        this.clearTemplate([templateName]);\n        var templateFunction = getTemplateFunction(item.itemTemplate);\n        append(templateFunction({ activeSize: RibbonItemSize[item.activeSize] }, this, templateName, (item.id + 'itemTemplate'), this.isStringTemplate), itemElement);\n        this.renderReactTemplates();\n    };\n    Ribbon.prototype.checkID = function (list, type, initId) {\n        var key = type === 'tab' ? constants.TAB_ID : type === 'group' ? constants.GROUP_ID :\n            type === 'collection' ? constants.COLLECTION_ID : constants.ITEM_ID;\n        for (var i = 0; i < list.length; i++) {\n            var listitem = list[parseInt(i.toString(), 10)];\n            if (!listitem.id) {\n                listitem.setProperties({ id: initId + key + (this.idIndex++) }, true);\n            }\n            switch (type) {\n                case 'tab':\n                    listitem.setProperties({ groups: this.checkID(listitem.groups, 'group', listitem.id) }, true);\n                    break;\n                case 'group':\n                    listitem.setProperties({ collections: this.checkID(listitem.collections, 'collection', listitem.id) }, true);\n                    break;\n                case 'collection':\n                    listitem.setProperties({ items: this.checkID(listitem.items, 'item', listitem.id) }, true);\n                    break;\n                default:\n                    break;\n            }\n        }\n        return list;\n    };\n    Ribbon.prototype.updateCommonProperty = function (commonProp) {\n        this.tabObj.setProperties(commonProp);\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.setCommonProperties(commonProp);\n        }\n        if (this.ribbonBackstageModule) {\n            this.ribbonBackstageModule.setCommonProperties(commonProp);\n        }\n        for (var i = 0; i < this.tabs.length; i++) {\n            var tab = this.tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            if (contentEle.querySelector('.' + constants.RIBBON_GROUP)) {\n                for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                    var group = _a[_i];\n                    var dropdownElement = void 0;\n                    var dropdown = void 0;\n                    if (this.activeLayout === RibbonLayout.Classic) {\n                        dropdownElement = group.isCollapsed ?\n                            contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    }\n                    else {\n                        dropdownElement = group.enableGroupOverflow ?\n                            contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                        dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                        if (dropdown) {\n                            updateTooltipProp(dropdown.target, commonProp);\n                            dropdown.setProperties(commonProp);\n                        }\n                    }\n                    for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                        var collection = _c[_b];\n                        for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                            var item = _e[_d];\n                            var ele = null;\n                            if (this.activeLayout === RibbonLayout.Classic) {\n                                if (item.displayOptions & DisplayMode.Classic) {\n                                    ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : item.type === RibbonItemType.GroupButton ? contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID) : contentEle.querySelector('#' + item.id);\n                                }\n                            }\n                            else {\n                                //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                                ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n                                // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                                if (!ele) {\n                                    ele = dropdown.target.querySelector('#' + item.id);\n                                    if (item.type === 'DropDown') {\n                                        this.updatePopupItems(item, dropdown.target, group.enableGroupOverflow, true);\n                                    }\n                                }\n                            }\n                            if (ele) {\n                                var moduleName = this.getItemModuleName(item);\n                                if (moduleName !== 'template') {\n                                    if (moduleName === 'group-btn' && this.activeLayout === 'Classic') {\n                                        for (var i_4 = 0; i_4 < item.groupButtonSettings.items.length; i_4++) {\n                                            var btnEle = ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i_4);\n                                            updateCommonProperty(btnEle, 'btn', commonProp);\n                                        }\n                                    }\n                                    else if (moduleName === 'group-btn' && this.activeLayout === 'Simplified') {\n                                        updateCommonProperty(ele, 'dropdown-btn', commonProp);\n                                        for (var i_5 = 0; i_5 < item.groupButtonSettings.items.length; i_5++) {\n                                            var btnEle = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i_5);\n                                            updateCommonProperty(btnEle, 'btn', commonProp);\n                                        }\n                                    }\n                                    else {\n                                        updateCommonProperty(ele, moduleName, commonProp);\n                                    }\n                                }\n                                else if (!isNullOrUndefined(commonProp.enableRtl)) {\n                                    ele.classList.toggle(constants.RTL_CSS, commonProp.enableRtl);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.removeLauncherIcon = function (groupId, dropdownElement, contentEle) {\n        var containerId = groupId + constants.CONTAINER_ID;\n        var containerEle = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, containerId) : contentEle.querySelector('#' + containerId);\n        if (containerEle) {\n            containerEle.classList.remove(constants.RIBBON_LAUNCHER);\n            var launcherIcon = containerEle.querySelector('#' + groupId + constants.LAUNCHER_ID);\n            remove(launcherIcon);\n        }\n    };\n    Ribbon.prototype.destroyTabItems = function (tabs) {\n        for (var i = 0; i < tabs.length; i++) {\n            var tab = tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    if (group.showLauncherIcon) {\n                        this.removeLauncherIcon(group.id, dropdownElement, contentEle);\n                    }\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = void 0;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) :\n                                    contentEle.querySelector('#' + item.id);\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                        contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                                }\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ?\n                                contentEle.querySelector('#' + item.id) : null;\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown ? dropdown.target.querySelector('#' + item.id) : null;\n                            }\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if ((this.activeLayout === RibbonLayout.Classic) && dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n                else if ((this.activeLayout === RibbonLayout.Simplified) && group.enableGroupOverflow && dropdownElement) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.destroyFunction = function (item, ele) {\n        var moduleName = this.getItemModuleName(item);\n        if (moduleName === 'colorpicker') {\n            this.ribbonColorPickerModule.unwireColorPickerEvents(ele);\n        }\n        else if (moduleName === 'group-btn') {\n            if (this.activeLayout === 'Classic') {\n                for (var i = 0; i < item.groupButtonSettings.items.length; i++) {\n                    var btnEle = ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n                    if (btnEle) {\n                        destroyControl(btnEle, 'btn');\n                    }\n                }\n            }\n            else {\n                this.ribbonGroupButtonModule.destroyDropDown(item);\n            }\n            var _loop_3 = function (i) {\n                if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings) {\n                    var groupButtonID_1 = item.id + constants.RIBBON_GROUP_BUTTON_ID + i;\n                    var index = getIndex(this_3.tooltipData, function (e) { return e.id === groupButtonID_1; });\n                    if (index !== -1) {\n                        this_3.tooltipData.splice(index, 1);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < item.groupButtonSettings.items.length; i++) {\n                _loop_3(i);\n            }\n        }\n        else if (moduleName !== 'template') {\n            destroyControl(ele, moduleName);\n        }\n        if (item.ribbonTooltipSettings) {\n            var index = getIndex(this.tooltipData, function (e) { return e.id === item.id + constants.CONTAINER_ID; });\n            if (index !== -1) {\n                this.tooltipData.splice(index, 1);\n            }\n        }\n        if (item.type === 'GroupButton') {\n            this.ribbonGroupButtonModule.destroyDropDown(item);\n        }\n    };\n    Ribbon.prototype.getItemModuleName = function (item) {\n        switch (item.type) {\n            case 'Button':\n                return 'btn';\n            case 'DropDown':\n                return 'dropdown-btn';\n            case 'SplitButton':\n                return 'split-btn';\n            case 'CheckBox':\n                return 'checkbox';\n            case 'ColorPicker':\n                return 'colorpicker';\n            case 'ComboBox':\n                return 'combobox';\n            case 'GroupButton':\n                return 'group-btn';\n            default:\n                return 'template';\n        }\n    };\n    Ribbon.prototype.clearOverflowResize = function () {\n        this.destroyScroll();\n        this.clearOverflowDropDown(this.selectedTab);\n        var tab = this.tabs[this.selectedTab];\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        for (var j = 0; (j < tab.groups.length); j++) {\n            this.checkSmallToMedium(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n            this.checkMediumToLarge(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n        }\n    };\n    /**\n     * Refreshes the layout.\n     *\n     * @returns {void}\n     */\n    Ribbon.prototype.refreshLayout = function () {\n        this.resizeHandler();\n    };\n    /**\n     * Selects the tab\n     *\n     * @param  {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.selectTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        this.setProperties({ selectedTab: index });\n    };\n    /**\n     * Shows a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showTab = function (tabId) {\n        this.showHideTab(tabId, false);\n    };\n    /**\n     * Hides a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideTab = function (tabId) {\n        this.showHideTab(tabId, true);\n    };\n    Ribbon.prototype.showHideTab = function (tabId, value) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        this.tabObj.hideTab(index, value);\n    };\n    /**\n     * Enables a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be enabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableTab = function (tabId) {\n        this.enableDisableTab(tabId, true);\n    };\n    /**\n     * Disables a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be disabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableTab = function (tabId) {\n        this.enableDisableTab(tabId, false);\n    };\n    Ribbon.prototype.enableDisableTab = function (tabId, value) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        this.tabObj.enableTab(index, value);\n    };\n    /**\n     * Adds the ribbon tab.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model\n     * @param {string} targetId  - Gets the ID of the target tab to add the new tab.\n     * @param {boolean} isAfter - Defines whether the tab is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addTab = function (tab, targetId, isAfter) {\n        var index = targetId ? getIndex(this.tabs, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? this.tabs.length : (index + (isAfter ? 1 : 0));\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 0, tab);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.checkID([this.tabs[parseInt(index.toString(), 10)]], 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItem = this.createTabItems([tab]);\n        this.tabObj.addTab(tabItem, index);\n    };\n    /**\n     * Removes the ribbon tab.\n     *\n     * @param {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.removeTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        if (groups && (contentEle.innerHTML !== '')) {\n            for (var _i = 0, groups_2 = groups; _i < groups_2.length; _i++) {\n                var group = groups_2[_i];\n                var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                    var collection = _b[_a];\n                    for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                        var item = _d[_c];\n                        var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                        if (item.type === RibbonItemType.GroupButton && this.activeLayout === 'Classic') {\n                            ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if (dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 1);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.tabObj.removeTab(index);\n    };\n    /**\n     * Adds the ribbon group.\n     *\n     * @param {string} tabId - Gets the tab ID.\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @param {string} targetId - Gets the ID of the target group to add the new group.\n     * @param {boolean} isAfter - Defines whether the group is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addGroup = function (tabId, group, targetId, isAfter) {\n        var tabIndex = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (tabIndex === -1) {\n            return;\n        }\n        if (this.selectedTab === tabIndex) {\n            this.clearOverflowResize();\n        }\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        var ribbonGroups = tab.groups.slice();\n        var index = targetId ? getIndex(ribbonGroups, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonGroups.length : (index + (isAfter ? 1 : 0));\n        ribbonGroups.splice(index, 0, group);\n        tab.setProperties({ groups: ribbonGroups }, true);\n        this.checkID([tab.groups[parseInt(index.toString(), 10)]], 'group', tabId);\n        this.validateItemSize();\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        if (contentEle.innerHTML !== '') {\n            var element = this.createGroups([tab.groups[parseInt(index.toString(), 10)]], tabIndex)[0];\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.append(element);\n            }\n        }\n        if (this.selectedTab === tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon group.\n     *\n     * @param {string} groupId -Gets the group ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeGroup = function (groupId) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                var collection = _a[_i];\n                for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    this.removeItemElement(contentEle, item, dropdown);\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n            var groupEle = contentEle.querySelector('#' + groupId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroups = this.tabs[itemProp.tabIndex].groups.slice();\n        ribbonGroups.splice(itemProp.groupIndex, 1);\n        this.tabs[itemProp.tabIndex].setProperties({ groups: ribbonGroups }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Hides a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideGroup = function (groupID) {\n        this.showHideGroup(groupID, true);\n    };\n    /**\n     * Shows a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showGroup = function (groupID) {\n        this.showHideGroup(groupID, false);\n    };\n    Ribbon.prototype.showHideGroup = function (groupID, isHidden) {\n        var overflowDDB;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupID);\n        if (!itemProp) {\n            return;\n        }\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupID);\n        if (groupEle) {\n            isHidden ? groupEle.classList.add('e-hidden') : groupEle.classList.remove('e-hidden');\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, groupID, 'hiddenGroups', isHidden);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            if (itemProp.group.enableGroupOverflow) {\n                var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n                if (overflowtarget) {\n                    isHidden ? overflowtarget.classList.add('e-hidden') : overflowtarget.classList.remove('e-hidden');\n                }\n            }\n            else if (ofTabContainer) {\n                var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                if (grpContainer) {\n                    isHidden ? grpContainer.classList.add('e-hidden') : grpContainer.classList.remove('e-hidden');\n                }\n            }\n        }\n        this.refreshLayout();\n    };\n    /**\n     * Disables a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be disabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableGroup = function (groupID) {\n        this.enableDisableGroup(groupID, true);\n    };\n    /**\n     * Enables a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be enabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableGroup = function (groupID) {\n        this.enableDisableGroup(groupID, false);\n    };\n    Ribbon.prototype.enableDisableGroup = function (groupID, isDisabled) {\n        var overflowDDB;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupID);\n        if (!itemProp) {\n            return;\n        }\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupID);\n        if (groupEle) {\n            isDisabled ? groupEle.classList.add('e-disabled') : groupEle.classList.remove('e-disabled');\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, groupID, 'disabledGroups', isDisabled);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            if (itemProp.group.enableGroupOverflow) {\n                var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n                if (overflowtarget) {\n                    isDisabled ? overflowtarget.classList.add('e-disabled') : overflowtarget.classList.remove('e-disabled');\n                }\n            }\n            else if (ofTabContainer) {\n                var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                if (grpContainer) {\n                    isDisabled ? grpContainer.classList.add('e-disabled') : grpContainer.classList.remove('e-disabled');\n                }\n            }\n        }\n    };\n    /**\n     * adds the ribbon collection.\n     *\n     * @param {string} groupId - Gets the ribbon group ID.\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @param {string} targetId - Gets the ID of the target collection to add the new collection.\n     * @param {boolean} isAfter - Defines whether the collection is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addCollection = function (groupId, collection, targetId, isAfter) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Row') && (itemProp.group.collections.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonCollections = itemProp.group.collections.slice();\n        var index = targetId ? getIndex(ribbonCollections, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonCollections.length : (index + (isAfter ? 1 : 0));\n        ribbonCollections.splice(index, 0, collection);\n        itemProp.group.setProperties({ collections: ribbonCollections }, true);\n        this.checkID([itemProp.group.collections[parseInt(index.toString(), 10)]], 'collection', groupId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var collection_1 = itemProp.group.collections[parseInt(index.toString(), 10)];\n            var element = this.createCollection([collection_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.querySelector('#' + groupId + constants.CONTENT_ID).append(element);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon collection.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeCollection = function (collectionId) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.removeItemElement(contentEle, item, dropdown);\n            }\n            var groupEle = contentEle.querySelector('#' + collectionId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroup = itemProp.group;\n        var ribbonCollections = ribbonGroup.collections.slice();\n        ribbonCollections.splice(itemProp.collectionIndex, 1);\n        ribbonGroup.setProperties({ collections: ribbonCollections }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Adds ribbon item.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {string} targetId - Gets the ID of the target item to add the new item.\n     * @param {boolean} isAfter - Defines whether the item is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addItem = function (collectionId, item, targetId, isAfter) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Column') && (itemProp.collection.items.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonItems = itemProp.collection.items.slice();\n        var index = targetId ? getIndex(ribbonItems, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonItems.length : (index + (isAfter ? 1 : 0));\n        ribbonItems.splice(index, 0, item);\n        itemProp.collection.setProperties({ items: ribbonItems }, true);\n        this.checkID([itemProp.collection.items[parseInt(index.toString(), 10)]], 'item', collectionId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        if (contentEle.innerHTML !== '') {\n            var item_1 = itemProp.collection.items[parseInt(index.toString(), 10)];\n            var element = this.createItems([item_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.closest('.' + constants.RIBBON_ITEM).insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                if (element) {\n                    contentEle.querySelector('#' + collectionId).append(element);\n                }\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeItem = function (itemId) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            var item = itemProp.item;\n            this.removeItemElement(contentEle, item, dropdown);\n        }\n        var ribbonCollection = itemProp.collection;\n        var ribbonItems = ribbonCollection.items;\n        ribbonItems.splice(itemProp.itemIndex, 1);\n        ribbonCollection.setProperties({ items: ribbonItems }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Hides a specific ribbon item.\n     *\n     * @param {string} itemId - The ID of the item to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideItem = function (itemId) {\n        this.showHideItem(itemId, true);\n    };\n    /**\n     * Shows a specific ribbon item.\n     *\n     * @param {string} itemId - The ID of the item to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showItem = function (itemId) {\n        this.showHideItem(itemId, false);\n    };\n    Ribbon.prototype.showHideItem = function (itemId, isHidden) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        var ele;\n        if (itemProp.item.type === 'GroupButton') {\n            ele = getItemElement(this, itemId + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n        }\n        else {\n            ele = getItemElement(this, itemId, itemProp);\n        }\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            isHidden ? itemEle.classList.add('e-hidden') : itemEle.classList.remove('e-hidden');\n            this.checkHiddenItems(itemProp.group, isHidden, itemProp.tabIndex);\n            this.refreshLayout();\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, itemId, 'hiddenItems', isHidden);\n        }\n    };\n    Ribbon.prototype.updateInitialProps = function (tabIndex, id, key, isInsert) {\n        var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        if (!initialProps) {\n            this.initialPropsData[parseInt(tabIndex.toString(), 10)] = {};\n            initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        }\n        if (initialProps) {\n            /* eslint-disable */\n            if (!initialProps[key])\n                initialProps[key] = [];\n            var itemIndex = initialProps[key].indexOf(id);\n            if (isInsert) {\n                if (itemIndex === -1)\n                    initialProps[key].push(id);\n            }\n            else {\n                if (itemIndex !== -1)\n                    initialProps[key].splice(itemIndex, 1);\n                initialProps[key].length === 0 && delete initialProps[key];\n                /* eslint-enable */\n                if (Object.keys(initialProps).length === 0) {\n                    delete this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkHiddenItems = function (group, isHidden, tabIndex) {\n        var isItemsHidden = true;\n        var isEmptyCollection;\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        var groupEle = contentEle.querySelector('#' + group.id);\n        if (isHidden) {\n            for (var i = 0; i < group.collections.length; i++) {\n                if (isItemsHidden) {\n                    var collection = group.collections[parseInt(i.toString(), 10)];\n                    for (var j = 0; j < collection.items.length; j++) {\n                        var item = collection.items[parseInt(j.toString(), 10)];\n                        var itemEle = void 0;\n                        if (item.type === 'GroupButton') {\n                            var itemProp = getItem(this.tabs, item.id);\n                            itemEle = getItemElement(this, item.id + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n                        }\n                        else {\n                            itemEle = getItemElement(this, item.id);\n                        }\n                        var itemContainer = itemEle ? itemEle.closest('.e-ribbon-item') : null;\n                        if (!(itemContainer.classList.contains('e-hidden'))) {\n                            isItemsHidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (isItemsHidden) {\n                groupEle.classList.add('e-hide-group');\n                this.checkOverflowItems(isHidden, contentEle, group.enableGroupOverflow, tabIndex, group.id);\n            }\n        }\n        else {\n            groupEle.classList.remove('e-hide-group');\n            this.checkOverflowItems(isHidden, contentEle, group.enableGroupOverflow, tabIndex, group.id);\n        }\n        if (this.activeLayout === 'Simplified' && !group.enableGroupOverflow) {\n            var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n            if (itemsLength) {\n                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                groupEle.classList[isEmptyCollection ? 'add' : 'remove']('e-ribbon-emptyCollection');\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflowItems = function (isHidden, contentEle, isGroupOF, tabIndex, groupID) {\n        var overflowDDB;\n        var overflowtarget;\n        if (isGroupOF) {\n            var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n            if (overflowDDBEle) {\n                overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                overflowtarget = overflowDDB.target;\n            }\n            if (overflowtarget) {\n                isHidden ? overflowtarget.classList.add('e-hide-group') : overflowtarget.classList.remove('e-hide-group');\n            }\n        }\n        else {\n            if (this.overflowDDB) {\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                    if (grpContainer) {\n                        isHidden ? grpContainer.classList.add('e-hide-group') : grpContainer.classList.remove('e-hide-group');\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * tab - Gets the ribbon tab to be updated. The id of the tab is a required property. Other properties are optional.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateTab = function (tab) {\n        var tabId = tab.id;\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        var tabEle = this.tabObj.element;\n        if (groups && (contentEle.innerHTML !== '')) {\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (tab.cssClass) {\n                if (this.tabs[parseInt(index.toString(), 10)].cssClass) {\n                    contentEle.classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                    tabEle.querySelector('.e-active').classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                }\n            }\n            // Check whether group is passed by the user, and if it is, then remove the old values.\n            if (tab.groups) {\n                for (var _i = 0, groups_3 = groups; _i < groups_3.length; _i++) {\n                    var group = groups_3[_i];\n                    var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                        var collection = _b[_a];\n                        for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                            var item = _d[_c];\n                            var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            if (item.type === RibbonItemType.GroupButton && this.activeLayout === 'Classic') {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                    contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            }\n                            if (ele) {\n                                this.destroyFunction(item, ele);\n                            }\n                        }\n                    }\n                    if (dropdownElement) {\n                        this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                    }\n                }\n                var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                groupElements.forEach(function (groupEle) { groupEle.remove(); });\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n        ribbonTab.setProperties(tab, true);\n        this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML === '') {\n            // Check whether group is passed by the user and sets the updated values.\n            if (tab.groups) {\n                var elements = this.createGroups(ribbonTab.groups, index);\n                append(elements, contentEle);\n            }\n            if (this.selectedTab === index) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (tab.cssClass) {\n                contentEle.classList.add(ribbonTab.cssClass);\n                tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (tab.header) {\n                tabEle.querySelector('#' + tabId + constants.HEADER_ID).innerText = ribbonTab.header;\n            }\n        }\n    };\n    /**\n     * group - Gets the ribbon group to be updated. The id of the group is a required property. Other properties are optional.\n     *\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateGroup = function (group) {\n        var groupId = group.id;\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (group.cssClass) {\n                if (itemProp.group.cssClass) {\n                    groupEle.classList.remove(itemProp.group.cssClass);\n                    if (groupContainer) {\n                        groupContainer.classList.remove(itemProp.group.cssClass);\n                    }\n                }\n            }\n            // Check whether collections or orientation is passed by the user, and if it is, then remove the old values.\n            if (group.collections || group.orientation) {\n                if (itemProp.group.collections || itemProp.group.orientation) {\n                    for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                        var collection = _a[_i];\n                        for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                            var item = _c[_b];\n                            this.removeItemElement(contentEle, item, dropdown);\n                        }\n                    }\n                    var collectionElements = groupEle.querySelectorAll('.e-ribbon-collection');\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    collectionElements.forEach(function (collectionEle) { collectionEle.remove(); });\n                    if (group.orientation) {\n                        var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                        var removeCss = groupContent.classList.value.match(/(e-ribbon-[column|row]+)/g);\n                        if (removeCss) {\n                            removeClass([groupContent], removeCss);\n                        }\n                    }\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n        }\n        var ribbongroup = itemProp.group;\n        ribbongroup.setProperties(group, true);\n        ribbongroup.setProperties({ collections: this.checkID(ribbongroup.collections, 'collection', ribbongroup.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            // Check whether showLauncherIcon or orientation is passed by the user and sets the updated values.\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(ribbongroup.id, groupContainer);\n            }\n            // Check whether collections or orientation is passed by the user and sets the updated values.\n            if (group.collections || group.orientation) {\n                var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                groupContent.classList.add(((ribbongroup.orientation === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n                var elements = this.createCollection(ribbongroup.collections, ribbongroup.orientation, ribbongroup.id, ribbongroup.header, ribbongroup.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, groupContent);\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (group.cssClass) {\n                groupEle.classList.add(ribbongroup.cssClass);\n                if (groupContainer) {\n                    groupContainer.classList.add(ribbongroup.cssClass);\n                }\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (group.header) {\n                if (this.activeLayout === RibbonLayout.Simplified && !group.enableGroupOverflow) {\n                    var overflowHeader = dropdown.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && !ribbongroup.isCollapsed) {\n                    groupEle.querySelector('.e-ribbon-group-header').innerText = ribbongroup.header;\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && ribbongroup.isCollapsed) {\n                    var overflowEle = groupEle.querySelector('#' + ribbongroup.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                    // need to set instance for dropdown\n                    var dropDownBtn = getInstance(overflowEle, DropDownButton);\n                    var overflowHeader = dropDownBtn.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * collection - Gets the ribbon collection to be updated. The id of the collection is a required property. Other properties are optional.\n     *\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateCollection = function (collection) {\n        var collectionId = collection.id;\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var collectionEle = contentEle.querySelector('#' + collectionId);\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (collection.cssClass) {\n                if (itemProp.collection.cssClass) {\n                    collectionEle.classList.remove(itemProp.collection.cssClass);\n                }\n            }\n            if (collection.items) {\n                if (itemProp.collection.items) {\n                    for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        this.removeItemElement(contentEle, item, dropdown);\n                    }\n                }\n            }\n        }\n        var ribboncollection = itemProp.collection;\n        ribboncollection.setProperties(collection, true);\n        ribboncollection.setProperties({ items: this.checkID(ribboncollection.items, 'item', ribboncollection.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (collection.items) {\n                var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                var elements = this.createItems(ribboncollection.items, itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, collectionEle);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n        // Check whether cssClass is passed by the user and sets the updated values.\n        if (collection.cssClass) {\n            collectionEle.classList.add(ribboncollection.cssClass);\n        }\n    };\n    /**\n     * item - Gets the ribbon item to be updated. The id of the item is a required property. Other properties are optional.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateItem = function (item) {\n        var itemId = item.id;\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + itemProp.group.id);\n        var groupContainer = groupEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        var itemContainer = null;\n        var itemEle = null;\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            if (this.activeLayout === RibbonLayout.Simplified && itemProp.item.displayOptions === DisplayMode.Overflow) {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = dropdown.target.querySelector('#' + itemId);\n                if (item.displayOptions && item.displayOptions !== DisplayMode.Overflow) {\n                    var collectionEle = groupContainer.querySelector('#' + itemProp.collection.id);\n                    if (collectionEle) {\n                        collectionEle.appendChild(itemContainer);\n                    }\n                }\n            }\n            else {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = contentEle.querySelector('#' + itemId);\n                if (itemProp.item.type === 'GroupButton' && this.activeLayout === RibbonLayout.Classic) {\n                    itemEle = contentEle.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                if (this.activeLayout === RibbonLayout.Simplified && item.displayOptions === DisplayMode.Overflow) {\n                    this.createOverflowPopup(itemProp.item, itemProp.tabIndex, itemProp.group.enableGroupOverflow, itemProp.group.id, itemProp.group.header, itemContainer, groupContainer);\n                    if ((itemProp.item.type === RibbonItemType.DropDown) || (itemProp.item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                        this.updatePopupItems(itemProp.item, itemContainer, itemProp.group.enableGroupOverflow, true);\n                    }\n                }\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (item.cssClass) {\n                if (itemProp.item.cssClass) {\n                    itemContainer.classList.remove(itemProp.item.cssClass);\n                }\n            }\n            this.destroyFunction(itemProp.item, itemEle);\n            itemEle.remove();\n            var removeCss = itemContainer.classList.value.match(/(e-ribbon-[large|medium|small]+-item)/g);\n            if (removeCss) {\n                removeClass([itemContainer], removeCss);\n            }\n        }\n        var ribbonItem = itemProp.item;\n        ribbonItem.setProperties(item, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (!(this.activeLayout === RibbonLayout.Simplified && ribbonItem.displayOptions === DisplayMode.Overflow)) {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            else {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            // To avoid undefined items condition is added\n            if (ribbonItem.ribbonTooltipSettings && isTooltipPresent(ribbonItem.ribbonTooltipSettings)) {\n                itemContainer.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemContainer.id, data: ribbonItem.ribbonTooltipSettings });\n            }\n            var size = ribbonItem.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((ribbonItem.allowedSizes === RibbonItemSize.Large) || (ribbonItem.allowedSizes & RibbonItemSize.Medium) ||\n                    (ribbonItem.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                ribbonItem.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            this.createRibbonItem(ribbonItem, itemContainer);\n            if (this.activeLayout === 'Simplified' && itemProp.group.enableGroupOverflow) {\n                if (dropdown.target.childElementCount === 0) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            if (item.cssClass) {\n                itemContainer.classList.add(ribbonItem.cssClass);\n            }\n            this.enableDisableItem(ribbonItem.id, ribbonItem.disabled);\n        }\n    };\n    Ribbon.prototype.removeItemElement = function (contentEle, item, dropdown) {\n        var ele = null;\n        if (this.activeLayout === RibbonLayout.Classic) {\n            ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id) : null;\n            if (item.type === 'GroupButton') {\n                ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID) : null;\n            }\n        }\n        else {\n            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n            if (!ele) {\n                ele = dropdown.target.querySelector('#' + item.id);\n            }\n        }\n        if (ele) {\n            this.destroyFunction(item, ele);\n            if (item.type === 'GroupButton' && this.activeLayout === RibbonLayout.Simplified) {\n                document.getElementById(item.id + constants.CONTAINER_ID).remove();\n            }\n            else {\n                ele.closest('#' + item.id + constants.CONTAINER_ID).remove();\n            }\n        }\n    };\n    /**\n     * Enables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableItem = function (itemId) {\n        this.enableDisableItem(itemId, false);\n    };\n    /**\n     * Disables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableItem = function (itemId) {\n        this.enableDisableItem(itemId, true);\n    };\n    Ribbon.prototype.enableDisableItem = function (itemId, isDisabled) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        itemProp.item.setProperties({ disabled: isDisabled }, true);\n        var ele;\n        if (itemProp.item.type === 'GroupButton') {\n            ele = getItemElement(this, itemId + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n        }\n        else {\n            ele = getItemElement(this, itemId, itemProp);\n        }\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            itemEle.classList.toggle(constants.DISABLED_CSS, itemProp.item.disabled);\n            var moduleName = this.getItemModuleName(itemProp.item);\n            if (moduleName !== 'template') {\n                if (moduleName === 'group-btn' && this.activeLayout === 'Simplified') {\n                    updateControlDisabled(ele, 'dropdown-btn', isDisabled);\n                    for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                        var btnEle = document.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID + i);\n                        updateControlDisabled(btnEle, 'btn', isDisabled);\n                    }\n                }\n                else if (moduleName === 'group-btn' && this.activeLayout === 'Classic') {\n                    for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                        var btnEle = ele.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID + i);\n                        updateControlDisabled(btnEle, 'btn', isDisabled);\n                    }\n                }\n                else {\n                    updateControlDisabled(ele, moduleName, isDisabled);\n                }\n            }\n            else {\n                ele.classList.toggle(constants.DISABLED_CSS, isDisabled);\n                ele.toggleAttribute('disabled', isDisabled);\n            }\n        }\n    };\n    Ribbon.prototype.unwireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n    };\n    Ribbon.prototype.destroy = function () {\n        this.keyboardModuleRibbon.destroy();\n        this.keyboardModuleRibbon = null;\n        destroyTooltip(this.element);\n        this.destroyTabItems(this.tabs);\n        if (!this.hideLayoutSwitcher) {\n            this.removeExpandCollapse();\n        }\n        this.collapseButton = undefined;\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n        }\n        if (this.ribbonTempEle) {\n            remove(this.ribbonTempEle);\n            this.ribbonTempEle = null;\n        }\n        _super.prototype.destroy.call(this);\n        this.tabObj.destroy();\n        this.tabObj = undefined;\n        this.initialPropsData = {};\n        remove(this.element.querySelector('#' + this.element.id + constants.TAB_ID));\n        this.element.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.element.style.removeProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH);\n        this.element.style.removeProperty('width');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(constants.SPACE));\n        }\n        this.element.classList.remove(constants.RTL_CSS, constants.RIBBON_SIMPLIFIED_MODE, constants.RIBBON_OVERFLOW, constants.RIBBON_COLLAPSIBLE, constants.RIBBON_MINIMIZE, 'e-rbn');\n        this.unwireEvents();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {RibbonModel} newProp - Specifies new properties\n     * @param  {RibbonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _a, _b;\n        for (var _i = 0, _c = Object.keys(newProp); _i < _c.length; _i++) {\n            var prop = _c[_i];\n            switch (prop) {\n                case 'activeLayout':\n                    this.switchLayout();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        (_a = this.element.classList).remove.apply(_a, oldProp.cssClass.split(constants.SPACE));\n                    }\n                    if (newProp.cssClass) {\n                        (_b = this.element.classList).add.apply(_b, newProp.cssClass.split(constants.SPACE));\n                    }\n                    break;\n                case 'isMinimized':\n                    this.element.classList.toggle(constants.RIBBON_MINIMIZE, this.isMinimized);\n                    this.tabObj.element.querySelector('.e-content').style.display = this.isMinimized ? 'none' : 'block';\n                    if (!this.isMinimized) {\n                        this.refreshLayout();\n                    }\n                    break;\n                case 'locale':\n                    this.updateCommonProperty({ locale: this.locale });\n                    break;\n                case 'enablePersistence':\n                    this.updateCommonProperty({ enablePersistence: this.enablePersistence });\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle(constants.RTL_CSS, this.enableRtl);\n                    this.updateCommonProperty({ enableRtl: newProp.enableRtl });\n                    if (this.scrollModule) {\n                        this.scrollModule.setProperties({ enableRtl: newProp.enableRtl });\n                    }\n                    break;\n                case 'launcherIconCss':\n                    for (var i = 0; i < this.tabs.length; i++) {\n                        var tabContent = this.tabObj.items[parseInt(i.toString(), 10)].content;\n                        var tab = this.tabs[parseInt(i.toString(), 10)];\n                        if (tabContent.querySelector('.' + constants.RIBBON_GROUP)) {\n                            for (var _d = 0, _e = tab.groups; _d < _e.length; _d++) {\n                                var group = _e[_d];\n                                if (group.showLauncherIcon) {\n                                    var className = constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss || constants.RIBBON_LAUNCHER_ICON);\n                                    if (group.isCollapsed) {\n                                        var element = tabContent.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                                        var dropdown = getComponent(element, DropDownButton);\n                                        var launcherIconEle = dropdown.target.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        launcherIconEle.className = className;\n                                    }\n                                    else {\n                                        var element = tabContent.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        element.className = className;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'selectedTab':\n                    this.tabObj.setProperties({ selectedItem: newProp.selectedTab });\n                    break;\n                case 'tabAnimation':\n                    this.tabObj.setProperties({ animation: newProp.tabAnimation });\n                    break;\n                case 'tabs':\n                    this.reRenderTabs(newProp.tabs);\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.refreshLayout();\n                    break;\n                case 'fileMenu':\n                    if (this.ribbonFileMenuModule) {\n                        this.ribbonFileMenuModule.updateFileMenu(this.fileMenu);\n                    }\n                    var toolbarEle = this.tabObj['tbObj'];\n                    toolbarEle.refreshOverflow();\n                    break;\n                case 'backStageMenu':\n                    if (this.ribbonBackstageModule) {\n                        this.ribbonBackstageModule.updateBackStageMenu(this.backStageMenu);\n                    }\n                    var toolbarElement = this.tabObj['tbObj'];\n                    toolbarElement.refreshOverflow();\n                    break;\n                case 'helpPaneTemplate':\n                    if (this.ribbonTempEle) {\n                        remove(this.ribbonTempEle);\n                        this.ribbonTempEle = null;\n                        this.tabObj.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n                    }\n                    if (this.helpPaneTemplate) {\n                        this.createHelpPaneTemplate();\n                    }\n                    var toolbar_1 = this.tabObj['tbObj'];\n                    toolbar_1.refreshOverflow();\n                    break;\n                case 'hideLayoutSwitcher':\n                    this.hideLayoutSwitcher ? this.removeExpandCollapse() : this.addExpandCollapse();\n                    break;\n            }\n        }\n    };\n    var Ribbon_1;\n    __decorate([\n        Property('Classic')\n    ], Ribbon.prototype, \"activeLayout\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"cssClass\", void 0);\n    __decorate([\n        Complex({}, FileMenuSettings)\n    ], Ribbon.prototype, \"fileMenu\", void 0);\n    __decorate([\n        Complex({}, BackStageMenu)\n    ], Ribbon.prototype, \"backStageMenu\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"launcherIconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"isMinimized\", void 0);\n    __decorate([\n        Property('en-us')\n    ], Ribbon.prototype, \"locale\", void 0);\n    __decorate([\n        Property(0)\n    ], Ribbon.prototype, \"selectedTab\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Ribbon.prototype, \"tabAnimation\", void 0);\n    __decorate([\n        Collection([], RibbonTab)\n    ], Ribbon.prototype, \"tabs\", void 0);\n    __decorate([\n        Property('100%')\n    ], Ribbon.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"helpPaneTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"hideLayoutSwitcher\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelected\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonExpanding\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"launcherIconClick\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"overflowPopupOpen\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"overflowPopupClose\", void 0);\n    Ribbon = Ribbon_1 = __decorate([\n        NotifyPropertyChanges\n    ], Ribbon);\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n","import { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex, isTooltipPresent } from '../base/index';\nimport * as constants from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonFileMenu = /** @class */ (function () {\n    function RibbonFileMenu(parent) {\n        this.parent = parent;\n    }\n    RibbonFileMenu.prototype.getModuleName = function () {\n        return 'ribbonFileMenu';\n    };\n    RibbonFileMenu.prototype.destroy = function () {\n        if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates File Menu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.createFileMenu = function (fileMenuOptions) {\n        var _this = this;\n        if (!fileMenuOptions.visible) {\n            return;\n        }\n        this.ddbElement = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.ddbElement, toolbarEle);\n        this.fileMenuDDB = new DropDownButton({\n            content: fileMenuOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-file-menu e-caret-hide',\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.ddbElement.offsetWidth + 'px');\n            },\n            beforeClose: this.ddbBeforeEvent.bind(this, false),\n            beforeOpen: this.ddbBeforeEvent.bind(this, true),\n            close: this.ddbAfterEvent.bind(this, false),\n            open: this.ddbAfterEvent.bind(this, true)\n        }, this.ddbElement);\n        if (this.parent.fileMenu.popupTemplate) {\n            this.fileMenuDDB.setProperties({ target: this.parent.fileMenu.popupTemplate });\n        }\n        else {\n            this.createRibbonMenu(fileMenuOptions);\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addFileMenuTooltip(fileMenuOptions);\n    };\n    RibbonFileMenu.prototype.addFileMenuTooltip = function (fileMenuOptions) {\n        if (isTooltipPresent(fileMenuOptions.ribbonTooltipSettings)) {\n            this.ddbElement.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.ddbElement.id, data: fileMenuOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonFileMenu.prototype.ddbBeforeEvent = function (isOpen, args) {\n        //args.event is null when dropdown button is closed using a method call\n        if (!isOpen && args.event && args.event.target.closest('.e-ribbon-menu')) {\n            args.cancel = true;\n        }\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = { cancel: args.cancel, element: args.element, event: args.event };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.ddbAfterEvent = function (isOpen, args) {\n        var element = isOpen ? this.fileMenuDDB.target : this.fileMenuDDB.element;\n        element.focus();\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element };\n            event.call(this, eventArgs);\n        }\n    };\n    //Clone RibbonMenuItems before assigning to avoid reference issues.\n    RibbonFileMenu.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            itemsList.push({\n                iconCss: item.iconCss,\n                id: item.id,\n                separator: item.separator,\n                text: item.text,\n                url: item.url,\n                items: this.cloneMenuItem(item.items)\n            });\n        }\n        return itemsList;\n    };\n    RibbonFileMenu.prototype.createRibbonMenu = function (menuOptions) {\n        var _this = this;\n        var ulElem = this.parent.createElement('ul', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_LIST\n        });\n        this.fileMenuDDB.setProperties({ target: ulElem });\n        this.menuctrl = new Menu({\n            orientation: 'Vertical',\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-menu',\n            animationSettings: menuOptions.animationSettings,\n            items: this.cloneMenuItem(menuOptions.menuItems),\n            showItemOnClick: menuOptions.showItemOnClick,\n            template: menuOptions.itemTemplate,\n            beforeClose: this.menuBeforeEvent.bind(this, false),\n            beforeOpen: this.menuBeforeEvent.bind(this, true),\n            beforeItemRender: this.beforeItemRender.bind(this),\n            onClose: this.menuAfterEvent.bind(this, false),\n            onOpen: this.menuAfterEvent.bind(this, true),\n            select: this.menuSelect.bind(this)\n        }, ulElem);\n        EventHandler.add(ulElem, 'keydown', function (e) {\n            if (e.key === 'Tab') {\n                _this.fileMenuDDB.toggle();\n            }\n        }, this);\n    };\n    RibbonFileMenu.prototype.menuBeforeEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = {\n                cancel: args.cancel, element: args.element, event: args.event,\n                items: args.items, parentItem: args.parentItem\n            };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.menuAfterEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element, items: args.items, parentItem: args.parentItem };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.beforeItemRender = function (args) {\n        var event = this.parent.fileMenu.beforeItemRender;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.menuSelect = function (args) {\n        var event = this.parent.fileMenu.select;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item, event: args.event };\n            event.call(this, eventArgs);\n            if (!args.element.classList.contains('e-menu-caret-icon')) {\n                this.fileMenuDDB.toggle();\n            }\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.setCommonProperties = function (commonProp) {\n        if (this.fileMenuDDB) {\n            this.fileMenuDDB.setProperties(commonProp);\n            if (this.menuctrl) {\n                this.menuctrl.setProperties(commonProp);\n            }\n        }\n    };\n    /**\n     * Update FileMenu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.updateFileMenu = function (fileMenuOptions) {\n        if (fileMenuOptions.visible) {\n            if (this.fileMenuDDB) {\n                if (fileMenuOptions.text) {\n                    this.fileMenuDDB.setProperties({\n                        content: fileMenuOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.ddbElement.offsetWidth + 'px');\n                }\n                if (fileMenuOptions.popupTemplate) {\n                    if (this.menuctrl) {\n                        this.destroyMenu();\n                    }\n                    this.fileMenuDDB.setProperties({ target: fileMenuOptions.popupTemplate });\n                }\n                else {\n                    if (this.menuctrl) {\n                        this.menuctrl.setProperties({\n                            animationSettings: fileMenuOptions.animationSettings,\n                            items: this.cloneMenuItem(fileMenuOptions.menuItems),\n                            showItemOnClick: fileMenuOptions.showItemOnClick,\n                            template: fileMenuOptions.itemTemplate\n                        });\n                    }\n                    else {\n                        this.createRibbonMenu(fileMenuOptions);\n                    }\n                }\n                this.removeFileMenuTooltip();\n                this.addFileMenuTooltip(fileMenuOptions);\n            }\n            else {\n                this.createFileMenu(fileMenuOptions);\n            }\n        }\n        else if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonFileMenu.prototype.destroyMenu = function () {\n        if (this.menuctrl) {\n            this.menuctrl.destroy();\n            this.menuctrl = null;\n        }\n    };\n    RibbonFileMenu.prototype.destroyDDB = function () {\n        this.removeFileMenuTooltip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.fileMenuDDB.destroy();\n        this.fileMenuDDB = null;\n        remove(this.ddbElement);\n        this.ddbElement = null;\n    };\n    RibbonFileMenu.prototype.removeFileMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.ddbElement.id; });\n        if (index !== -1) {\n            this.ddbElement.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    /**\n     * Add items to FileMenu.\n     *\n     * @param {MenuItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.addItems = function (items, target, isAfter, isUniqueId) {\n        if (isAfter) {\n            this.menuctrl.insertAfter(items, target, isUniqueId);\n        }\n        else {\n            this.menuctrl.insertBefore(items, target, isUniqueId);\n        }\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Remove items from FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.removeItems = function (items, isUniqueId) {\n        this.menuctrl.removeItems(items, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Enable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be enabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.enableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, true, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Disable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be disabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.disableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, false, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Update items in FileMenu.\n     *\n     * @param {MenuItem} item - Gets the item to be updated.\n     * @param {boolean} id - Gets the id of the item to be updated.\n     * @param {boolean} isUniqueId - Gets whether the id provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.setItem = function (item, id, isUniqueId) {\n        this.menuctrl.setItem(item, id, isUniqueId);\n        this.menuctrl.refresh();\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    return RibbonFileMenu;\n}());\nexport { RibbonFileMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, append, Component, EventHandler } from '@syncfusion/ej2-base';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex } from '../base/index';\nimport { getTemplateFunction, isTooltipPresent } from '../base/utils';\nimport * as constants from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonBackstage = /** @class */ (function (_super) {\n    __extends(RibbonBackstage, _super);\n    function RibbonBackstage(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    /**\n    * @private\n    * @returns {void}\n    */\n    RibbonBackstage.prototype.render = function () {\n        // render code\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.preRender = function () {\n        // pre render code\n    };\n    RibbonBackstage.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * This method is abstract member of the Component<HTMLElement>.\n     *\n     * @private\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.onPropertyChanged = function () {\n        // onProperty changes code\n    };\n    RibbonBackstage.prototype.getModuleName = function () {\n        return 'ribbonBackstage';\n    };\n    RibbonBackstage.prototype.destroy = function () {\n        if (this.backstageButton) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates Backstage Menu\n     *\n     * @param {BackStageMenuModel} backStageOptions - Gets the property of backstage.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.createBackStage = function (backStageOptions) {\n        var _this = this;\n        if (!backStageOptions.visible) {\n            return;\n        }\n        this.backstageButtonEle = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.backstageButtonEle, toolbarEle);\n        this.backstageButton = new Button({\n            content: backStageOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: constants.RIBBON_BACKSTAGE,\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.backstageButtonEle.offsetWidth + 'px');\n            }\n        }, this.backstageButtonEle);\n        this.createBackStagePopup(backStageOptions);\n        if (this.parent.backStageMenu.template) {\n            this.createBackStageTemplate(this.parent.backStageMenu.template);\n        }\n        else {\n            var footerItemCount = 0;\n            var itemCount = 0;\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                if (item.isFooter) {\n                    footerItemCount++;\n                }\n                else {\n                    itemCount++;\n                }\n            }\n            if (itemCount > 0) {\n                this.createBackstageMenu(backStageOptions, false);\n            }\n            if (footerItemCount > 0) {\n                this.createBackstageMenu(backStageOptions, true);\n            }\n            if (this.menuCtrl) {\n                this.checkMenuItems(this.menuCtrl.items);\n            }\n            if (this.footerMenuCtrl) {\n                this.checkMenuItems(this.footerMenuCtrl.items);\n            }\n        }\n        this.backstageButtonEle.onclick = function (e) {\n            e.stopPropagation();\n            _this.showBackstage();\n            _this.popupHTMLElement.classList.add(constants.RIBBON_BACKSTAGE_OPEN);\n            var menuItem = _this.menuWrapper.querySelector('.e-menu-item.e-selected');\n            if (menuItem) {\n                menuItem.classList.remove('e-selected');\n            }\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                if (!item.isFooter && _this.menuCtrl.items[0].text === item.text) {\n                    var firstMenuEle = _this.popupHTMLElement.querySelector('#' + _this.menuCtrl.items[0].id);\n                    if (firstMenuEle) {\n                        firstMenuEle.classList.add('e-selected');\n                        firstMenuEle.focus();\n                    }\n                    _this.createBackStageContent(_this.menuCtrl.items[0].id, item.content);\n                    break;\n                }\n                else {\n                    continue;\n                }\n            }\n        };\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addBackStageMenuTooltip(backStageOptions);\n        EventHandler.add(document, 'click', this.onClickEvent, this);\n    };\n    RibbonBackstage.prototype.onClickEvent = function (e) {\n        var targetEle = e.target;\n        if (this.popupHTMLElement.contains(targetEle)) {\n            return;\n        }\n        else {\n            this.hideBackstage();\n        }\n    };\n    RibbonBackstage.prototype.addBackStageMenuTooltip = function (backStageOptions) {\n        if (isTooltipPresent(backStageOptions.ribbonTooltipSettings)) {\n            this.backstageButtonEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.backstageButtonEle.id, data: backStageOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonBackstage.prototype.checkMenuItems = function (backStageItems) {\n        for (var i = 0; i < backStageItems.length; i++) {\n            var item = backStageItems[parseInt(i.toString(), 10)];\n            if (!item.iconCss) {\n                var menuItemEle = this.popupHTMLElement.querySelector('#' + item.id);\n                menuItemEle.classList.add(constants.RIBBON_BACKSTAGE_TEXT_MENU);\n            }\n        }\n    };\n    RibbonBackstage.prototype.createBackStagePopup = function (backStageOptions) {\n        var _this = this;\n        this.popupHTMLElement = this.parent.createElement('div', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_POPUP_ID,\n            className: constants.RIBBON_BACKSTAGE_POPUP\n        });\n        var targetEle;\n        if (backStageOptions.target) {\n            targetEle = backStageOptions.target instanceof HTMLElement ? backStageOptions.target : document.querySelector(backStageOptions.target);\n            targetEle.appendChild(this.popupHTMLElement);\n        }\n        else {\n            this.parent.element.appendChild(this.popupHTMLElement);\n        }\n        this.popupEle = new Popup(this.popupHTMLElement, {\n            height: backStageOptions.height,\n            width: backStageOptions.width,\n            relateTo: backStageOptions.target || this.parent.element,\n            enableRtl: this.parent.enableRtl\n        });\n        if (this.parent.enableRtl) {\n            this.updatePopupPositionOnRtl(this.parent.enableRtl);\n        }\n        this.popupHTMLElement.onkeydown = function (e) { if (e.code === 'Escape') {\n            _this.hideBackstage();\n        } };\n        this.hideBackstage();\n    };\n    RibbonBackstage.prototype.updatePopupPositionOnRtl = function (enableRtl) {\n        var popupStyle = this.popupHTMLElement.style;\n        if (enableRtl) {\n            popupStyle.right = popupStyle.left;\n            popupStyle.left = 'unset';\n        }\n        else {\n            popupStyle.left = popupStyle.right;\n            popupStyle.right = 'unset';\n        }\n    };\n    RibbonBackstage.prototype.createBackstageMenu = function (menuOptions, isFooter) {\n        var _this = this;\n        var wrapperEle = this.popupHTMLElement.querySelector('#' + this.parent.element.id + '_wrapper');\n        if (!wrapperEle) {\n            this.menuWrapper = this.parent.createElement('div', {\n                id: this.parent.element.id + '_wrapper',\n                className: constants.RIBBON_BACKSTAGE_MENU_WRAPPER\n            });\n            this.popupHTMLElement.appendChild(this.menuWrapper);\n        }\n        if (menuOptions.backButton.visible && !isFooter) {\n            var closeBtnEle = this.parent.createElement('button', {\n                id: this.parent.element.id + '_close',\n                className: 'e-ribbon-close-btn'\n            });\n            this.closeBtn = new Button({\n                content: menuOptions.backButton.text,\n                iconCss: menuOptions.backButton.iconCss ? menuOptions.backButton.iconCss : constants.BACKSTAGE_CLOSE_ICON,\n                enableRtl: this.parent.enableRtl\n            }, closeBtnEle);\n            this.menuWrapper.append(closeBtnEle);\n            closeBtnEle.onclick = function () {\n                _this.popupHTMLElement.classList.remove(constants.RIBBON_BACKSTAGE_OPEN);\n                _this.hideBackstage();\n                _this.isBackButtonClicked = true;\n            };\n        }\n        var itemsWrapperEle = this.popupHTMLElement.querySelector('#' + this.parent.element.id + '_itemswrapper');\n        if (!itemsWrapperEle) {\n            this.itemsWrapperEle = this.parent.createElement('div', {\n                id: this.parent.element.id + '_itemswrapper',\n                className: constants.RIBBON_BACKSTAGE_ITEMS_WRAPPER\n            });\n            this.menuWrapper.append(this.itemsWrapperEle);\n        }\n        var ulFooterElem;\n        if (isFooter) {\n            ulFooterElem = this.parent.createElement('ul', {\n                id: this.parent.element.id + constants.RIBBON_FOOTER_MENU_LIST\n            });\n            this.itemsWrapperEle.appendChild(ulFooterElem);\n        }\n        else {\n            this.ulMenuElem = this.parent.createElement('ul', {\n                id: this.parent.element.id + constants.RIBBON_MENU_LIST\n            });\n            this.itemsWrapperEle.appendChild(this.ulMenuElem);\n        }\n        if (!isFooter) {\n            this.menuCtrl = new Menu({\n                orientation: 'Vertical',\n                enableRtl: this.parent.enableRtl,\n                cssClass: constants.RIBBON_BACKSTAGE_MENU,\n                items: this.cloneMenuItem(menuOptions.items),\n                select: this.menuSelect.bind(this, menuOptions)\n            }, this.ulMenuElem);\n        }\n        else {\n            this.footerMenuCtrl = new Menu({\n                orientation: 'Vertical',\n                enableRtl: this.parent.enableRtl,\n                cssClass: constants.RIBBON_BACKSTAGE_MENU,\n                items: this.cloneFooterMenuItem(menuOptions.items),\n                select: this.menuSelect.bind(this, menuOptions)\n            }, ulFooterElem);\n        }\n    };\n    RibbonBackstage.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (item.isFooter) {\n                continue;\n            }\n            else {\n                itemsList.push({\n                    id: item.id,\n                    iconCss: item.iconCss,\n                    separator: item.separator,\n                    text: item.text\n                });\n            }\n        }\n        return itemsList;\n    };\n    RibbonBackstage.prototype.cloneFooterMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (!item.isFooter) {\n                continue;\n            }\n            else {\n                itemsList.push({\n                    id: item.id,\n                    iconCss: item.iconCss,\n                    separator: item.separator,\n                    text: item.text\n                });\n            }\n        }\n        return itemsList;\n    };\n    RibbonBackstage.prototype.createBackStageContent = function (itemId, content) {\n        var templateName = 'backstageContent';\n        this.clearTemplate([templateName]);\n        if (!this.backstageContentEle) {\n            this.backstageContentEle = this.parent.createElement('div', {\n                id: itemId + constants.CONTENT_ID,\n                className: constants.RIBBON_BACKSTAGE_CONTENT\n            });\n        }\n        else {\n            this.backstageContentEle.innerHTML = '';\n            this.backstageContentEle.id = itemId + constants.CONTENT_ID;\n        }\n        var templateFunction = getTemplateFunction(content);\n        append(templateFunction({}, this, templateName, 'backstageContent', this.parent.isStringTemplate), this.backstageContentEle);\n        if (content) {\n            this.popupHTMLElement.append(this.backstageContentEle);\n        }\n        this.renderReactTemplates();\n        return templateFunction;\n    };\n    RibbonBackstage.prototype.createBackStageTemplate = function (template) {\n        var templateName = 'backstageTemplate';\n        this.clearTemplate([templateName]);\n        this.backstageTempEle = this.parent.createElement('div', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_MENU_ID + '_template',\n            className: constants.RIBBON_BACKSTAGE_TEMPLATE\n        });\n        var templateFunction = getTemplateFunction(template);\n        append(templateFunction({}, this, templateName, 'backstageTemplate', this.parent.isStringTemplate), this.backstageTempEle);\n        this.popupHTMLElement.append(this.backstageTempEle);\n        this.renderReactTemplates();\n        return templateFunction;\n    };\n    RibbonBackstage.prototype.menuSelect = function (menuOptions, args) {\n        for (var i = 0; i < menuOptions.items.length; i++) {\n            var item = menuOptions.items[parseInt(i.toString(), 10)];\n            if (item.text === args.item.text) {\n                this.contentItem = item;\n                break;\n            }\n        }\n        this.createBackStageContent(args.item.id, this.contentItem.content);\n        var eventArgs = { cancel: false, target: args.element, item: this.contentItem, isBackButton: this.isBackButtonClicked };\n        if (this.contentItem.backStageItemClick) {\n            this.contentItem.backStageItemClick.call(this, eventArgs);\n        }\n        if (eventArgs.cancel) {\n            return;\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.setCommonProperties = function (commonProp) {\n        if (this.backstageButton) {\n            this.backstageButton.setProperties(commonProp);\n            if (this.popupEle) {\n                this.popupEle.setProperties(commonProp);\n                if (this.popupHTMLElement)\n                    this.updatePopupPositionOnRtl(commonProp.enableRtl);\n                if (this.menuCtrl) {\n                    this.menuCtrl.setProperties(commonProp);\n                    if (this.closeBtn) {\n                        this.closeBtn.setProperties(commonProp);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Update Backstage menu\n     *\n     * @param {BackStageMenuModel} backStageOptions - Gets the property of backstage menu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.updateBackStageMenu = function (backStageOptions) {\n        if (backStageOptions.visible) {\n            if (this.backstageButton) {\n                if (backStageOptions.text) {\n                    this.backstageButton.setProperties({\n                        content: backStageOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.backstageButtonEle.offsetWidth + 'px');\n                }\n                if (this.popupEle) {\n                    this.popupEle.setProperties({\n                        height: backStageOptions.height,\n                        width: backStageOptions.width,\n                        target: backStageOptions.target || this.parent.element,\n                    });\n                }\n                if (backStageOptions.template) {\n                    if (this.backstageTempEle) {\n                        remove(this.backstageTempEle);\n                        this.backstageTempEle = null;\n                    }\n                    this.createBackStageTemplate(backStageOptions.template);\n                }\n                else {\n                    if (this.menuCtrl) {\n                        this.menuCtrl.setProperties({\n                            items: this.cloneMenuItem(backStageOptions.items)\n                        });\n                    }\n                    if (this.footerMenuCtrl) {\n                        this.footerMenuCtrl.setProperties({\n                            items: this.cloneFooterMenuItem(backStageOptions.items)\n                        });\n                    }\n                    else {\n                        var footerItemCount = 0;\n                        var itemCount = 0;\n                        for (var i = 0; i < backStageOptions.items.length; i++) {\n                            var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                            if (item.isFooter) {\n                                footerItemCount++;\n                            }\n                            else {\n                                itemCount++;\n                            }\n                        }\n                        if (itemCount > 0) {\n                            this.createBackstageMenu(backStageOptions, false);\n                        }\n                        if (footerItemCount > 0) {\n                            this.createBackstageMenu(backStageOptions, true);\n                        }\n                    }\n                }\n                this.removeBackstageMenuTooltip();\n                this.addBackStageMenuTooltip(backStageOptions);\n            }\n            else {\n                this.createBackStage(backStageOptions);\n            }\n        }\n        else if (this.backstageButton) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonBackstage.prototype.destroyMenu = function () {\n        if (this.menuCtrl) {\n            this.menuCtrl.destroy();\n            this.menuCtrl = null;\n        }\n    };\n    RibbonBackstage.prototype.destroyDDB = function () {\n        this.removeBackstageMenuTooltip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.backstageButton.destroy();\n        this.backstageButton = null;\n        remove(this.backstageButtonEle);\n        this.backstageButtonEle = null;\n        EventHandler.remove(document, 'click', this.onClickEvent);\n    };\n    RibbonBackstage.prototype.removeBackstageMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.backstageButtonEle.id; });\n        if (index !== -1) {\n            this.backstageButtonEle.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    /**\n     * Add items to Backstage Menu.\n     *\n     * @param {BackstageItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.addBackstageItems = function (items, target, isAfter, isUniqueId) {\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (item.isFooter) {\n                isAfter ? this.footerMenuCtrl.insertAfter(items, target, isUniqueId) : this.footerMenuCtrl.insertBefore(items, target, isUniqueId);\n            }\n            else {\n                isAfter ? this.menuCtrl.insertAfter(items, target, isUniqueId) : this.menuCtrl.insertBefore(items, target, isUniqueId);\n            }\n        }\n        var backstageItems = [].concat(this.menuCtrl.items, this.footerMenuCtrl.items);\n        var backStageOptions = this.parent.backStageMenu;\n        for (var i = 0; i < backStageOptions.items.length; i++) {\n            var item = backStageOptions.items[parseInt(i.toString(), 10)];\n            for (var i_1 = 0; i_1 < backstageItems.length; i_1++) {\n                var item1 = backstageItems[parseInt(i_1.toString(), 10)];\n                if (item.text === item1.text) {\n                    item1.content = item.content;\n                    break;\n                }\n            }\n        }\n        this.parent.backStageMenu.setProperties({ items: backstageItems }, true);\n    };\n    /**\n     * Remove items from Backstage Menu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.removeBackstageItems = function (items, isUniqueId) {\n        this.menuCtrl.removeItems(items, isUniqueId);\n        this.footerMenuCtrl.removeItems(items, isUniqueId);\n        var backstageItems = [].concat(this.menuCtrl.items, this.footerMenuCtrl.items);\n        this.parent.backStageMenu.setProperties({ items: backstageItems }, true);\n    };\n    /**\n     * Renders the backstage dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.showBackstage = function () {\n        this.popupEle.show();\n    };\n    /**\n     * Hides the backstage dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.hideBackstage = function () {\n        if (this.popupEle.element.classList.contains(constants.RIBBON_BACKSTAGE_OPEN)) {\n            this.popupEle.element.classList.remove(constants.RIBBON_BACKSTAGE_OPEN);\n        }\n        this.popupEle.hide();\n    };\n    return RibbonBackstage;\n}(Component));\nexport { RibbonBackstage };\n","import * as index from './index';\nindex.Ribbon.Inject(index.RibbonButton, index.RibbonDropDown, index.RibbonSplitButton, index.RibbonCheckBox, index.RibbonColorPicker, index.RibbonComboBox, index.RibbonGroupButton, index.RibbonFileMenu, index.RibbonBackstage);\nexport * from './index';\n"],"names":["getIndex","arr","condition","i","length","parseInt","toString","getTemplateFunction","template","content","tempEle","select","tagName","innerHTML","outerHTML","e","compile","getItem","tabs","id","tab","j","groups","group","k","collections","collection","l","items","item","tabIndex","groupIndex","collectionIndex","itemIndex","getCollection","getGroup","destroyControl","element","moduleName","getComponent","destroy","updateCommonProperty","commonProp","setProperties","updateControlDisabled","disable","enabled","disabled","getItemElement","parent","itemProp","contentEle","tabObj","activeLayout","RibbonLayout","Classic","displayOptions","DisplayMode","ribbonDropDownModule","getOverflowDropDownPopup","querySelector","ele","Simplified","enableGroupOverflow","constants.GROUPOF_BUTTON_ID","DropDownButton","overflowDDB","target","isTooltipPresent","tooltip","iconCss","title","cssClass","setToolTipContent","args","tooltipData","targetId","getAttribute","data","filter","createElement","constants.RIBBON_TOOLTIP_CONTAINER","append","header","className","constants.RIBBON_TOOLTIP_TITLE","appendChild","textContainer","constants.RIBBON_TEXT_CONTAINER","customCss","constants.RIBBON_TOOLTIP_ICON","tooltipContent","constants.RIBBON_TOOLTIP_CONTENT","constants.RIBBON_TOOLTIP","createTooltip","ribbon","beforeTooltipRender","ribbonTooltip","Tooltip","constants.RIBBON_TOOLTIP_TARGET","beforeRender","bind","this","windowCollision","appendTo","destroyTooltip","updateTooltipProp","prop","setCustomAttributes","attributes","key","elementClass","replace","trim","addClass","split","value","setAttribute","ItemOrientation","RibbonItemSize","RibbonItemType","RibbonGroupButtonSelection","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","RibbonButtonSettings","_super","apply","muteOnChange","call","Property","Event","ChildProperty","RibbonCheckBoxSettings","RibbonColorPickerSettings","RibbonComboBoxSettings","Complex","text","groupBy","FieldSettings","RibbonDropDownSettings","Collection","Item","RibbonSplitButtonSettings","RibbonTooltip","RibbonGroupButtonItem","RibbonGroupButtonSettings","RibbonItem","Medium","Small","Large","Auto","RibbonCollection","RibbonGroup","RibbonTab","FileMenuSettings","MenuItem","MenuAnimationSettings","BackstageBackButton","BackstageItem","BackStageMenu","RIBBON_CONTROL","RIBBON_POPUP_CONTROL","HIDE_CSS","RIBBON_ITEM","RIBBON_ROW","RIBBON_TOOLTIP","RIBBON_TOOLTIP_TARGET","RIBBON_TOOLTIP_TITLE","RIBBON_TOOLTIP_CONTENT","RIBBON_TOOLTIP_ICON","RIBBON_TOOLTIP_CONTAINER","RIBBON_TEXT_CONTAINER","GROUPOF_BUTTON_ID","RibbonButton","getModuleName","createButton","itemEle","_this","buttonEle","btnSettings","buttonSettings","Button","locale","enableRtl","enablePersistence","iconPosition","activeSize","ITEM_VERTICAL_CENTER","isPrimary","isToggle","created","htmlAttributes","onclick","clicked","addOverFlowEvents","overflowButton","type","buttonObj","toggle","removeOverFlowEvents","join","click","controlId","updateButton","merge","classList","add","updateButtonSize","RibbonCheckBox","createCheckBox","inputEle","checkBoxSettings","CheckBox","checked","label","labelPosition","change","checkBoxObj","dataBind","updateCheckBox","RibbonColorPicker","createColorPicker","colorPickerSettings","colorPicker","ColorPicker","columns","enableOpacity","mode","modeSwitcher","noColor","presetColors","showButtons","beforeClose","parentElement","remove","beforeOpen","beforeTileRender","open","wrapper","EventHandler","toggleWrapperHover","isAdd","colorPickerEle","colorPickerObj","splitBtn","event","close","closest","getColorPickerObj","getValue","updateColorPicker","unwireColorPickerEvents","RibbonComboBox","createComboBox","comboBoxSettings","ComboBox","allowCustom","floatLabelType","ignoreAccent","ignoreCase","allowFiltering","autofill","dataSource","fields","filterType","footerTemplate","groupTemplate","headerTemplate","index","itemTemplate","noRecordsTemplate","placeholder","popupHeight","popupWidth","showClearButton","sortOrder","width","filtering","comboBoxObj","getComboBoxObj","query","hidePopup","showPopup","updateComboBox","RibbonDropDown","createDropDown","dropDownSettings","closeActionEvents","createPopupOnClick","beforeItemRender","dropdownElement","dropdown","createOverFlowDropDown","name","groupEle","overflowEle","VERTICAL_DDB","cancel","isNullOrUndefined","onkeydown","keyActionHandler","comboBoxEle","querySelectorAll","comboBoxElements","contains","shiftKey","handleNavigation","updateItemIndex","focusLauncherIcon","launcherIconEle","groupContainer","preventDefault","focus","ribbonItem","removeOverFlowDropDown","insertBefore","getDDBItemElement","dropDown","getDropDownObj","dropDownEle","addItems","Items","removeItems","isUniqueId","updateDropDown","btnEle","control","updateDropDownSize","push","RibbonSplitButton","createSplitButton","splitButtonSettings","splitbutton","SplitButton","dropdownEle","stopImmediatePropagation","setContent","splitButtonEle","ddbId","popupEle","document","getSplitButtonObj","updateSplitButton","updateSplitButtonSize","RibbonGroupButton","isSelected","createGroupButton","itemElement","groupBtnSettings","groupButtonSettings","count","btnContainerEle","groupButtonEle","selection","Single","selected","Multiple","ribbonTooltipSettings","groupButtonClicked","dropdownIcon","activeEleCount","grpBtnIndex","handleGroupButtonNavigation","grpBtnSettings","previousItems","selectingItems","selectedItems","eventArgs","beforeClick","n","itemsCount","eventArgs_1","switchGroupButton","containerEle","targetEle","isOverflowPopup","destroyDropDown","updateGroupButtonSize","Ribbon","options","Ribbon_1","Inject","render","initialize","preRender","idIndex","initialPropsData","isAddRemove","keyConfigs","leftarrow","rightarrow","shiftTab","getPersistData","addOnPersist","requiredModules","modules","member","getUniqueID","concat","style","formatUnit","renderTabs","ribbonFileMenuModule","createFileMenu","fileMenu","ribbonBackstageModule","createBackStage","backStageMenu","createHelpPaneTemplate","refreshOverflow","wireEvents","wireKeyboardEvent","currentControlIndex","window","resizeHandler","keyboardModuleRibbon","KeyboardEvents","keyAction","eventName","activeContent","selectedTab","ribbonControls","action","prevGroupId","prevGroupContainer","checkOverflow","scrollModule","scrollEle","scrollStep","offsetWidth","tabsInternal","slice","checkID","tabEle","validateItemSize","tabItems","createTabItems","Tab","selectedItem","overflowMode","tabCreated","ribbonTabSelected","selecting","ribbonTabSelecting","setProperty","toolbarEle","Toolbar","isMinimized","minimize","val","trigger","display","refreshLayout","toggleLayout","switchLayout","hideLayoutSwitcher","addExpandCollapse","renderInitialTab","selectedTabId","selectedIndex","previousIndex","selectedContent","firstChild","overflowTarget","ofTabContainer","activeTab","constants.HIDE_CSS","checkOverflowHiddenItems","tabContent","isOverFlow","isBreak","checkGroupShrinking","createOverflowDropdown","checkSimplifiedItemShrinking","createSimplfiedOverflow","HScroll","destroyScroll","removeOverflowDropdown","checkGroupExpanding","removeSimplfiedOverflow","checkSimplifiedItemExpanding","allowedSizes","itemContainer","setItemSize","valString","removeAttribute","orderedGroups","getGroupResizeOrder","collectionEle","Overflow","createOverflowPopup","DropDown","GroupButton","updatePopupItems","constants.RIBBON_ITEM","itemsLength","checkEmptyCollection","isEmptyCollection","isGroupOF","isMenu","dropDownPopup","isLeft","position","X","Y","offsetX","removeProperty","isClear","flag","overflowtarget","overflowDDBEle","getInstance","groupEle_1","removeOverflowEvent","childElementCount","removeOverflowButton","ofGroupContainer","groupId","isHidden","isGroupHidden","isItemHidden","children","overflowTab","groupTabContainer","groupHeader","isResize","addOverflowButton","overflowBtnTarget","createGroupContainer","createOfTabContainer","collapseButton","addOverflowEvents","ribbonButtonModule","ribbonSplitButtonModule","ribbonCheckBoxModule","ribbonColorPickerModule","ribbonComboBoxModule","ribbonGroupButtonModule","isLarge","checkLargeToMedium","checkMediumToSmall","checkValidCollectionLength","ind","checkClassicCollection","isIncrement","checkClassicItem","shouldSkip","isCollapsed","canReduceCollection","canReduceItem","createShrinkEle","firstItem","start","end","shrinkEle","constants.RIBBON_ROW","attrs","data-start","data-end","moveItemToColumn","moveCollectionToColumn","orientation","Column","m","shrinkColumns","reduceItemsToSmall","middle","reduce","ele_1","reduceCollectionsToSmall","ele_2","setWidth","classicItems","shrinkColumn","isSmall","checkSmallToMedium","checkMediumToLarge","shouldClear","expandItemToMedium","parentEle","ele_4","expandCollectionsToMedium","ele_5","Row","expandItemsToLarge","container","ele_6","insertAdjacentElement","expandCollectionsToLarge","ele_7","handleContentSize","isRemoveOverflow","Template","createTemplateContent","collapseOrder","this_1","groupOverFlow","constants.RIBBON_GROUP_OVERFLOW","groupIconCss","expandOrder","this_2","state_1","removeDropdown","isCollapse","isUndefined","isCollapsible","sort","a","priority","reverse","clearOverflowDropDown","nextTabId","selectingItem","previousTabId","previousItem","nextIndex","isInteracted","selectedTabContent","elements","createGroups","ribbonTab","ondblclick","btnId","tabindex","constants.DROPDOWNBUTTON_HIDE","ribbonArgs","constants.RIBBON_POPUP_CONTROL","isGroupOf","upDownKeyHandler","getElementsByClassName","findDisabledItem","currentItemIndex","itemType","checkBoxEle","checkBox","isIncrease","ofGroupHeader","constants.RIBBON_COLLAPSE_BUTTON","aria-label","role","removeExpandCollapse","splice","reRenderTabs","isNewTab","destroyTabItems","innerText","_i","groups_1","_a","_b","_c","_d","destroyFunction","forEach","groupList","i_1","alignType","i_2","groupContent","groupCollection","itemList","itemEle_1","size","createItems","i_3","ele_8","itemsize","createLauncherIcon","launcherIcon","constants.RIBBON_LAUNCHER_ICON_ELE","launcherIconCss","launcherIconClicked","groupElements","showLauncherIcon","createCollection","isItemsHidden","initialProps","hiddenGroups","updateGroupProps","disabledGroups","indexOf","collectionList","ribbonitem","sizeVal","collectionElements","createRibbonItem","itemElements","hiddenItems","helpPaneTemplate","clearTemplate","ribbonTempEle","templateFunction","isStringTemplate","after","renderReactTemplates","constants.RIBBON_TEMPLATE","renderItemTemplate","templateName","list","initId","listitem","setCommonProperties","_e","getItemModuleName","i_4","i_5","removeLauncherIcon","containerId","this_3","groupButtonID_1","clearOverflowResize","selectTab","tabId","showTab","showHideTab","hideTab","enableTab","enableDisableTab","disableTab","addTab","isAfter","tabItem","removeTab","groups_2","addGroup","ribbonGroups","removeGroup","removeItemElement","hideGroup","groupID","showHideGroup","showGroup","updateInitialProps","grpContainer","disableGroup","enableDisableGroup","enableGroup","isDisabled","addCollection","ribbonCollections","collection_1","removeCollection","collectionId","ribbonGroup","addItem","ribbonItems","item_1","removeItem","itemId","ribbonCollection","hideItem","showHideItem","showItem","checkHiddenItems","isInsert","keys","checkOverflowItems","updateTab","groups_3","updateGroup","removeCss","match","removeClass","ribbongroup","overflowHeader","updateCollection","ribboncollection","updateItem","enableDisableItem","getElementById","enableItem","disableItem","toggleAttribute","unwireEvents","undefined","onPropertyChanged","newProp","oldProp","animation","tabAnimation","updateFileMenu","updateBackStageMenu","TabAnimationSettings","NotifyPropertyChanges","Component","RibbonFileMenu","fileMenuDDB","destroyDDB","fileMenuOptions","visible","ddbElement","ddbBeforeEvent","ddbAfterEvent","popupTemplate","createRibbonMenu","refreshActiveTabBorder","addFileMenuTooltip","isOpen","cloneMenuItem","itemsList","separator","url","menuOptions","ulElem","menuctrl","Menu","animationSettings","menuItems","showItemOnClick","menuBeforeEvent","onClose","menuAfterEvent","onOpen","menuSelect","parentItem","destroyMenu","removeFileMenuTooltip","insertAfter","enableItems","disableItems","setItem","refresh","RibbonBackstage","backstageButton","backStageOptions","backstageButtonEle","createBackStagePopup","createBackStageTemplate","footerItemCount","itemCount","isFooter","createBackstageMenu","menuCtrl","checkMenuItems","footerMenuCtrl","stopPropagation","showBackstage","popupHTMLElement","menuItem","menuWrapper","firstMenuEle","createBackStageContent","addBackStageMenuTooltip","onClickEvent","hideBackstage","backStageItems","HTMLElement","Popup","height","relateTo","updatePopupPositionOnRtl","code","popupStyle","right","left","backButton","closeBtnEle","closeBtn","isBackButtonClicked","itemsWrapperEle","ulFooterElem","ulMenuElem","cloneFooterMenuItem","backstageContentEle","backstageTempEle","contentItem","isBackButton","backStageItemClick","removeBackstageMenuTooltip","addBackstageItems","backstageItems","item1","removeBackstageItems","show","hide","index.Ribbon","index.RibbonButton","index.RibbonDropDown","index.RibbonSplitButton","index.RibbonCheckBox","index.RibbonColorPicker","index.RibbonComboBox","index.RibbonGroupButton","index.RibbonFileMenu","index.RibbonBackstage"],"mappings":"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"}