{"version":3,"file":"ej2-ribbon.umd.min.js","sources":["../src/ribbon/base/utils.js","../src/ribbon/base/interface.js","../src/ribbon/models/ribbon-button-settings.js","../src/ribbon/models/ribbon-checkbox-settings.js","../src/ribbon/models/ribbon-colorpicker-settings.js","../src/ribbon/models/ribbon-combobox-settings.js","../src/ribbon/models/ribbon-dropdown-settings.js","../src/ribbon/models/ribbon-splitbutton-settings.js","../src/ribbon/models/ribbon-tooltip.js","../src/ribbon/models/ribbon-group-button-item.js","../src/ribbon/models/ribbon-group-button-settings.js","../src/ribbon/models/ribbon-item.js","../src/ribbon/models/ribbon-collection.js","../src/ribbon/models/ribbon-group.js","../src/ribbon/models/ribbon-tab.js","../src/ribbon/models/ribbon-file-menu-settings.js","../src/ribbon/models/ribbon-back-button.js","../src/ribbon/models/ribbon-backstage-item.js","../src/ribbon/models/ribbon-back-stage-settings.js","../src/ribbon/base/constant.js","../src/ribbon/items/ribbon-button.js","../src/ribbon/items/ribbon-checkbox.js","../src/ribbon/items/ribbon-colorpicker.js","../src/ribbon/items/ribbon-combobox.js","../src/ribbon/items/ribbon-dropdown.js","../src/ribbon/items/ribbon-splitbutton.js","../src/ribbon/items/ribbon-groupbutton.js","../src/ribbon/base/ribbon.js","../src/ribbon/modules/ribbon-filemenu.js","../src/ribbon/modules/ribbon-backstage.js"],"sourcesContent":["import { compile, getComponent, select, addClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport * as constants from './constant';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Gets index value.\n *\n * @param {Array} arr - Gets the array to find index.\n * @param {boolean} condition - Defines whether index matches with the value.\n * @returns {number} - Gets the index value.\n * @hidden\n */\nexport function getIndex(arr, condition) {\n    for (var i = 0; i < arr.length; i++) {\n        if (condition(arr[parseInt(i.toString(), 10)], i)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Gets template content based on the template property value.\n *\n * @param {string | HTMLElement| Function} template - Template property value.\n * @returns {Function} - Return template function.\n * @hidden\n */\nexport function getTemplateFunction(template) {\n    if (typeof template === 'string') {\n        var content = '';\n        try {\n            var tempEle = select(template);\n            if (tempEle) {\n                //Return innerHTML incase of jsrenderer script else outerHTML\n                content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n            }\n            else {\n                content = template;\n            }\n        }\n        catch (e) {\n            content = template;\n        }\n        return compile(content);\n    }\n    else {\n        /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n        return compile(template);\n    }\n}\n/**\n * Gets the ribbon item\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon item.\n * @hidden\n */\nexport function getItem(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                for (var l = 0; l < collection.items.length; l++) {\n                    var item = collection.items[parseInt(l.toString(), 10)];\n                    if (item.id === id) {\n                        return {\n                            item: item, collection: collection, group: group,\n                            tabIndex: i, groupIndex: j, collectionIndex: k, itemIndex: l\n                        };\n                    }\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon collection.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon collection.\n * @hidden\n */\nexport function getCollection(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                if (collection.id === id) {\n                    return {\n                        collection: collection, group: group,\n                        tabIndex: i, groupIndex: j, collectionIndex: k\n                    };\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon group.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon group.\n * @hidden\n */\nexport function getGroup(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            if (group.id === id) {\n                return {\n                    group: group, tabIndex: i, groupIndex: j\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n * @param {HTMLElement} element - Gets the element to be destroyed.\n * @param {string} moduleName - Gets the module name.\n * @returns {void}\n * @hidden\n */\nexport function destroyControl(element, moduleName) {\n    var control = getComponent(element, moduleName);\n    control.destroy();\n}\n/**\n * Updates common properties.\n *\n * @param {HTMLElement} element - Gets the element to be updated.\n * @param {string} moduleName - Gets the module name.\n * @param {commonProperties} commonProp - Gets the common properties to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateCommonProperty(element, moduleName, commonProp) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(commonProp);\n}\n/**\n * Updates disabled control.\n *\n * @param {HTMLElement} element - Gets the element to be disabled.\n * @param {string} moduleName - Gets the module name.\n * @param {boolean} disable - Defines whether the control to be disabled or not.\n * @returns {void}\n * @hidden\n */\nexport function updateControlDisabled(element, moduleName, disable) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(moduleName === 'combobox' ? { enabled: !disable } : { disabled: disable });\n}\n/**\n * Gets the ribbon item element.\n *\n * @param {Ribbon} parent - Gets the parent element.\n * @param {string} id - Gets the ID of the item.\n * @param {itemProps} itemProp - Gets the ribbon item.\n * @returns {HTMLElement} - Gets the ribbon item element.\n * @hidden\n */\nexport function getItemElement(parent, id, itemProp) {\n    if (!itemProp) {\n        itemProp = getItem(parent.tabs, id);\n        if (!itemProp) {\n            return null;\n        }\n    }\n    var contentEle = parent.tabObj.items[itemProp.tabIndex].content;\n    if (contentEle.innerHTML === '') {\n        return null;\n    }\n    if (parent.activeLayout === RibbonLayout.Classic) {\n        if (itemProp.item.displayOptions & DisplayMode.Classic) {\n            contentEle = (itemProp.group.isCollapsed) ? parent.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle)\n                : contentEle;\n            return contentEle.querySelector('#' + id);\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n        var ele = (itemProp.item.displayOptions & DisplayMode.Simplified) ?\n            contentEle.querySelector('#' + itemProp.item.id) : null;\n        // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n        if (!ele) {\n            var dropdown = itemProp.group.enableGroupOverflow ?\n                getComponent(contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID), DropDownButton)\n                : parent.overflowDDB;\n            ele = dropdown.target.querySelector('#' + itemProp.item.id);\n        }\n        return ele;\n    }\n}\n/**\n * @param {RibbonTooltipModel} tooltip - Gets the property of tooltip.\n * @returns {boolean} - Gets whether the tooltip is present or not.\n * @hidden\n */\nexport function isTooltipPresent(tooltip) {\n    return (tooltip.content || tooltip.iconCss || tooltip.title || tooltip.id || tooltip.cssClass) ? true : false;\n}\n/**\n * Sets content for tooltip.\n *\n * @param {TooltipEventArgs} args - Gets the argument of tooltip.\n * @param {Tooltip} tooltip - Gets the tooltip to set the content.\n * @param {ribbonTooltipData} tooltipData - Gets the tooltip data.\n * @returns {void}\n * @hidden\n */\nexport function setToolTipContent(args, tooltip, tooltipData) {\n    var targetId = args.target.getAttribute('id');\n    var dataObj = tooltipData.filter(function (e) { return e.id === targetId; })[0];\n    var data = dataObj.data;\n    var content = tooltip.createElement('div', {\n        id: data.id ? constants.RIBBON_TOOLTIP_CONTAINER + '_' + data.id : constants.RIBBON_TOOLTIP_CONTAINER\n    });\n    tooltip.element.append(content);\n    if (data.title) {\n        var header = tooltip.createElement('div', {\n            innerHTML: data.title,\n            className: constants.RIBBON_TOOLTIP_TITLE\n        });\n        content.appendChild(header);\n    }\n    var textContainer = tooltip.createElement('div', {\n        className: constants.RIBBON_TEXT_CONTAINER\n    });\n    content.appendChild(textContainer);\n    if (data.iconCss) {\n        var customCss = tooltip.createElement('div', {\n            className: data.iconCss + ' ' + constants.RIBBON_TOOLTIP_ICON\n        });\n        textContainer.appendChild(customCss);\n    }\n    if (data.content) {\n        var tooltipContent = tooltip.createElement('div', {\n            innerHTML: data.content,\n            className: constants.RIBBON_TOOLTIP_CONTENT\n        });\n        textContainer.appendChild(tooltipContent);\n    }\n    tooltip.setProperties({\n        content: content,\n        cssClass: data.cssClass ? data.cssClass + ' ' + constants.RIBBON_TOOLTIP : constants.RIBBON_TOOLTIP\n    });\n}\n/**\n * Creates tooltip.\n *\n * @param {HTMLElement} element - Gets the element to add tooltip.\n * @param {Ribbon} ribbon - Gets the ribbon.\n * @returns {void}\n * @hidden\n */\nexport function createTooltip(element, ribbon) {\n    var ribbonTooltip = new Tooltip({\n        target: '.' + constants.RIBBON_TOOLTIP_TARGET,\n        beforeRender: beforeTooltipRender.bind(this),\n        windowCollision: true\n    });\n    ribbonTooltip.appendTo(element);\n    /**\n     * @param {TooltipEventArgs} args - Gets the tooltip argument.\n     * @returns {void}\n     * @hidden\n     */\n    function beforeTooltipRender(args) {\n        setToolTipContent(args, ribbonTooltip, ribbon.tooltipData);\n    }\n}\n/**\n * Destroys tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be destroyed.\n * @returns {void}\n * @hidden\n */\nexport function destroyTooltip(element) {\n    var control = getComponent(element, Tooltip);\n    control.destroy();\n}\n/**\n * Updates tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be Updated.\n * @param {commonProperties} prop - Gets the property to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateTooltipProp(element, prop) {\n    var control = getComponent(element, Tooltip);\n    control.setProperties(prop);\n}\n/**\n * Sets the HTML attributes of an element\n *\n * @param {HTMLElement} element - The HTML element for which attributes are to be updated.\n * @param {commonProperties} attributes - An object containing key-value pairs of attributes to be updated.\n * @returns {void}\n * @hidden\n */\nexport function setCustomAttributes(element, attributes) {\n    for (var key in attributes) {\n        if (key === 'class') {\n            var elementClass = attributes['class'].replace(/\\s+/g, ' ').trim();\n            if (elementClass) {\n                addClass([element], elementClass.split(' '));\n            }\n        }\n        else if (key === 'style') {\n            var prevStyles = element.getAttribute('style') || '';\n            var value = \"\" + prevStyles + attributes[\"\" + key];\n            element.setAttribute(\"\" + key, value);\n        }\n        else {\n            element.setAttribute(key, attributes[\"\" + key]);\n        }\n    }\n}\n","/**\n * Defines the layout types of ribbon.\n */\nexport var RibbonLayout;\n(function (RibbonLayout) {\n    /**\n     * Displays the ribbon tab content in classic layout.\n     */\n    RibbonLayout[\"Classic\"] = \"Classic\";\n    /**\n     * Displays the ribbon tab content in simplified layout.\n     */\n    RibbonLayout[\"Simplified\"] = \"Simplified\";\n})(RibbonLayout || (RibbonLayout = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var ItemOrientation;\n(function (ItemOrientation) {\n    /**\n     * Displays the collection of items in rows.\n     */\n    ItemOrientation[\"Row\"] = \"Row\";\n    /**\n     * Displays the collection of items in column.\n     */\n    ItemOrientation[\"Column\"] = \"Column\";\n})(ItemOrientation || (ItemOrientation = {}));\n/**\n * Defines the current size of the ribbon item in normal mode.\n *\n * @aspNumberEnum\n */\nexport var RibbonItemSize;\n(function (RibbonItemSize) {\n    /**\n     * The item appears with large icon and text at the bottom.\n     */\n    RibbonItemSize[RibbonItemSize[\"Large\"] = 4] = \"Large\";\n    /**\n     * The item appears with small icon and text at the right.\n     */\n    RibbonItemSize[RibbonItemSize[\"Medium\"] = 2] = \"Medium\";\n    /**\n     * The item appears with small icon only.\n     */\n    RibbonItemSize[RibbonItemSize[\"Small\"] = 1] = \"Small\";\n})(RibbonItemSize || (RibbonItemSize = {}));\n/**\n * Defines how to show an item in ribbon simplified layout.\n *\n * @aspNumberEnum\n */\nexport var DisplayMode;\n(function (DisplayMode) {\n    /**\n     * The item appears in the classic layout group.\n     */\n    DisplayMode[DisplayMode[\"Classic\"] = 4] = \"Classic\";\n    /**\n     * The item appears in the simplified layout group.\n     */\n    DisplayMode[DisplayMode[\"Simplified\"] = 2] = \"Simplified\";\n    /**\n     * The item appears in overflow popup.\n     */\n    DisplayMode[DisplayMode[\"Overflow\"] = 1] = \"Overflow\";\n    /**\n     * The item appears in classic layout group, simplified layout group, and overflow popup based on ribbon overflow state.\n     */\n    DisplayMode[DisplayMode[\"Auto\"] = 7] = \"Auto\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Defines the type of the ribbon item.\n */\nexport var RibbonItemType;\n(function (RibbonItemType) {\n    /**\n     * Renders button as ribbon item.\n     */\n    RibbonItemType[\"Button\"] = \"Button\";\n    /**\n     * Renders checkbox as ribbon item.\n     */\n    RibbonItemType[\"CheckBox\"] = \"CheckBox\";\n    /**\n     * Renders color picker as ribbon item.\n     */\n    RibbonItemType[\"ColorPicker\"] = \"ColorPicker\";\n    /**\n     * Renders combobox as ribbon item.\n     */\n    RibbonItemType[\"ComboBox\"] = \"ComboBox\";\n    /**\n     * Renders dropdownbutton as ribbon item.\n     */\n    RibbonItemType[\"DropDown\"] = \"DropDown\";\n    /**\n     * Renders splitbutton as ribbon item.\n     */\n    RibbonItemType[\"SplitButton\"] = \"SplitButton\";\n    /**\n     * Renders the group button content as ribbon item.\n     */\n    RibbonItemType[\"GroupButton\"] = \"GroupButton\";\n    /**\n     * Renders the template content as ribbon item.\n     */\n    RibbonItemType[\"Template\"] = \"Template\";\n})(RibbonItemType || (RibbonItemType = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var RibbonGroupButtonSelection;\n(function (RibbonGroupButtonSelection) {\n    /**\n     * Allows selecting single button from button group.\n     */\n    RibbonGroupButtonSelection[\"Single\"] = \"Single\";\n    /**\n     * Allows selecting multiple buttons from button group.\n     */\n    RibbonGroupButtonSelection[\"Multiple\"] = \"Multiple\";\n})(RibbonGroupButtonSelection || (RibbonGroupButtonSelection = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon button item.\n */\nvar RibbonButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonButtonSettings, _super);\n    function RibbonButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of button.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonButtonSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"clicked\", void 0);\n    return RibbonButtonSettings;\n}(ChildProperty));\nexport { RibbonButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon checkbox item.\n */\nvar RibbonCheckBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonCheckBoxSettings, _super);\n    function RibbonCheckBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of checkbox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCheckBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonCheckBoxSettings.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RibbonCheckBoxSettings.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonCheckBoxSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"change\", void 0);\n    return RibbonCheckBoxSettings;\n}(ChildProperty));\nexport { RibbonCheckBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon color picker.\n */\nvar RibbonColorPickerSettings = /** @class */ (function (_super) {\n    __extends(RibbonColorPickerSettings, _super);\n    function RibbonColorPickerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of colorpicker.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonColorPickerSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(10)\n    ], RibbonColorPickerSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonColorPickerSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property('Picker')\n    ], RibbonColorPickerSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonColorPickerSettings.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonColorPickerSettings.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property('#008000ff')\n    ], RibbonColorPickerSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonColorPickerSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"select\", void 0);\n    return RibbonColorPickerSettings;\n}(ChildProperty));\nexport { RibbonColorPickerSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '@syncfusion/ej2-dropdowns';\n/**\n * Defines the ribbon combobox item.\n */\nvar RibbonComboBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonComboBoxSettings, _super);\n    function RibbonComboBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of combobox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonComboBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonComboBoxSettings.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"autofill\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonComboBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], RibbonComboBoxSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], RibbonComboBoxSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('Contains')\n    ], RibbonComboBoxSettings.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"index\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], RibbonComboBoxSettings.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], RibbonComboBoxSettings.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], RibbonComboBoxSettings.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property('None')\n    ], RibbonComboBoxSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property('150px')\n    ], RibbonComboBoxSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonComboBoxSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"select\", void 0);\n    return RibbonComboBoxSettings;\n}(ChildProperty));\nexport { RibbonComboBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon DropDownButton item.\n */\nvar RibbonDropDownSettings = /** @class */ (function (_super) {\n    __extends(RibbonDropDownSettings, _super);\n    function RibbonDropDownSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonDropDownSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonDropDownSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonDropDownSettings.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonDropDownSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"select\", void 0);\n    return RibbonDropDownSettings;\n}(ChildProperty));\nexport { RibbonDropDownSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon SplitButton item.\n */\nvar RibbonSplitButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonSplitButtonSettings, _super);\n    function RibbonSplitButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonSplitButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonSplitButtonSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"target\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonSplitButtonSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"select\", void 0);\n    return RibbonSplitButtonSettings;\n}(ChildProperty));\nexport { RibbonSplitButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon tooltip.\n */\nvar RibbonTooltip = /** @class */ (function (_super) {\n    __extends(RibbonTooltip, _super);\n    function RibbonTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"title\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"iconCss\", void 0);\n    return RibbonTooltip;\n}(ChildProperty));\nexport { RibbonTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon group button settings.\n */\nvar RibbonGroupButtonItem = /** @class */ (function (_super) {\n    __extends(RibbonGroupButtonItem, _super);\n    function RibbonGroupButtonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroupButtonItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonGroupButtonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroupButtonItem.prototype, \"selected\", void 0);\n    __decorate([\n        Property({})\n    ], RibbonGroupButtonItem.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGroupButtonItem.prototype, \"beforeClick\", void 0);\n    __decorate([\n        Event()\n    ], RibbonGroupButtonItem.prototype, \"click\", void 0);\n    return RibbonGroupButtonItem;\n}(ChildProperty));\nexport { RibbonGroupButtonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroupButtonItem } from './ribbon-group-button-item';\n/**\n * Defines the ribbon group button settings.\n */\nvar RibbonGroupButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonGroupButtonSettings, _super);\n    function RibbonGroupButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Single')\n    ], RibbonGroupButtonSettings.prototype, \"selection\", void 0);\n    __decorate([\n        Collection([], RibbonGroupButtonItem)\n    ], RibbonGroupButtonSettings.prototype, \"items\", void 0);\n    return RibbonGroupButtonSettings;\n}(ChildProperty));\nexport { RibbonGroupButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Complex, Property } from '@syncfusion/ej2-base';\nimport { RibbonItemSize, DisplayMode } from '../base/interface';\nimport { RibbonButtonSettings } from './ribbon-button-settings';\nimport { RibbonCheckBoxSettings } from './ribbon-checkbox-settings';\nimport { RibbonColorPickerSettings } from './ribbon-colorpicker-settings';\nimport { RibbonComboBoxSettings } from './ribbon-combobox-settings';\nimport { RibbonDropDownSettings } from './ribbon-dropdown-settings';\nimport { RibbonSplitButtonSettings } from './ribbon-splitbutton-settings';\nimport { RibbonTooltip } from './ribbon-tooltip';\nimport { RibbonGroupButtonSettings } from './ribbon-group-button-settings';\n/**\n * Defines the ribbon item.\n */\nvar RibbonItem = /** @class */ (function (_super) {\n    __extends(RibbonItem, _super);\n    function RibbonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of item.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonItem.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(RibbonItemSize.Medium)\n    ], RibbonItem.prototype, \"activeSize\", void 0);\n    __decorate([\n        Property(RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n    ], RibbonItem.prototype, \"allowedSizes\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Button')\n    ], RibbonItem.prototype, \"type\", void 0);\n    __decorate([\n        Property(DisplayMode.Auto)\n    ], RibbonItem.prototype, \"displayOptions\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonButtonSettings)\n    ], RibbonItem.prototype, \"buttonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonDropDownSettings)\n    ], RibbonItem.prototype, \"dropDownSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonCheckBoxSettings)\n    ], RibbonItem.prototype, \"checkBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonColorPickerSettings)\n    ], RibbonItem.prototype, \"colorPickerSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonComboBoxSettings)\n    ], RibbonItem.prototype, \"comboBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonSplitButtonSettings)\n    ], RibbonItem.prototype, \"splitButtonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonGroupButtonSettings)\n    ], RibbonItem.prototype, \"groupButtonSettings\", void 0);\n    return RibbonItem;\n}(ChildProperty));\nexport { RibbonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonItem } from './ribbon-item';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCollection = /** @class */ (function (_super) {\n    __extends(RibbonCollection, _super);\n    function RibbonCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of collection.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCollection.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonItem)\n    ], RibbonCollection.prototype, \"items\", void 0);\n    return RibbonCollection;\n}(ChildProperty));\nexport { RibbonCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonCollection } from './ribbon-collection';\n/**\n * Defines the ribbon group.\n */\nvar RibbonGroup = /** @class */ (function (_super) {\n    __extends(RibbonGroup, _super);\n    function RibbonGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Group.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonGroup.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Collection([], RibbonCollection)\n    ], RibbonGroup.prototype, \"collections\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"isCollapsed\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonGroup.prototype, \"isCollapsible\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"enableGroupOverflow\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"groupIconCss\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"header\", void 0);\n    __decorate([\n        Property('Column')\n    ], RibbonGroup.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(0)\n    ], RibbonGroup.prototype, \"priority\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"showLauncherIcon\", void 0);\n    return RibbonGroup;\n}(ChildProperty));\nexport { RibbonGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroup } from './ribbon-group';\n/**\n * Defines the ribbon tab.\n */\nvar RibbonTab = /** @class */ (function (_super) {\n    __extends(RibbonTab, _super);\n    function RibbonTab() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of tab.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonTab.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonGroup)\n    ], RibbonTab.prototype, \"groups\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"header\", void 0);\n    return RibbonTab;\n}(ChildProperty));\nexport { RibbonTab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { MenuAnimationSettings, MenuItem } from '@syncfusion/ej2-navigations';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar FileMenuSettings = /** @class */ (function (_super) {\n    __extends(FileMenuSettings, _super);\n    function FileMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of FileMenu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    FileMenuSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], FileMenuSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], FileMenuSettings.prototype, \"menuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Complex({}, MenuAnimationSettings)\n    ], FileMenuSettings.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"popupTemplate\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], FileMenuSettings.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"select\", void 0);\n    return FileMenuSettings;\n}(ChildProperty));\nexport { FileMenuSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon backstage back button.\n */\nvar BackstageBackButton = /** @class */ (function (_super) {\n    __extends(BackstageBackButton, _super);\n    function BackstageBackButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BackstageBackButton.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageBackButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(true)\n    ], BackstageBackButton.prototype, \"visible\", void 0);\n    return BackstageBackButton;\n}(ChildProperty));\nexport { BackstageBackButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon backstage back button.\n */\nvar BackstageItem = /** @class */ (function (_super) {\n    __extends(BackstageItem, _super);\n    function BackstageItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], BackstageItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], BackstageItem.prototype, \"separator\", void 0);\n    __decorate([\n        Property(false)\n    ], BackstageItem.prototype, \"isFooter\", void 0);\n    __decorate([\n        Event()\n    ], BackstageItem.prototype, \"backStageItemClick\", void 0);\n    return BackstageItem;\n}(ChildProperty));\nexport { BackstageItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex, Collection } from '@syncfusion/ej2-base';\nimport { BackstageBackButton } from './ribbon-back-button';\nimport { BackstageItem } from './ribbon-backstage-item';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar BackStageMenu = /** @class */ (function (_super) {\n    __extends(BackStageMenu, _super);\n    function BackStageMenu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Backstage Menu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    BackStageMenu.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], BackStageMenu.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], BackStageMenu.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], BackStageMenu.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], BackStageMenu.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], BackStageMenu.prototype, \"target\", void 0);\n    __decorate([\n        Complex({}, BackstageBackButton)\n    ], BackStageMenu.prototype, \"backButton\", void 0);\n    __decorate([\n        Collection([], BackstageItem)\n    ], BackStageMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], BackStageMenu.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], BackStageMenu.prototype, \"ribbonTooltipSettings\", void 0);\n    return BackStageMenu;\n}(ChildProperty));\nexport { BackStageMenu };\n","/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nexport var ITEM_VERTICAL_CENTER = 'e-ribbon-vertical-center';\n/** @hidden */\nexport var EXPAND_COLLAPSE_ICON = 'e-icons e-drop-icon';\n/** @hidden */\nexport var BACKSTAGE_CLOSE_ICON = 'e-icons e-arrow-left';\n/** @hidden */\nexport var OVERFLOW_ICON = 'e-icons e-more-horizontal-1';\n/** @hidden */\nexport var VERTICAL_DDB = 'e-vertical';\n/** @hidden */\nexport var DISABLED_CSS = 'e-disabled';\n/** @hidden */\nexport var RTL_CSS = 'e-rtl';\n/** @hidden */\nexport var RIBBON_HOVER = 'e-ribbon-hover';\n/** @hidden */\nexport var RIBBON_CONTROL = 'e-ribbon-control';\n/** @hidden */\nexport var RIBBON_POPUP_CONTROL = 'e-ribbon-popup-control';\n/** @hidden */\nexport var RIBBON_POPUP_OPEN = 'e-ribbon-open';\n/** @hidden */\nexport var SPACE = ' ';\n/** @hidden */\nexport var HORIZONTAL_SCROLLBAR = 'e-hscroll-bar';\n/** @hidden */\nexport var HIDE_CSS = 'e-ribbon-hide';\n/** @hidden */\nexport var RIBBON_TAB = 'e-ribbon-tab';\n/** @hidden */\nexport var RIBBON_TAB_ACTIVE = 'e-ribbon-active';\n/** @hidden */\nexport var RIBBON_TAB_ITEM = 'e-ribbon-tab-item';\n/** @hidden */\nexport var RIBBON_COLLAPSE_BUTTON = 'e-ribbon-collapse-btn';\n/** @hidden */\nexport var RIBBON_EXPAND_BUTTON = 'e-ribbon-expand-btn';\n/** @hidden */\nexport var RIBBON_COLLAPSIBLE = 'e-ribbon-collapsible';\n/** @hidden */\nexport var RIBBON_OVERALL_OF_BUTTON = 'e-ribbon-overall-of-btn';\n/** @hidden */\nexport var RIBBON_GROUP_OF_BUTTON = 'e-ribbon-group-of-btn';\n/** @hidden */\nexport var RIBBON_OVERFLOW_TARGET = 'e-ribbon-overflow-target';\n/** @hidden */\nexport var RIBBON_OVERFLOW = 'e-ribbon-overflow';\n/** @hidden */\nexport var TAB_CONTENT = 'e-content';\n/** @hidden */\nexport var RIBBON_MINIMIZE = 'e-ribbon-minimize';\n/** @hidden */\nexport var RIBBON_GROUP = 'e-ribbon-group';\n/** @hidden */\nexport var RIBBON_SINGLE_BUTTON_SELECTION = 'e-ribbon-single-selection';\n/** @hidden */\nexport var RIBBON_MULTIPLE_BUTTON_SELECTION = 'e-ribbon-multiple-selection';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON = 'e-ribbon-group-button';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_OVERFLOW_POPUP = 'e-ribbon-group-button-overflow-popup';\n/** @hidden */\nexport var RIBBON_GROUP_CONTAINER = 'e-ribbon-group-container';\n/** @hidden */\nexport var RIBBON_OF_TAB_CONTAINER = 'e-ribbon-of-tab';\n/** @hidden */\nexport var RIBBON_OF_GROUP_CONTAINER = 'e-ribbon-of-group-container';\n/** @hidden */\nexport var RIBBON_GROUP_CONTENT = 'e-ribbon-group-content';\n/** @hidden */\nexport var RIBBON_GROUP_HEADER = 'e-ribbon-group-header';\n/** @hidden */\nexport var RIBBON_OVERFLOW_HEADER = 'e-ribbon-overflow-header';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW = 'e-ribbon-group-overflow';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW_DDB = 'e-ribbon-group-overflow-ddb';\n/** @hidden */\nexport var RIBBON_LAUNCHER = 'e-ribbon-launcher';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON_ELE = 'e-ribbon-launcher-icon';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON = 'e-icons e-launcher';\n/** @hidden */\nexport var RIBBON_COLLECTION = 'e-ribbon-collection';\n/** @hidden */\nexport var RIBBON_ITEM = 'e-ribbon-item';\n/** @hidden */\nexport var RIBBON_ROW = 'e-ribbon-row';\n/** @hidden */\nexport var RIBBON_COLUMN = 'e-ribbon-column';\n/** @hidden */\nexport var RIBBON_LARGE_ITEM = 'e-ribbon-large-item';\n/** @hidden */\nexport var RIBBON_MEDIUM_ITEM = 'e-ribbon-medium-item';\n/** @hidden */\nexport var RIBBON_SMALL_ITEM = 'e-ribbon-small-item';\n/** @hidden */\nexport var RIBBON_CONTENT_HEIGHT = 'e-ribbon-content-height';\n/** @hidden */\nexport var DROPDOWNBUTTON = 'e-dropdown-btn';\n/** @hidden */\nexport var DROPDOWNBUTTON_HIDE = 'e-caret-hide';\n/** @hidden */\nexport var RIBBON_TEMPLATE = 'e-ribbon-template';\n/** @hidden */\nexport var RIBBON_HELP_TEMPLATE = 'e-ribbon-help-template';\n/** @hidden */\nexport var RIBBON_TOOLTIP = 'e-ribbon-tooltip';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TARGET = 'e-ribbon-tooltip-target';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TITLE = 'e-ribbon-tooltip-title';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTENT = 'e-ribbon-tooltip-content';\n/** @hidden */\nexport var RIBBON_TOOLTIP_ICON = 'e-ribbon-tooltip-icon';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTAINER = 'e-ribbon-tooltip-container';\n/** @hidden */\nexport var RIBBON_TEXT_CONTAINER = 'e-ribbon-text-container';\n/** @hidden */\nexport var RIBBON_SIMPLIFIED_MODE = 'e-ribbon-simplified-mode';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_POPUP = 'e-ribbon-backstage-popup';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_OPEN = 'e-ribbon-backstage-open';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_CONTENT = 'e-ribbon-backstage-content';\n/** @hidden */\nexport var RIBBON_SELECTED_CONTENT = 'e-ribbon-selected-content';\n/** @hidden */\nexport var RIBBON_BACKSTAGE = 'e-ribbon-backstage';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU = 'e-ribbon-backstage-menu';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_TEMPLATE = 'e-ribbon-backstage-template';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU_WRAPPER = 'e-ribbon-backstage-wrapper';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_ITEMS_WRAPPER = 'e-ribbon-backstage-items-wrapper';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_TEXT_MENU = 'e-blankicon';\n/** @hidden */\nexport var TAB_ID = '_tab';\n/** @hidden */\nexport var GROUP_ID = '_group';\n/** @hidden */\nexport var COLLECTION_ID = '_collection';\n/** @hidden */\nexport var ITEM_ID = '_item';\n/** @hidden */\nexport var COLLAPSE_BUTTON_ID = '_collapsebutton';\n/** @hidden */\nexport var OVRLOF_BUTTON_ID = '_sim_ovrl_overflow';\n/** @hidden */\nexport var GROUPOF_BUTTON_ID = '_sim_grp_overflow';\n/** @hidden */\nexport var HEADER_ID = '_header';\n/** @hidden */\nexport var LAUNCHER_ID = '_launcher';\n/** @hidden */\nexport var CONTENT_ID = '_content';\n/** @hidden */\nexport var CONTAINER_ID = '_container';\n/** @hidden */\nexport var OVERFLOW_ID = '_overflow';\n/** @hidden */\nexport var DROPDOWN_ID = '_dropdown';\n/** @hidden */\nexport var RIBBON_FILE_MENU_ID = '_filemenu';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_MENU_ID = '_backstage';\n/** @hidden */\nexport var RIBBON_BACKSTAGE_POPUP_ID = '_backstagepopup';\n/** @hidden */\nexport var RIBBON_FILE_MENU_LIST = '_filemenulist';\n/** @hidden */\nexport var RIBBON_MENU_LIST = '_menulist';\n/** @hidden */\nexport var RIBBON_FOOTER_MENU_LIST = '_footermenulist';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_ID = '_helppanetemplate';\n/** @hidden */\nexport var RIBBON_GROUP_BUTTON_ID = '_grpbtn';\n/** @hidden */\nexport var RIBBON_FILE_MENU_WIDTH = '--fileMenuWidth';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_WIDTH = '--helpTemplateWidth';\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RibbonItemSize, setCustomAttributes } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_POPUP_CONTROL, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonButton = /** @class */ (function () {\n    function RibbonButton(parent) {\n        this.parent = parent;\n    }\n    RibbonButton.prototype.getModuleName = function () {\n        return 'ribbonButton';\n    };\n    RibbonButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates button.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.createButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var btnSettings = item.buttonSettings;\n        new Button({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            iconCss: btnSettings.iconCss,\n            disabled: item.disabled,\n            cssClass: (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (btnSettings.cssClass ? btnSettings.cssClass : '')).trim(),\n            content: item.activeSize === RibbonItemSize.Small ? '' : btnSettings.content,\n            isPrimary: btnSettings.isPrimary,\n            isToggle: btnSettings.isToggle,\n            created: btnSettings.created\n        }, buttonEle);\n        if (btnSettings.htmlAttributes) {\n            setCustomAttributes(buttonEle, btnSettings.htmlAttributes);\n        }\n        buttonEle.onclick = function (e) {\n            if (btnSettings.clicked) {\n                btnSettings.clicked.call(_this, e);\n            }\n        };\n        buttonEle.setAttribute('aria-label', btnSettings.content);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        buttonEle.setAttribute('data-control', item.type.toString());\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.setProperties({ cssClass: buttonObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        var buttonObj = getComponent(buttonEle, Button);\n        var cssClass = buttonObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        buttonObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the button.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonButton.prototype.click = function (controlId) {\n        var buttonEle = getItemElement(this.parent, controlId);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.click();\n    };\n    /**\n     * Updates the button properties.\n     *\n     * @param {RibbonButtonSettingsModel} prop - Gets the button property.\n     * @param {string} id - Gets the ID of button item.\n     * @returns {void}\n     */\n    RibbonButton.prototype.updateButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.buttonSettings, prop);\n        var buttonEle = getItemElement(this.parent, id, itemProp);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        if (prop.isToggle) {\n            buttonEle.classList.add('e-active');\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n            buttonEle.setAttribute('aria-label', prop.content);\n        }\n        delete prop.clicked;\n        buttonObj.setProperties(prop);\n    };\n    /**\n     * Updates the button size.\n     *\n     * @param {HTMLElement} element - Gets the button element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.updateButtonSize = function (element, item) {\n        var buttonObj = getComponent(element, Button);\n        buttonObj.setProperties({\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            content: item.activeSize === RibbonItemSize.Small ? '' : item.buttonSettings.content\n        });\n    };\n    return RibbonButton;\n}());\nexport { RibbonButton };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCheckBox = /** @class */ (function () {\n    function RibbonCheckBox(parent) {\n        this.parent = parent;\n    }\n    RibbonCheckBox.prototype.getModuleName = function () {\n        return 'ribbonCheckBox';\n    };\n    RibbonCheckBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the check box.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.createCheckBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var checkBoxSettings = item.checkBoxSettings;\n        new CheckBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            checked: checkBoxSettings.checked,\n            cssClass: (RIBBON_CONTROL + SPACE + (checkBoxSettings.cssClass ? checkBoxSettings.cssClass : '')).trim(),\n            label: checkBoxSettings.label,\n            labelPosition: checkBoxSettings.labelPosition,\n            disabled: item.disabled,\n            created: checkBoxSettings.created,\n            htmlAttributes: checkBoxSettings.htmlAttributes,\n            change: function (e) {\n                if (checkBoxSettings.change) {\n                    checkBoxSettings.change.call(_this, e);\n                }\n            }\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.cssClass = checkBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        var cssClass = checkBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        checkBoxObj.cssClass = cssClass.join(SPACE);\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the Checkbox.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.click = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        if (!inputEle) {\n            return;\n        }\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.click();\n    };\n    /**\n     * Updates the checkbox.\n     *\n     * @param {RibbonCheckBoxSettingsModel} prop - Gets the checkbox property.\n     * @param {string} id - Gets the ID of checkbox.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.updateCheckBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.change;\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.setProperties(prop);\n    };\n    return RibbonCheckBox;\n}());\nexport { RibbonCheckBox };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { getItem, getItemElement, setCustomAttributes } from '../base/index';\nimport { RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonColorPicker = /** @class */ (function () {\n    function RibbonColorPicker(parent) {\n        this.parent = parent;\n    }\n    RibbonColorPicker.prototype.getModuleName = function () {\n        return 'ribbonColorPicker';\n    };\n    RibbonColorPicker.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the colorpicker.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.createColorPicker = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var colorPickerSettings = item.colorPickerSettings;\n        var colorPicker = new ColorPicker({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            columns: colorPickerSettings.columns,\n            cssClass: (RIBBON_CONTROL + SPACE + (colorPickerSettings.cssClass ? colorPickerSettings.cssClass : '')).trim(),\n            disabled: item.disabled,\n            enableOpacity: colorPickerSettings.enableOpacity,\n            mode: colorPickerSettings.mode,\n            modeSwitcher: colorPickerSettings.modeSwitcher,\n            noColor: colorPickerSettings.noColor,\n            presetColors: colorPickerSettings.presetColors,\n            showButtons: colorPickerSettings.showButtons,\n            value: colorPickerSettings.value,\n            beforeClose: function () {\n                colorPicker.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.beforeClose) {\n                    colorPickerSettings.beforeClose.call(_this);\n                }\n            },\n            beforeOpen: colorPickerSettings.beforeOpen,\n            beforeTileRender: colorPickerSettings.beforeTileRender,\n            created: colorPickerSettings.created,\n            change: colorPickerSettings.change,\n            open: function () {\n                colorPicker.element.parentElement.classList.add(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.open) {\n                    colorPickerSettings.open.call(_this);\n                }\n            },\n            select: colorPickerSettings.select\n        }, inputEle);\n        if (colorPickerSettings.htmlAttributes) {\n            setCustomAttributes(inputEle, colorPickerSettings.htmlAttributes);\n        }\n        var wrapper = colorPicker.element.parentElement;\n        EventHandler.add(wrapper, 'mouseenter', this.toggleWrapperHover.bind(this, wrapper, true), this);\n        EventHandler.add(wrapper, 'mouseleave', this.toggleWrapperHover.bind(this, wrapper, false), this);\n    };\n    RibbonColorPicker.prototype.toggleWrapperHover = function (wrapper, isAdd) {\n        if (isAdd) {\n            wrapper.classList.add(RIBBON_HOVER);\n        }\n        else {\n            wrapper.classList.remove(RIBBON_HOVER);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        colorPickerEle.setAttribute('data-control', item.type.toString());\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        colorPickerObj.setProperties({ cssClass: colorPickerObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        var splitBtn = colorPickerObj['splitBtn'];\n        var target;\n        colorPickerObj.beforeClose = function (e) {\n            target = e.event ? e.event.target : null;\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n        splitBtn.close = function () {\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        var cssClass = colorPickerObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        colorPickerObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        var splitBtn = colorPickerObj['splitBtn'];\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        splitBtn.close = null;\n        colorPickerObj.beforeClose = function () {\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n    };\n    RibbonColorPicker.prototype.getColorPickerObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ColorPicker) : null;\n    };\n    /**\n     * Gets color value in specified type.\n     *\n     * @param {string} controlId -Gets the control ID.\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @returns {string} - Returns string.\n     */\n    RibbonColorPicker.prototype.getValue = function (controlId, value, type) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        return colorPickerObj ? colorPickerObj.getValue(value, type) : '';\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - set the id of the control.\n     * @returns {void} - Returns void.\n     */\n    RibbonColorPicker.prototype.toggle = function (controlId) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        if (!colorPickerObj) {\n            return;\n        }\n        colorPickerObj.toggle();\n    };\n    /**\n     * Updates the colorpicker properties.\n     *\n     * @param {RibbonColorPickerSettingsModel} prop - Gets the colorpicker property.\n     * @param {string} id - Gets the ID of colorpicker.\n     * @returns {void}\n     */\n    RibbonColorPicker.prototype.updateColorPicker = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.beforeClose;\n        delete prop.open;\n        var colorPickerObj = getComponent(inputEle, ColorPicker);\n        colorPickerObj.setProperties(prop);\n    };\n    /**\n     * @param {HTMLElement} element - Gets the colorpicker element to be destroyed.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.unwireColorPickerEvents = function (element) {\n        var colorPickerObj = getComponent(element, ColorPicker);\n        var wrapper = colorPickerObj.element.parentElement;\n        EventHandler.remove(wrapper, 'mouseenter', this.toggleWrapperHover);\n        EventHandler.remove(wrapper, 'mouseleave', this.toggleWrapperHover);\n    };\n    return RibbonColorPicker;\n}());\nexport { RibbonColorPicker };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonComboBox = /** @class */ (function () {\n    function RibbonComboBox(parent) {\n        this.parent = parent;\n    }\n    RibbonComboBox.prototype.getModuleName = function () {\n        return 'ribbonComboBox';\n    };\n    RibbonComboBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the combobox.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.createComboBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var comboBoxSettings = item.comboBoxSettings;\n        new ComboBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            allowCustom: false,\n            floatLabelType: 'Never',\n            ignoreAccent: true,\n            ignoreCase: true,\n            allowFiltering: comboBoxSettings.allowFiltering,\n            autofill: comboBoxSettings.autofill,\n            cssClass: (RIBBON_CONTROL + SPACE + (comboBoxSettings.cssClass ? comboBoxSettings.cssClass : '')).trim(),\n            dataSource: comboBoxSettings.dataSource,\n            enabled: !item.disabled,\n            fields: comboBoxSettings.fields,\n            filterType: comboBoxSettings.filterType,\n            footerTemplate: comboBoxSettings.footerTemplate,\n            groupTemplate: comboBoxSettings.groupTemplate,\n            headerTemplate: comboBoxSettings.headerTemplate,\n            index: comboBoxSettings.index,\n            itemTemplate: comboBoxSettings.itemTemplate,\n            noRecordsTemplate: comboBoxSettings.noRecordsTemplate,\n            placeholder: comboBoxSettings.placeholder,\n            popupHeight: comboBoxSettings.popupHeight,\n            popupWidth: comboBoxSettings.popupWidth,\n            showClearButton: comboBoxSettings.showClearButton,\n            sortOrder: comboBoxSettings.sortOrder,\n            text: comboBoxSettings.text,\n            value: comboBoxSettings.value,\n            width: comboBoxSettings.width,\n            beforeOpen: comboBoxSettings.beforeOpen,\n            open: comboBoxSettings.open,\n            htmlAttributes: comboBoxSettings.htmlAttributes,\n            close: function (e) {\n                if (comboBoxSettings.close) {\n                    comboBoxSettings.close.call(_this, e);\n                }\n            },\n            filtering: comboBoxSettings.filtering,\n            change: comboBoxSettings.change,\n            select: comboBoxSettings.select,\n            created: comboBoxSettings.created\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties({ cssClass: comboBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        comboBoxObj.close = function (e) {\n            var target = e.event ? e.event.target : null;\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        var cssClass = comboBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        comboBoxObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        comboBoxObj.close = function (e) {\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n        };\n    };\n    RibbonComboBox.prototype.getComboBoxObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ComboBox) : null;\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {string } controlId - set the id of the control in which methods needs to be called.\n     * @param  {Object[] } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.filter = function (controlId, dataSource, query, fields) {\n        this.getComboBoxObj(controlId).filter(dataSource, query, fields);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.hidePopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.hidePopup();\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.showPopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.showPopup();\n    };\n    /**\n     * Updates the combobox properties.\n     *\n     * @param {RibbonComboBoxSettingsModel} prop - Gets the combobox property.\n     * @param {string} id - Gets the ID of combobox.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.updateComboBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.comboBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.close;\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties(prop);\n    };\n    return RibbonComboBox;\n}());\nexport { RibbonComboBox };\n","import { closest, getComponent, isNullOrUndefined, merge, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getItem, getItemElement, RibbonItemSize, createTooltip, setCustomAttributes } from '../base/index';\nimport { DROPDOWN_ID, ITEM_VERTICAL_CENTER, OVERFLOW_ID, RIBBON_CONTROL, RIBBON_GROUP_OVERFLOW_DDB, RIBBON_POPUP_CONTROL, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonDropDown = /** @class */ (function () {\n    function RibbonDropDown(parent) {\n        this.parent = parent;\n    }\n    RibbonDropDown.prototype.getModuleName = function () {\n        return 'ribbonDropDown';\n    };\n    RibbonDropDown.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createDropDown = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var dropDownSettings = item.dropDownSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (dropDownSettings.cssClass ?\n            dropDownSettings.cssClass : '')).trim();\n        new DropDownButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: dropDownSettings.closeActionEvents,\n            content: item.activeSize === RibbonItemSize.Small ? '' : dropDownSettings.content,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: dropDownSettings.iconCss,\n            items: dropDownSettings.items,\n            target: dropDownSettings.target,\n            createPopupOnClick: dropDownSettings.createPopupOnClick,\n            beforeClose: function (e) {\n                if (dropDownSettings.beforeClose) {\n                    dropDownSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: dropDownSettings.beforeItemRender,\n            beforeOpen: dropDownSettings.beforeOpen,\n            close: function (e) {\n                if (dropDownSettings.close) {\n                    dropDownSettings.close.call(_this, e);\n                }\n            },\n            created: dropDownSettings.created,\n            open: dropDownSettings.open,\n            select: dropDownSettings.select\n        }).appendTo(buttonEle);\n        if (dropDownSettings.htmlAttributes) {\n            setCustomAttributes(buttonEle, dropDownSettings.htmlAttributes);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        dropdownElement.setAttribute('data-control', item.type.toString());\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        dropdown.cssClass = dropdown.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        dropdown.dataBind();\n        var target;\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var cssClass = dropdown.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        dropdown.cssClass = cssClass.join(SPACE);\n        dropdown.dataBind();\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n        };\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Creates Overflow DropDown.\n     *\n     * @param {string} id - Gets the ID of the dropdown item.\n     * @param {string} name - Gets the name of the dropdown item.\n     * @param {string} iconCss - Gets the icon of the dropdown item.\n     * @param {HTMLElement} groupEle - Gets the overflow group element.\n     * @param {HTMLElement} overflowEle - Gets the overflow element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createOverFlowDropDown = function (id, name, iconCss, groupEle, overflowEle, enableRtl) {\n        var _this = this;\n        this.enableRtl = enableRtl;\n        var buttonEle = this.parent.createElement('button', {\n            id: id + OVERFLOW_ID + DROPDOWN_ID\n        });\n        groupEle.setAttribute('tabindex', '0');\n        overflowEle.appendChild(buttonEle);\n        var dropdown = new DropDownButton({\n            iconCss: iconCss,\n            target: groupEle,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            cssClass: VERTICAL_DDB + SPACE + RIBBON_GROUP_OVERFLOW_DDB,\n            iconPosition: 'Top',\n            content: name,\n            beforeClose: function (args) {\n                args.cancel = !isNullOrUndefined(args.event && closest(args.event.target, '.' + RIBBON_POPUP_CONTROL));\n            }\n        }, buttonEle);\n        createTooltip(groupEle, this.parent);\n        buttonEle.onclick = buttonEle.onkeydown = function () { _this.itemIndex = 0; };\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        groupEle.onkeydown = function (e) { _this.keyActionHandler(e, groupEle), _this; };\n        return dropdown;\n    };\n    RibbonDropDown.prototype.keyActionHandler = function (e, target) {\n        var items = target.querySelectorAll('.e-control');\n        var comboBoxElements = target.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < items.length; i++) {\n                if (items[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (items[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.itemIndex = i;\n                    }\n                }\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-last-item') || e.target.classList.contains('e-ribbon-first-item')) {\n            if (e.key === 'ArrowRight' || (!e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, !this.enableRtl, items);\n            }\n            if (e.key === 'ArrowLeft' || (e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, this.enableRtl, items);\n            }\n        }\n    };\n    RibbonDropDown.prototype.handleNavigation = function (e, enableRtl, items) {\n        if (!(items[0].classList.contains('e-ribbon-first-item'))) {\n            items[0].classList.add('e-ribbon-first-item');\n        }\n        if (!(items[items.length - 1].classList.contains('e-ribbon-last-item'))) {\n            items[items.length - 1].classList.add('e-ribbon-last-item');\n        }\n        if (enableRtl) {\n            if (this.itemIndex === 0 && items[parseInt(this.itemIndex.toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                this.updateItemIndex(e, items, true);\n            }\n            if (!e.target.classList.contains('e-combobox') && !e.target.classList.contains('e-ribbon-last-item') &&\n                !e.target.classList.contains('e-ribbon-group-container') && (e.target.classList.contains('e-ribbon-first-item')\n                || this.itemIndex !== 0) && e.target.classList.contains('e-control')) {\n                this.itemIndex++;\n                this.updateItemIndex(e, items, true);\n            }\n            if (e.target.classList.contains('e-ribbon-last-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = 0;\n                    this.updateItemIndex(e, items, true);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = 0;\n                this.updateItemIndex(e, items, true);\n            }\n        }\n        else {\n            if (!e.target.classList.contains('e-combobox') && this.itemIndex !== 0) {\n                this.itemIndex--;\n                this.updateItemIndex(e, items, false);\n            }\n            if (e.target.classList.contains('e-ribbon-first-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = items.length - 1;\n                    this.updateItemIndex(e, items, false);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = items.length - 1;\n                this.updateItemIndex(e, items, false);\n            }\n        }\n        if (e.target.classList.contains('e-combobox') && (e.key === 'Tab')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n            }\n        }\n    };\n    RibbonDropDown.prototype.focusLauncherIcon = function (e, items) {\n        var groupContainer = items[parseInt(this.itemIndex.toString(), 10)].closest('.e-ribbon-group-container');\n        var launcherIconEle;\n        if (groupContainer) {\n            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n        }\n        if (launcherIconEle) {\n            if (e.key === 'Tab') {\n                e.preventDefault();\n            }\n            groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    RibbonDropDown.prototype.updateItemIndex = function (e, items, enableRtl) {\n        var ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = 0;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = items.length - 1;\n                }\n            }\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        items[parseInt(this.itemIndex.toString(), 10)].focus();\n    };\n    /**\n     * Removes Overflow DropDown.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowDropDown = function (dropdownElement) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var tooltip = getComponent(dropdown.target, Tooltip);\n        tooltip.destroy();\n        dropdownElement.parentElement.parentElement.insertBefore(dropdown.target, dropdownElement.parentElement);\n        dropdown.destroy();\n        remove(dropdownElement);\n    };\n    /**\n     * Gets DropDown item element.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @param {string} id - Gets the ID of ribbon DropDown element.\n     * @returns {HTMLElement} - Returns the DropDown item element.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getDDBItemElement = function (dropdownElement, id) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var dropDownPopup = dropdown.dropDown.element;\n        return dropDownPopup.querySelector('#' + id);\n    };\n    /**\n     * Gets Overflow DropDown Popup.\n     *\n     * @param {itemProps} itemProp - Gets the property of ribbon item.\n     * @param {HTMLElement} contentEle - Gets the content element.\n     * @returns {HTMLElement} - Returns the Overflow DropDown Popup.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getOverflowDropDownPopup = function (itemProp, contentEle) {\n        var dropdownElement = contentEle.querySelector('#' + this.parent.tabs[itemProp.tabIndex].groups[itemProp.groupIndex].id + OVERFLOW_ID + DROPDOWN_ID);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        return dropdown.dropDown.element;\n    };\n    RibbonDropDown.prototype.getDropDownObj = function (controlId) {\n        var dropDownEle = getItemElement(this.parent, controlId);\n        return dropDownEle ? getComponent(dropDownEle, DropDownButton) : null;\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the DropDown items.\n     * @param {string} text - Gets the text of the dropdown item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.addItems = function (controlId, Items, text) {\n        this.getDropDownObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getDropDownObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.toggle = function (controlId) {\n        this.getDropDownObj(controlId).toggle();\n    };\n    /**\n     * Updates the dropdown.\n     *\n     * @param {RibbonDropDownSettingsModel} prop - Gets the dropdown property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.updateDropDown = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.dropDownSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, DropDownButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.close;\n        delete prop.beforeClose;\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n        }\n        control.setProperties(prop);\n    };\n    /**\n     * Updated DropDown size\n     *\n     * @param {HTMLElement} element - Gets the dropdown element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.updateDropDownSize = function (element, item) {\n        var control = getComponent(element, DropDownButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        control.setProperties({ content: item.activeSize === RibbonItemSize.Small ? '' : item.dropDownSettings.content });\n    };\n    return RibbonDropDown;\n}());\nexport { RibbonDropDown };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { getItem, getItemElement, RibbonItemSize, setCustomAttributes } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonSplitButton = /** @class */ (function () {\n    function RibbonSplitButton(parent) {\n        this.parent = parent;\n    }\n    RibbonSplitButton.prototype.getModuleName = function () {\n        return 'ribbonSplitButton';\n    };\n    RibbonSplitButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates SplitButton.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.createSplitButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var splitButtonSettings = item.splitButtonSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (splitButtonSettings.cssClass ?\n            splitButtonSettings.cssClass : '')).trim();\n        var splitbutton = new SplitButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: splitButtonSettings.closeActionEvents,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: splitButtonSettings.iconCss,\n            items: splitButtonSettings.items,\n            target: splitButtonSettings.target,\n            beforeClose: function (e) {\n                if (splitButtonSettings.beforeClose) {\n                    splitButtonSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: splitButtonSettings.beforeItemRender,\n            beforeOpen: splitButtonSettings.beforeOpen,\n            close: function () {\n                splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.close) {\n                    splitButtonSettings.close.call(_this);\n                }\n            },\n            created: splitButtonSettings.created,\n            open: function () {\n                splitbutton['wrapper'].classList.add(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.open) {\n                    splitButtonSettings.open.call(_this);\n                }\n            },\n            select: splitButtonSettings.select,\n            click: function (e) {\n                if (splitButtonSettings.click) {\n                    splitButtonSettings.click.call(_this, e);\n                }\n            }\n        }, buttonEle);\n        if (splitButtonSettings.htmlAttributes) {\n            setCustomAttributes(buttonEle, splitButtonSettings.htmlAttributes);\n        }\n        var dropdownEle = buttonEle.parentElement.querySelector('.e-dropdown-btn');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        this.setContent(item, splitbutton);\n        var wrapper = splitbutton['wrapper'];\n        EventHandler.add(wrapper, 'mouseenter', function () { wrapper.classList.add(RIBBON_HOVER); }, this);\n        EventHandler.add(wrapper, 'mouseleave', function () { wrapper.classList.remove(RIBBON_HOVER); }, this);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        splitButtonEle.setAttribute('data-control', item.type.toString());\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        splitbutton.cssClass = splitbutton.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        splitbutton.dataBind();\n        var dropdownEle = splitButtonEle.parentElement.querySelector('.e-dropdown-btn');\n        var ddbId = dropdownEle.getAttribute('id');\n        var popupEle = document.querySelector('#' + ddbId + '-popup');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        popupEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                splitbutton['wrapper'].classList.remove('e-ribbon-open');\n                popupEle.querySelector('.e-focused').click();\n            }\n        };\n        var target;\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        var cssClass = splitbutton.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        splitbutton.cssClass = cssClass.join(SPACE);\n        splitbutton.dataBind();\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n        };\n    };\n    RibbonSplitButton.prototype.setContent = function (item, control) {\n        control['primaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Medium) ? item.splitButtonSettings.content : '' });\n        control['secondaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Large) ? item.splitButtonSettings.content : '' });\n    };\n    RibbonSplitButton.prototype.getSplitButtonObj = function (controlId) {\n        var splitButtonEle = getItemElement(this.parent, controlId);\n        return getComponent(splitButtonEle, SplitButton);\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the SplitButton items.\n     * @param {string} text - Gets the text of the splitbutton item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.addItems = function (controlId, Items, text) {\n        this.getSplitButtonObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getSplitButtonObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.toggle = function (controlId) {\n        this.getSplitButtonObj(controlId).toggle();\n    };\n    /**\n     * Updates the splitbutton.\n     *\n     * @param {RibbonSplitButtonSettingsModel} prop - Gets the splitbutton property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.updateSplitButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.splitButtonSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, SplitButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.open;\n        delete prop.click;\n        delete prop.close;\n        delete prop.beforeClose;\n        control.setProperties(prop);\n        if (prop.content) {\n            this.setContent(itemProp.item, control);\n        }\n    };\n    /**\n     * Updated SplitButton size\n     *\n     * @param {HTMLElement} element - Gets the splibutton element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.updateSplitButtonSize = function (element, item) {\n        var control = getComponent(element, SplitButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        this.setContent(item, control);\n    };\n    return RibbonSplitButton;\n}());\nexport { RibbonSplitButton };\n","import { EventHandler, getComponent, remove } from '@syncfusion/ej2-base';\nimport * as constants from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { RibbonGroupButtonSelection, RibbonItemSize } from '../base/interface';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { createTooltip, isTooltipPresent, setCustomAttributes } from '../base/utils';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonGroupButton = /** @class */ (function () {\n    function RibbonGroupButton(parent) {\n        this.parent = parent;\n        this.isSelected = false;\n    }\n    RibbonGroupButton.prototype.getModuleName = function () {\n        return 'ribbonGroupButton';\n    };\n    RibbonGroupButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates Group Button\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemElement - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.createGroupButton = function (item, itemElement) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        this.count = 0;\n        var btnContainerEle = this.parent.createElement('div', {\n            id: item.id + constants.RIBBON_GROUP_BUTTON_ID,\n            className: 'e-btn-group'\n        });\n        itemElement.appendChild(btnContainerEle);\n        for (var i = 0; i < groupBtnSettings.items.length; i++) {\n            if ((groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss)) {\n                var groupButtonEle = this.parent.createElement('button', {\n                    id: item.id + constants.RIBBON_GROUP_BUTTON_ID + i,\n                    className: constants.RIBBON_GROUP_BUTTON\n                });\n                btnContainerEle.appendChild(groupButtonEle);\n                new Button({\n                    iconCss: groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss,\n                    disabled: item.disabled,\n                    enableRtl: this.parent.enableRtl,\n                    content: item.activeSize === RibbonItemSize.Small ? '' : groupBtnSettings.items[parseInt(i.toString(), 10)].content,\n                    iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left'\n                }, groupButtonEle);\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].htmlAttributes) {\n                    setCustomAttributes(groupButtonEle, groupBtnSettings.items[parseInt(i.toString(), 10)].htmlAttributes);\n                }\n                var buttonEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n                if (groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                    btnContainerEle.classList.add(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                }\n                else {\n                    btnContainerEle.classList.add(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].selected) {\n                    if (groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                        buttonEle.classList.add('e-active');\n                    }\n                    else {\n                        if (this.count < 1) {\n                            buttonEle.classList.add('e-active');\n                            this.count++;\n                        }\n                    }\n                }\n                if (groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings &&\n                    isTooltipPresent(groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings)) {\n                    groupButtonEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                    this.parent.tooltipData.push({\n                        id: groupButtonEle.id, data: groupBtnSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings\n                    });\n                }\n                EventHandler.add(buttonEle, 'click', this.groupButtonClicked.bind(this, i, item, groupBtnSettings), this);\n            }\n        }\n        if (this.parent.activeLayout === 'Simplified') {\n            var dropdownIcon = void 0;\n            var activeEleCount = 0;\n            var count = 0;\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id\n            });\n            itemElement.appendChild(buttonEle);\n            for (var i = 0; i < groupBtnSettings.items.length; i++) {\n                if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].selected &&\n                    !this.isSelected && groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                    dropdownIcon = item.groupButtonSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    this.isSelected = true;\n                }\n                else if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].selected &&\n                    groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                    activeEleCount++;\n                    if (activeEleCount === 1) {\n                        dropdownIcon = item.groupButtonSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    }\n                    else {\n                        dropdownIcon = null;\n                    }\n                }\n            }\n            while (count < item.groupButtonSettings.items.length && !this.isSelected && !dropdownIcon) {\n                if (item.groupButtonSettings.items[parseInt(count.toString(), 10)].iconCss) {\n                    dropdownIcon = item.groupButtonSettings.items[parseInt(count.toString(), 10)].iconCss;\n                    this.isSelected = true;\n                }\n                count++;\n            }\n            new DropDownButton({\n                iconCss: dropdownIcon,\n                target: btnContainerEle,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-dropdown-group-button',\n                disabled: item.disabled\n            }, buttonEle);\n            buttonEle.onclick = buttonEle.onkeydown = function () {\n                if (itemElement.querySelector('#' + item.id).classList.contains('e-active')) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + 0).focus();\n                    _this.grpBtnIndex = 0;\n                }\n            };\n            btnContainerEle.onkeydown = function (e) {\n                if (_this.parent.activeLayout === 'Simplified') {\n                    _this.handleGroupButtonNavigation(e, item);\n                }\n            };\n            createTooltip(btnContainerEle, this.parent);\n            this.isSelected = false;\n        }\n    };\n    RibbonGroupButton.prototype.groupButtonClicked = function (itemIndex, item, grpBtnSettings) {\n        var previousItems = [], selectingItems = [], selectedItems = [];\n        var groupButtonEle;\n        var dropdown;\n        for (var j = 0; j < grpBtnSettings.items.length; j++) {\n            if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j)) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.contains('e-active')) {\n                    previousItems.push(grpBtnSettings.items[parseInt(j.toString(), 10)]);\n                }\n            }\n        }\n        if (!(document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active'))) {\n            selectingItems.push(grpBtnSettings.items[parseInt(itemIndex.toString(), 10)]);\n        }\n        var eventArgs = {\n            cancel: false, previousItems: previousItems, selectingItems: selectingItems\n        };\n        if (grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].beforeClick) {\n            grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].beforeClick.call(this, eventArgs);\n        }\n        if (eventArgs.cancel) {\n            return;\n        }\n        else {\n            if (grpBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.contains(constants.RIBBON_MULTIPLE_BUTTON_SELECTION)) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.remove(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.add(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                }\n                for (var j = 0; j < grpBtnSettings.items.length; j++) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.contains('e-active')) {\n                        document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + j).classList.remove('e-active');\n                    }\n                }\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.toggle('e-active');\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active') && this.parent.activeLayout === 'Simplified') {\n                    this.grpBtnIndex = itemIndex;\n                    groupButtonEle = document.querySelector('#' + item.id);\n                    dropdown = getComponent(groupButtonEle, DropDownButton);\n                    dropdown.setProperties({\n                        iconCss: grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].iconCss\n                    });\n                }\n            }\n            else {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.contains(constants.RIBBON_SINGLE_BUTTON_SELECTION)) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.remove(constants.RIBBON_SINGLE_BUTTON_SELECTION);\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID).classList.add(constants.RIBBON_MULTIPLE_BUTTON_SELECTION);\n                }\n                document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.toggle('e-active');\n                var activeEleCount = 0;\n                for (var n = 0; n < grpBtnSettings.items.length; n++) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n).classList.contains('e-active') && this.parent.activeLayout === 'Simplified' && n !== itemIndex) {\n                        this.isSelected = true;\n                        activeEleCount++;\n                    }\n                }\n                if (this.parent.activeLayout === 'Simplified') {\n                    var dropdownIcon = null;\n                    var itemsCount = 0;\n                    groupButtonEle = document.querySelector('#' + item.id);\n                    dropdown = getComponent(groupButtonEle, DropDownButton);\n                    if (!this.isSelected) {\n                        if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                            dropdownIcon = grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].iconCss;\n                        }\n                    }\n                    else {\n                        if (activeEleCount === 1 && !(document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active'))) {\n                            for (var n = 0; n < grpBtnSettings.items.length; n++) {\n                                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n) && document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + n).classList.contains('e-active')) {\n                                    dropdownIcon = grpBtnSettings.items[parseInt(n.toString(), 10)].iconCss;\n                                }\n                            }\n                        }\n                    }\n                    while (itemsCount < grpBtnSettings.items.length && !dropdownIcon) {\n                        if (grpBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss) {\n                            dropdownIcon = grpBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss;\n                        }\n                        itemsCount++;\n                    }\n                    dropdown.setProperties({ iconCss: dropdownIcon });\n                    this.grpBtnIndex = itemIndex;\n                }\n                this.isSelected = false;\n            }\n            if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + itemIndex).classList.contains('e-active')) {\n                selectedItems.push(grpBtnSettings.items[parseInt(itemIndex.toString(), 10)]);\n            }\n            var eventArgs_1 = { previousItems: previousItems, selectedItems: selectedItems };\n            if (grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].click) {\n                grpBtnSettings.items[parseInt(itemIndex.toString(), 10)].click.call(this, eventArgs_1);\n            }\n        }\n    };\n    /**\n     * updates group button in mode switching\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemElement - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.switchGroupButton = function (item, itemElement) {\n        var _this = this;\n        var groupBtnSettings = item.groupButtonSettings;\n        var dropdownIcon = null;\n        var activeEleCount = 0;\n        var itemsCount = 0;\n        if (this.parent.activeLayout === 'Simplified') {\n            var containerEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n            var buttonEle = this.parent.createElement('button', {\n                id: item.id\n            });\n            itemElement.appendChild(buttonEle);\n            for (var i = 0; i < groupBtnSettings.items.length; i++) {\n                if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i)) {\n                    if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i).classList.contains('e-active') && groupBtnSettings.selection === RibbonGroupButtonSelection.Single) {\n                        dropdownIcon = groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss;\n                    }\n                    else if (document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i).classList.contains('e-active') && groupBtnSettings.selection === RibbonGroupButtonSelection.Multiple) {\n                        activeEleCount++;\n                        if (activeEleCount === 1) {\n                            dropdownIcon = groupBtnSettings.items[parseInt(i.toString(), 10)].iconCss;\n                        }\n                        else if (activeEleCount > 1) {\n                            dropdownIcon = null;\n                        }\n                    }\n                }\n            }\n            while (itemsCount < groupBtnSettings.items.length && !dropdownIcon) {\n                if (groupBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss) {\n                    dropdownIcon = groupBtnSettings.items[parseInt(itemsCount.toString(), 10)].iconCss;\n                }\n                itemsCount++;\n            }\n            new DropDownButton({\n                iconCss: dropdownIcon,\n                target: containerEle,\n                enableRtl: this.parent.enableRtl,\n                cssClass: 'e-ribbon-dropdown-group-button',\n                disabled: item.disabled\n            }, buttonEle);\n            buttonEle.onclick = buttonEle.onkeydown = function () {\n                if (itemElement.querySelector('#' + item.id).classList.contains('e-active')) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + 0).focus();\n                    _this.grpBtnIndex = 0;\n                }\n            };\n            containerEle.onkeydown = function (e) {\n                if (_this.parent.activeLayout === 'Simplified') {\n                    _this.handleGroupButtonNavigation(e, item);\n                }\n            };\n            createTooltip(containerEle, this.parent);\n        }\n        else {\n            var groupButtonEle = itemElement.querySelector('#' + item.id);\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            itemElement.appendChild(dropdown.target);\n            if (groupButtonEle) {\n                dropdown.destroy();\n                remove(groupButtonEle);\n            }\n        }\n    };\n    RibbonGroupButton.prototype.handleGroupButtonNavigation = function (e, item) {\n        var groupButtonEle = document.querySelector('#' + item.id);\n        var dropdown = getComponent(groupButtonEle, DropDownButton);\n        var targetEle = dropdown.target;\n        var isOverflowPopup = false;\n        if (this.parent.activeLayout === 'Simplified' && targetEle.closest('.e-ribbon-dropdown-group-button').classList.contains(constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP)) {\n            isOverflowPopup = true;\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        var groupBtnSettings = item.groupButtonSettings;\n        if ((e.key === 'ArrowRight' && !isOverflowPopup) || (e.key === 'ArrowDown' && isOverflowPopup)) {\n            if (!this.parent.enableRtl || (e.key === 'ArrowDown' && isOverflowPopup)) {\n                this.grpBtnIndex++;\n                if (this.grpBtnIndex < groupBtnSettings.items.length) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex = 0;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n            else {\n                if (this.grpBtnIndex === 0) {\n                    this.grpBtnIndex = groupBtnSettings.items.length - 1;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex--;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n        }\n        else if ((e.key === 'ArrowLeft' && !isOverflowPopup) || (e.key === 'ArrowUp' && isOverflowPopup)) {\n            if (!this.parent.enableRtl || (e.key === 'ArrowUp' && isOverflowPopup)) {\n                if (this.grpBtnIndex === 0) {\n                    this.grpBtnIndex = groupBtnSettings.items.length - 1;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex--;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n            else {\n                this.grpBtnIndex++;\n                if (this.grpBtnIndex < groupBtnSettings.items.length) {\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n                else {\n                    this.grpBtnIndex = 0;\n                    document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + (this.grpBtnIndex)).focus();\n                }\n            }\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.addOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var groupButtonEle = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(groupButtonEle, DropDownButton);\n        dropdown.setProperties({ cssClass: dropdown.cssClass + constants.SPACE + constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP });\n        var targetEle = dropdown.target;\n        targetEle.onclick = function () {\n            if (_this.parent.activeLayout === 'Simplified' && targetEle.closest('.e-ribbon-dropdown-group-button').classList.contains(constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP)) {\n                dropdown.element.focus();\n                dropdown.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var groupButtonEle = itemEle.querySelector('#' + item.id);\n        if (groupButtonEle) {\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            var cssClass = dropdown.cssClass.split(constants.SPACE);\n            cssClass = cssClass.filter(function (value) { return value !== constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP; });\n            dropdown.setProperties({ cssClass: cssClass.join(constants.SPACE) });\n        }\n    };\n    /**\n     * Removes DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.destroyDropDown = function (item) {\n        var groupButtonEle = document.querySelector('#' + item.id);\n        if (groupButtonEle) {\n            var dropdown = getComponent(groupButtonEle, DropDownButton);\n            var tooltip = getComponent(dropdown.target, Tooltip);\n            tooltip.destroy();\n            dropdown.destroy();\n            remove(groupButtonEle);\n        }\n    };\n    /**\n     * Updates the group button size.\n     *\n     * @param {HTMLElement} itemElement - Gets the group button container element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonGroupButton.prototype.updateGroupButtonSize = function (itemElement, item) {\n        var groupBtnSettings = item.groupButtonSettings;\n        var buttonEle;\n        for (var i = 0; i < groupBtnSettings.items.length; i++) {\n            if (this.parent.activeLayout === 'Classic') {\n                buttonEle = itemElement.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n            }\n            else {\n                buttonEle = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n            }\n            if (buttonEle) {\n                var buttonObj = getComponent(buttonEle, Button);\n                buttonObj.setProperties({\n                    iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n                    content: item.activeSize === RibbonItemSize.Small ? '' : groupBtnSettings.items[parseInt(i.toString(), 10)].content\n                });\n            }\n        }\n    };\n    return RibbonGroupButton;\n}());\nexport { RibbonGroupButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { addClass, append, Event, Collection, Complex, Component, EventHandler, formatUnit, getInstance, getComponent, getUniqueID, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, NotifyPropertyChanges, Property, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Tab, TabAnimationSettings, HScroll, Toolbar } from '@syncfusion/ej2-navigations';\nimport { RibbonTab, FileMenuSettings, BackStageMenu } from '../models/index';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport { ItemOrientation, RibbonItemSize, RibbonItemType } from './interface';\nimport { RibbonButton, RibbonComboBox, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonGroupButton } from '../items/index';\nimport { destroyControl, getCollection, getGroup, getIndex, getItem, getItemElement, updateCommonProperty, updateControlDisabled, isTooltipPresent, getTemplateFunction, createTooltip, destroyTooltip, updateTooltipProp } from './utils';\nimport * as constants from './constant';\nimport { DropDownButton, SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * The Ribbon Component is a structured layout to manage tools with tabs and groups.\n */\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param  {RibbonModel} options - Specifies the ribbon model\n     * @param  {string|HTMLDivElement} element - Specifies the target element\n     */\n    function Ribbon(options, element) {\n        var _this = this;\n        Ribbon_1.Inject(RibbonButton, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonComboBox, RibbonGroupButton);\n        _this = _super.call(this, options, element) || this;\n        return _this;\n    }\n    Ribbon_1 = Ribbon;\n    /**\n     * Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.render = function () {\n        this.initialize();\n    };\n    Ribbon.prototype.preRender = function () {\n        this.idIndex = 0;\n        this.tooltipData = [];\n        this.initialPropsData = {};\n        this.isAddRemove = false;\n        this.keyConfigs = {\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab'\n        };\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Ribbon.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeLayout']);\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Ribbon.prototype.getModuleName = function () {\n        return 'ribbon';\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    Ribbon.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({ member: 'ribbonButton', args: [this] }, { member: 'ribbonDropDown', args: [this] }, { member: 'ribbonSplitButton', args: [this] }, { member: 'ribbonCheckBox', args: [this] }, { member: 'ribbonColorPicker', args: [this] }, { member: 'ribbonComboBox', args: [this] }, { member: 'ribbonGroupButton', args: [this] }, { member: 'ribbonFileMenu', args: [this] }, { member: 'ribbonBackstage', args: [this] });\n        return modules;\n    };\n    Ribbon.prototype.initialize = function () {\n        this.element.id = this.element.id || getUniqueID('e-' + this.getModuleName());\n        addClass([this.element], ['e-rbn'].concat((this.cssClass ? this.cssClass.split(constants.SPACE) : [])));\n        if (this.enableRtl) {\n            this.element.classList.add(constants.RTL_CSS);\n        }\n        this.element.style.width = formatUnit(this.width);\n        this.renderTabs();\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.createFileMenu(this.fileMenu);\n        }\n        if (this.ribbonBackstageModule) {\n            this.ribbonBackstageModule.createBackStage(this.backStageMenu);\n        }\n        this.createHelpPaneTemplate();\n        var toolbar = this.tabObj['tbObj'];\n        toolbar.refreshOverflow();\n        createTooltip(this.element, this);\n        this.wireEvents();\n        this.wireKeyboardEvent();\n        this.currentControlIndex = 0;\n    };\n    Ribbon.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n    };\n    Ribbon.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleRibbon = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Ribbon.prototype.keyActionHandler = function (e) {\n        if (((e.key === 'Tab') && (!(e.target.classList.contains('e-tab-wrap')) && !(e.target.classList.contains('e-combobox'))))) {\n            e.preventDefault();\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var ribbonControls = activeContent.querySelectorAll('.e-control');\n        var comboBoxElements = activeContent.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < ribbonControls.length; i++) {\n                if (ribbonControls[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (ribbonControls[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.currentControlIndex = i;\n                    }\n                }\n            }\n        }\n        if (this.currentControlIndex === 0) {\n            var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            while (item && item.classList.contains('e-disabled')) {\n                this.currentControlIndex++;\n                item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-collapse-btn') || e.target.classList.contains('e-ribbon-last-item') ||\n            e.target.classList.contains('e-ribbon-first-item') || e.target.classList.contains('e-ribbon-group-of-btn') ||\n            e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            switch (e.action) {\n                case 'rightarrow':\n                    this.handleNavigation(e, !this.enableRtl, ribbonControls);\n                    break;\n                case 'leftarrow':\n                    this.handleNavigation(e, this.enableRtl, ribbonControls);\n                    break;\n                case 'tab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex < ribbonControls.length - 1) {\n                            this.currentControlIndex++;\n                        }\n                    }\n                    break;\n                case 'shiftTab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex > 0) {\n                            this.currentControlIndex--;\n                        }\n                    }\n                    else {\n                        this.tabObj.element.querySelector('.e-toolbar-item.e-active').querySelector('.e-tab-wrap').focus();\n                        this.currentControlIndex = 0;\n                    }\n            }\n        }\n    };\n    Ribbon.prototype.handleNavigation = function (e, enableRtl, ribbonControls) {\n        var groupContainer;\n        var prevGroupId;\n        if (enableRtl) {\n            if (this.currentControlIndex < ribbonControls.length - 1 && ribbonControls[this.currentControlIndex + 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex++;\n            }\n        }\n        else {\n            if (this.currentControlIndex > 0 && ribbonControls[this.currentControlIndex - 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex--;\n            }\n        }\n        if ((!enableRtl && (this.currentControlIndex > 0)) || (enableRtl && (this.currentControlIndex < ribbonControls.length - 1))) {\n            if (!e.target.classList.contains('e-combobox') && e.target.classList.contains('e-control') && !e.target.classList.contains('e-ribbon-last-item')) {\n                if (enableRtl) {\n                    this.currentControlIndex++;\n                }\n                else {\n                    var prevGroupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (prevGroupContainer) {\n                        prevGroupId = prevGroupContainer.getAttribute('id');\n                    }\n                    this.currentControlIndex--;\n                }\n                var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (item && item.classList.contains('e-disabled')) {\n                    if (((enableRtl && this.currentControlIndex === ribbonControls.length - 1) ||\n                        (!enableRtl && this.currentControlIndex === 0))) {\n                        if (ribbonControls[this.currentControlIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                            this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                            break;\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                    enableRtl ? this.currentControlIndex++ : this.currentControlIndex--;\n                    item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (this.activeLayout === 'Classic') {\n                    groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (enableRtl) {\n                        var launcherIconEle = void 0;\n                        if (groupContainer) {\n                            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                        }\n                        if (launcherIconEle) {\n                            var items = groupContainer.querySelectorAll('.e-ribbon-item');\n                            items[items.length - 1].querySelector('.e-control').classList.add('e-ribbon-last-item');\n                        }\n                    }\n                    else {\n                        if (groupContainer) {\n                            var groupContainerId = groupContainer.getAttribute('id');\n                            if (prevGroupId !== groupContainerId) {\n                                var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                                if (launcherIconEle) {\n                                    ribbonControls[parseInt((this.currentControlIndex + 1).toString(), 10)].classList.add('e-ribbon-first-item');\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-first-item');\n                    }\n                    else if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-last-item');\n                    }\n                }\n            }\n        }\n        else {\n            if (this.activeLayout === 'Classic') {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            if (this.activeLayout === 'Simplified') {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if (enableRtl && (overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                }\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-last-item')) {\n            if (enableRtl) {\n                groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n            else {\n                this.currentControlIndex--;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (!enableRtl && e.target.classList.contains('e-ribbon-first-item')) {\n            groupContainer = ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n            var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n            if (launcherIconEle) {\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n            if (enableRtl) {\n                this.currentControlIndex++;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                    ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.remove('e-ribbon-last-item');\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                this.currentControlIndex;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-collapse-btn')) {\n            if (enableRtl) {\n                this.currentControlIndex = 0;\n                var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                    this.currentControlIndex++;\n                    ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n            else {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if ((overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.currentControlIndex = ribbonControls.length - 1;\n                    var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                        this.currentControlIndex--;\n                        ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    }\n                    ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                }\n            }\n        }\n        if (this.activeLayout === 'Simplified' && e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            if (enableRtl) {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            else {\n                this.currentControlIndex = ribbonControls.length - 1;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n    };\n    Ribbon.prototype.resizeHandler = function () {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n        if (this.scrollModule) {\n            var scrollEle = this.tabObj.element.querySelector('.' + constants.HORIZONTAL_SCROLLBAR);\n            this.scrollModule.scrollStep = scrollEle.offsetWidth;\n        }\n    };\n    Ribbon.prototype.renderTabs = function () {\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal = this.checkID(this.tabsInternal, 'tab', this.element.id);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        var tabEle = this.createElement('div', {\n            id: this.element.id + constants.TAB_ID\n        });\n        this.element.appendChild(tabEle);\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        this.tabObj = new Tab({\n            cssClass: constants.RIBBON_TAB,\n            selectedItem: this.selectedTab,\n            overflowMode: 'Popup',\n            width: this.width,\n            items: tabItems,\n            enableRtl: this.enableRtl,\n            created: this.tabCreated.bind(this),\n            selected: this.ribbonTabSelected.bind(this),\n            selecting: this.ribbonTabSelecting.bind(this)\n        });\n        this.tabObj.appendTo(tabEle);\n        //Set the width value as \"0px\" with unit for proper calculation.\n        this.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, '0px');\n        this.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        var toolbar = getComponent(toolbarEle, Toolbar);\n        toolbar.setProperties({ width: 'calc(100% - var(--fileMenuWidth) - var(--helpTemplateWidth))' });\n        this.element.classList[this.isMinimized ? 'add' : 'remove'](constants.RIBBON_MINIMIZE);\n    };\n    Ribbon.prototype.minimize = function (val) {\n        var _this = this;\n        if (val === this.isMinimized) {\n            return;\n        }\n        var eventArgs = { cancel: false };\n        this.trigger(val ? 'ribbonCollapsing' : 'ribbonExpanding', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ isMinimized: val }, true);\n            _this.element.classList.toggle(constants.RIBBON_MINIMIZE, _this.isMinimized);\n            //to overwrite inline styles from hscroll\n            _this.tabObj.element.querySelector('.e-content').style.display = val ? 'none' : 'block';\n            if (!val) {\n                _this.refreshLayout();\n            }\n        });\n    };\n    Ribbon.prototype.toggleLayout = function () {\n        this.setProperties({ activeLayout: this.activeLayout === 'Simplified' ? 'Classic' : 'Simplified' }, true);\n        this.switchLayout();\n    };\n    Ribbon.prototype.tabCreated = function () {\n        if (!this.hideLayoutSwitcher) {\n            this.addExpandCollapse();\n        }\n        this.renderInitialTab(this.selectedTab);\n    };\n    Ribbon.prototype.ribbonTabSelected = function (e) {\n        this.isAddRemove = false;\n        var selectedTabId = e.selectedItem.getAttribute('data-id');\n        var selectedIndex = getIndex(this.tabs, (function (tab) { return (tab.id === selectedTabId); }));\n        selectedIndex = selectedIndex === -1 ? this.selectedTab : selectedIndex;\n        var eventArgs = { previousIndex: this.selectedTab, selectedIndex: selectedIndex };\n        this.setProperties({ selectedTab: selectedIndex }, true);\n        this.checkOverflow(selectedIndex, e.selectedContent.firstChild);\n        if (this.activeLayout === 'Simplified' && this.overflowDDB) {\n            var overflowTarget = this.overflowDDB.target;\n            var ofTabContainer = overflowTarget.querySelector('.' + constants.RIBBON_TAB_ACTIVE);\n            if (ofTabContainer) {\n                ofTabContainer.classList.remove(constants.RIBBON_TAB_ACTIVE);\n            }\n            var activeTab = overflowTarget.querySelector('#' + selectedTabId + constants.OVERFLOW_ID);\n            if (activeTab) {\n                activeTab.classList.add(constants.RIBBON_TAB_ACTIVE);\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                this.checkOverflowHiddenItems(false, selectedIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n            }\n        }\n        this.trigger('tabSelected', eventArgs);\n    };\n    Ribbon.prototype.checkOverflow = function (tabIndex, activeContent) {\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        var isOverFlow = tabContent.offsetWidth < activeContent.offsetWidth;\n        if (isOverFlow && !this.scrollModule) {\n            if (this.activeLayout === 'Classic') {\n                // Defines whether the shrinking is breaked due to insufficient space.\n                var isBreak = false;\n                isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, true);\n                if (!isBreak && (tabContent.offsetWidth < activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, false);\n                }\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createOverflowDropdown(tabIndex, tabContent, activeContent);\n                }\n            }\n            else {\n                this.checkSimplifiedItemShrinking(tabIndex, tabContent, activeContent);\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                }\n            }\n            //Adds Scroll if the tabwidth is less the content width even after adding overflow dropdown.\n            if ((tabContent.offsetWidth < activeContent.offsetWidth) && (!this.scrollModule)) {\n                this.scrollModule = new HScroll({\n                    enableRtl: this.enableRtl\n                }, this.tabObj.element.querySelector('.' + constants.TAB_CONTENT));\n            }\n        }\n        else if (!isOverFlow) {\n            this.destroyScroll();\n            if (this.activeLayout === 'Classic') {\n                var isBreak = false;\n                isBreak = this.removeOverflowDropdown(tabContent, activeContent, false, tabIndex);\n                //Check for expanding small items to medium items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, true);\n                }\n                //Check for expanding medium items to large items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, false);\n                }\n            }\n            else {\n                this.removeSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                if (tabContent.offsetWidth > activeContent.offsetWidth) {\n                    this.checkSimplifiedItemExpanding(tabIndex, tabContent, activeContent);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemShrinking = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Medium) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            itemContainer.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemExpanding = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth > activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth > activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Small) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var valString = itemContainer.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (tabContent.offsetWidth > value)) {\n                                itemContainer.removeAttribute('data-medium-width');\n                                var itemEle = itemContainer.querySelector('#' + item.id);\n                                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                                this.setItemSize(itemEle, item);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createSimplfiedOverflow = function (tabContent, activeContent, tabIndex) {\n        var orderedGroups = this.getGroupResizeOrder(true, tabIndex);\n        var isEmptyCollection;\n        for (var i = 0; ((i < orderedGroups.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = group.collections.length; ((j >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); j--) {\n                var collection = group.collections[parseInt((j - 1).toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    var itemContainer = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        itemContainer.setAttribute('data-simplified-width', activeContent.offsetWidth.toString());\n                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemContainer, groupContainer, true);\n                        if (item.activeSize === RibbonItemSize.Small) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, true);\n                        }\n                    }\n                }\n            }\n            if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n            var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n            if (itemsLength && !group.enableGroupOverflow) {\n                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                if (isEmptyCollection) {\n                    groupEle.classList.add('e-ribbon-emptyCollection');\n                }\n            }\n            this.checkOverflowHiddenItems(group.enableGroupOverflow, tabIndex, group.id);\n        }\n    };\n    Ribbon.prototype.checkEmptyCollection = function (itemsLength) {\n        var isEmptyCollection = true;\n        for (var i = 0; i < itemsLength.length; i++) {\n            if (!(itemsLength[parseInt(i.toString(), 10)].classList.contains('e-hidden'))) {\n                isEmptyCollection = false;\n                break;\n            }\n        }\n        return isEmptyCollection;\n    };\n    Ribbon.prototype.updatePopupItems = function (item, itemEle, isGroupOF, isMenu) {\n        var dropdown = getComponent(itemEle.querySelector('#' + item.id), (item.type === RibbonItemType.DropDown || item.type === RibbonItemType.GroupButton) ? DropDownButton : SplitButton);\n        var dropDownPopup = dropdown.dropDown;\n        // popup is on right if (isGroupOF && isMenu)\n        // The position is reversed if RTL is enabled.\n        // isRight = ((isGroupOF && isMenu) && !this.enableRtl ) || (!(isGroupOF && isMenu) && this.enableRtl)  ==> (isGroupOF && isMenu) !== this.enableRtl\n        var isLeft = (isGroupOF && isMenu) === this.enableRtl;\n        if (dropDownPopup) {\n            dropDownPopup.setProperties({ position: { X: isLeft ? 'left' : 'right', Y: isMenu ? 'top' : 'bottom' } }, true);\n            if (isMenu) {\n                dropdown.beforeOpen = function () {\n                    if (isLeft) {\n                        dropDownPopup.element.style.setProperty('visibility', 'hidden');\n                        dropDownPopup.element.style.setProperty('display', 'block');\n                        dropDownPopup.setProperties({ offsetX: -1 * dropDownPopup.element.offsetWidth });\n                        dropDownPopup.element.style.removeProperty('display');\n                        dropDownPopup.element.style.removeProperty('visibility');\n                    }\n                };\n            }\n            else {\n                dropDownPopup.setProperties({ offsetX: 0 }, true);\n                dropdown.beforeOpen = null;\n            }\n        }\n    };\n    Ribbon.prototype.removeSimplfiedOverflow = function (tabContent, activeContent, tabIndex, isClear) {\n        if (isClear === void 0) { isClear = false; }\n        var orderedGroups = this.getGroupResizeOrder(false, tabIndex);\n        var flag = true;\n        var isEmptyCollection;\n        for (var i = 0; ((i < orderedGroups.length) && flag); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var overflowDDB = void 0;\n            var overflowtarget = void 0;\n            if (group.enableGroupOverflow) {\n                var overflowDDBEle = tabContent.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n            }\n            else {\n                overflowDDB = this.overflowDDB;\n                overflowtarget = this.overflowDDB ? this.overflowDDB.target : null;\n            }\n            for (var j = 0; ((j < group.collections.length) && flag); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                // eslint-disable-next-line max-len\n                for (var k = 0; ((k < collection.items.length) && flag && !isClear && (tabContent.offsetWidth > activeContent.offsetWidth)); k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemContainer = void 0;\n                    if (overflowtarget) {\n                        itemContainer = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    }\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        var width = parseInt(itemContainer.getAttribute('data-simplified-width'), 10);\n                        if (!isClear && (tabContent.offsetWidth < width)) {\n                            flag = false;\n                            break;\n                        }\n                        var groupEle_1 = tabContent.querySelector('#' + collection.id);\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, false);\n                        }\n                        groupEle_1.append(itemContainer);\n                        this.removeOverflowEvent(item, itemContainer);\n                        if (item.allowedSizes & RibbonItemSize.Small) {\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemContainer.querySelector('#' + item.id), item);\n                        }\n                    }\n                }\n            }\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var itemEle = groupEle.querySelector('.' + constants.RIBBON_ITEM);\n            if (groupEle.classList.contains('e-ribbon-emptyCollection') && itemEle !== null) {\n                var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n                if (itemsLength) {\n                    isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                    if (!isEmptyCollection) {\n                        groupEle.classList.remove('e-ribbon-emptyCollection');\n                    }\n                }\n            }\n            if (overflowDDB) {\n                if (group.enableGroupOverflow) {\n                    if (overflowtarget.childElementCount === 0) {\n                        this.removeOverflowButton(overflowDDB);\n                    }\n                }\n                else {\n                    var ofGroupContainer = overflowtarget.querySelector('#' + group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = overflowtarget.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                        this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n                    }\n                }\n            }\n            this.checkOverflowHiddenItems(group.enableGroupOverflow, tabIndex, group.id);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            if (overflowEle.childElementCount === 0) {\n                this.removeOverflowButton(this.overflowDDB);\n                this.overflowDDB = null;\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflowHiddenItems = function (isGroupOF, tabIndex, groupId) {\n        if (isGroupOF) {\n            var overflowDDB = document.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (overflowDDB) {\n                var overflowButton = getInstance(overflowDDB, DropDownButton);\n                var overflowBtnTarget = overflowButton.target;\n                var itemEle = overflowBtnTarget.querySelectorAll('.e-ribbon-item');\n                var isHidden = true;\n                for (var i = 0; i < itemEle.length; i++) {\n                    if (!(itemEle[parseInt(i.toString(), 10)].classList.contains('e-hidden'))) {\n                        isHidden = false;\n                        break;\n                    }\n                }\n                overflowButton.element.classList[isHidden ? 'add' : 'remove']('e-hidden');\n            }\n        }\n        else {\n            if (this.overflowDDB) {\n                var isGroupHidden = true;\n                var isItemHidden = void 0;\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    for (var k = 0; k < ofTabContainer.children.length; k++) {\n                        isItemHidden = true;\n                        var overflowTab = ofTabContainer.children[parseInt(k.toString(), 10)];\n                        var groupTabContainer = overflowTab.querySelectorAll('.e-ribbon-item');\n                        for (var n = 0; n < groupTabContainer.length; n++) {\n                            if (!(groupTabContainer[parseInt(n.toString(), 10)].classList.contains('e-hidden'))) {\n                                isItemHidden = false;\n                                break;\n                            }\n                        }\n                        overflowTab.classList[isItemHidden ? 'add' : 'remove']('e-hide-group');\n                        if (!(overflowTab.classList.contains('e-hide-group')) && !(overflowTab.classList.contains('e-hidden'))) {\n                            isGroupHidden = false;\n                        }\n                    }\n                    this.overflowDDB.element.classList[isGroupHidden ? 'add' : 'remove'](constants.HIDE_CSS);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowPopup = function (item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer, isResize) {\n        var overflowButton;\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        if (isGroupOF) {\n            var overflowDDB = groupContainer.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (!overflowDDB) {\n                overflowButton = this.addOverflowButton(groupId + constants.GROUPOF_BUTTON_ID);\n                overflowButton.element.classList.add(constants.RIBBON_GROUP_OF_BUTTON);\n                groupContainer.appendChild(overflowButton.element);\n            }\n            else {\n                overflowButton = getInstance(overflowDDB, DropDownButton);\n            }\n            var overflowBtnTarget = overflowButton.target;\n            if (groupEle) {\n                if (groupEle.classList.contains('e-disabled')) {\n                    overflowBtnTarget.classList.add('e-disabled');\n                }\n                if (groupEle.classList.contains('e-hidden')) {\n                    overflowBtnTarget.classList.add('e-hidden');\n                }\n                if (groupEle.classList.contains('e-hide-group')) {\n                    overflowBtnTarget.classList.add('e-hide-group');\n                }\n            }\n            isResize ? overflowBtnTarget.insertBefore(itemEle, overflowBtnTarget.querySelector('.' + constants.RIBBON_ITEM))\n                : overflowBtnTarget.append(itemEle);\n        }\n        else {\n            if (!this.overflowDDB) {\n                this.overflowDDB = this.addOverflowButton(this.tabObj.element.id + constants.OVRLOF_BUTTON_ID);\n                this.tabObj.element.insertBefore(this.overflowDDB.element, this.collapseButton);\n                this.overflowDDB.element.classList.add(constants.RIBBON_OVERALL_OF_BUTTON);\n                this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var ofGroupContainer = overflowEle.querySelector('#' + groupId + constants.CONTAINER_ID);\n                    if (!ofGroupContainer) {\n                        ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n                        if (groupEle) {\n                            if (groupEle.classList.contains('e-disabled')) {\n                                ofGroupContainer.classList.add('e-disabled');\n                            }\n                            if (groupEle.classList.contains('e-hidden')) {\n                                ofGroupContainer.classList.add('e-hidden');\n                            }\n                            if (groupEle.classList.contains('e-hide-group')) {\n                                ofGroupContainer.classList.add('e-hide-group');\n                            }\n                        }\n                        ofTabContainer.append(ofGroupContainer);\n                    }\n                    isResize ? ofGroupContainer.insertBefore(itemEle, ofGroupContainer.querySelector('.' + constants.RIBBON_ITEM)) : ofGroupContainer.append(itemEle);\n                }\n                else {\n                    this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n                }\n            }\n            overflowButton = this.overflowDDB;\n        }\n        if (itemEle !== null) {\n            this.addOverflowEvents(item, itemEle, overflowButton);\n        }\n    };\n    Ribbon.prototype.addOverflowEvents = function (item, itemEle, overflowButton) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'GroupButton':\n                if (this.activeLayout === 'Simplified') {\n                    this.ribbonGroupButtonModule.addOverFlowEvents(item, itemEle);\n                    break;\n                }\n        }\n    };\n    Ribbon.prototype.createOfTabContainer = function (groupId, groupHeader, itemEle, tabIndex) {\n        var ofTabContainer = this.createElement('div', {\n            id: this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID,\n            className: constants.RIBBON_OF_TAB_CONTAINER\n        });\n        var overflowtarget = this.overflowDDB.target;\n        overflowtarget.append(ofTabContainer);\n        var ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n        ofGroupContainer.append(itemEle);\n        ofTabContainer.append(ofGroupContainer);\n        if (tabIndex === this.selectedTab) {\n            ofTabContainer.classList.add(constants.RIBBON_TAB_ACTIVE);\n        }\n        var groupEle = document.querySelector('#' + groupId);\n        if (groupEle) {\n            if (groupEle.classList.contains('e-disabled')) {\n                ofGroupContainer.classList.add('e-disabled');\n            }\n            if (groupEle.classList.contains('e-hidden')) {\n                ofGroupContainer.classList.add('e-hidden');\n            }\n            if (groupEle.classList.contains('e-hide-group')) {\n                ofGroupContainer.classList.add('e-hide-group');\n            }\n        }\n    };\n    Ribbon.prototype.checkGroupShrinking = function (tabIndex, tabContent, activeContent, isLarge) {\n        var isOverFlow = true;\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = (tab.groups.length - 1); (isOverFlow && (j >= 0)); j--) {\n            // eslint-disable-next-line max-len\n            isBreak = isLarge ? this.checkLargeToMedium(tabIndex, tab, j, tabContent, activeContent) : this.checkMediumToSmall(tabIndex, tab, j, tabContent, activeContent);\n            isOverFlow = !isBreak && (tabContent.offsetWidth < activeContent.offsetWidth);\n        }\n        return isBreak;\n    };\n    Ribbon.prototype.checkValidCollectionLength = function (collections) {\n        var count = 0;\n        for (var i = 0; i < collections.length; i++) {\n            var items = collections[parseInt(i.toString(), 10)].items;\n            for (var ind = 0; ind < items.length; ind++) {\n                if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                    count++;\n                    break;\n                }\n            }\n            if (count > 1) {\n                return false;\n            }\n        }\n        return count === 1;\n    };\n    Ribbon.prototype.checkClassicCollection = function (collections, n, isIncrement) {\n        var items = collections[parseInt(n.toString(), 10)].items;\n        for (var ind = 0; ind < items.length; ind++) {\n            if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                return n;\n            }\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === collections.length) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkClassicItem = function (items, n, isIncrement) {\n        var item = items[parseInt(n.toString(), 10)];\n        if (item.displayOptions & DisplayMode.Classic) {\n            return n;\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === items.length) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkLargeToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var canReduceCollection = function (collection) {\n            return (collection.items.length === 1) && canReduceItem(collection.items[0]);\n        };\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Large);\n        };\n        var createShrinkEle = function (id, firstItem, start, end) {\n            var shrinkEle = _this.createElement('div', {\n                className: 'e-ribbon-shrink' + constants.SPACE + constants.RIBBON_ROW,\n                id: id + '_shrink_container' + start,\n                attrs: { 'data-start': start.toString(), 'data-end': end.toString() }\n            });\n            firstItem.parentElement.insertBefore(shrinkEle, firstItem);\n            if (!shouldSkip) {\n                shrinkEle.setAttribute('data-large-width', activeContent.offsetWidth.toString());\n            }\n            return shrinkEle;\n        };\n        var moveItemToColumn = function (start, end) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[0];\n            var firstItem = activeContent.querySelector('#' + collection.items[parseInt(start.toString(), 10)].id + constants.CONTAINER_ID);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + collection.id + '_shrink_container' + start) :\n                createShrinkEle(collection.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (!(item.displayOptions & DisplayMode.Classic)) {\n                    continue;\n                }\n                var ele = activeContent.querySelector('#' + item.id + constants.CONTAINER_ID);\n                shrinkEle.appendChild(ele);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton && _this.activeLayout === 'Classic') {\n                    _this.setItemSize(ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID), item);\n                }\n                else {\n                    _this.setItemSize(ele.querySelector('#' + item.id), item);\n                }\n            }\n        };\n        var moveCollectionToColumn = function (start, end) {\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            var firstItem = activeContent.querySelector('#' + group.collections[parseInt(start.toString(), 10)].id);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + group.id + '_shrink_container' + start) :\n                createShrinkEle(group.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                var ele = activeContent.querySelector('#' + collection.id);\n                shrinkEle.appendChild(ele);\n                collection.items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (collection.items[0].type === RibbonItemType.GroupButton && _this.activeLayout === 'Classic') {\n                    _this.setItemSize(ele.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID), collection.items[0]);\n                }\n                else {\n                    _this.setItemSize(ele.querySelector('#' + collection.items[0].id), collection.items[0]);\n                }\n            }\n        };\n        var orientation = group.orientation;\n        if (orientation === ItemOrientation.Column) {\n            for (var k = (group.collections.length - 1); k > 0; k--) {\n                //to avoid negative index while checking for the second collection\n                k = this.checkClassicCollection(group.collections, k, false);\n                var l = k - 1;\n                //Checks the element rendered at position n\n                if ((l >= 0) && canReduceCollection(group.collections[parseInt(k.toString(), 10)])) {\n                    l = this.checkClassicCollection(group.collections, l, false);\n                    //Checks the element rendered at position n-1\n                    if ((l >= 0) && canReduceCollection(group.collections[parseInt(l.toString(), 10)])) {\n                        var m = l - 1;\n                        if (m >= 0) {\n                            m = this.checkClassicCollection(group.collections, m, false);\n                        }\n                        //Checks the element rendered at position n-2\n                        if ((m >= 0) && canReduceCollection(group.collections[parseInt(m.toString(), 10)])) {\n                            moveCollectionToColumn(m, k);\n                        }\n                        else {\n                            moveCollectionToColumn(l, k);\n                        }\n                        k = m;\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                    else {\n                        k = l;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                var collection = group.collections[0];\n                for (var k = (collection.items.length - 1); k > 0; k--) {\n                    //to avoid negative index while checking for the second item\n                    k = this.checkClassicItem(collection.items, k, false);\n                    var l = k - 1;\n                    //Checks the element rendered at position n\n                    if ((l >= 0) && canReduceItem(collection.items[parseInt(k.toString(), 10)])) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        //Checks the element rendered at position n-1\n                        if ((l >= 0) && canReduceItem(collection.items[parseInt(l.toString(), 10)])) {\n                            var m = l - 1;\n                            //Checks the element rendered at position n-2\n                            if (m >= 0) {\n                                m = this.checkClassicItem(collection.items, m, false);\n                            }\n                            if ((m >= 0) && canReduceItem(collection.items[parseInt(m.toString(), 10)])) {\n                                moveItemToColumn(m, k);\n                            }\n                            else {\n                                moveItemToColumn(l, k);\n                            }\n                            k = m;\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                        else {\n                            k = l;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToSmall = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Small) && (item.activeSize === RibbonItemSize.Medium);\n        };\n        var reduceItemsToSmall = function (collectionIndex, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var reduce = function (i) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var ele_1 = activeContent.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    if (item.type === RibbonItemType.GroupButton) {\n                        ele_1 = activeContent.querySelector('#' + item.id + '_grpbtn');\n                    }\n                    _this.setItemSize(ele_1, item);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var reduceCollectionsToSmall = function (index, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            if (!shouldSkip) {\n                shrinkColumns[parseInt(index.toString(), 10)].setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n            var reduce = function (i) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var ele_2 = activeContent.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    if (collection.items[0].type === RibbonItemType.GroupButton) {\n                        ele_2 = activeContent.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_2, collection.items[0]);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var setWidth = function (id) {\n            if (!shouldSkip) {\n                var ele_3 = activeContent.querySelector('#' + id);\n                ele_3.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n        };\n        if (orientation === ItemOrientation.Column) {\n            if (shrinkColumns.length > 0) {\n                for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                    var start = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-end'), 10);\n                    //only 2 or 3 itmes alone can be present in shrinked column\n                    var l = this.checkClassicCollection(group.collections, start + 1, false); //next valid item\n                    if (canReduceItem(group.collections[parseInt(start.toString(), 10)].items[0])\n                        && canReduceItem(group.collections[parseInt(l.toString(), 10)].items[0])) {\n                        if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                            reduceCollectionsToSmall(k, start, end);\n                        }\n                        else if (canReduceItem(group.collections[parseInt(end.toString(), 10)].items[0])) {\n                            reduceCollectionsToSmall(k, start, end, l);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            for (var k = (group.collections.length - 1); k >= 0; k--) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                var classicItems = [];\n                for (var i = 0; i < collection.items.length; i++) {\n                    if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                        classicItems.push(i);\n                    }\n                }\n                //If items length is 1 then, it would have been already check for shrinked column\n                if ((classicItems.length > 1)) {\n                    if (canReduceItem(collection.items[classicItems[0]]) && canReduceItem(collection.items[classicItems[1]])) {\n                        if (classicItems.length === 2) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[1]);\n                        }\n                        else if (canReduceItem(collection.items[classicItems[2]])) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[2], classicItems[1]);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                if (shrinkColumns.length > 0) {\n                    for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                        var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                        var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                        var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                        //only 2 or 3 itmes alone can be present in shrinked column\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, false); //next valid item\n                        if (canReduceItem(group.collections[0].items[parseInt(start.toString(), 10)])\n                            && canReduceItem(group.collections[0].items[parseInt(l.toString(), 10)])) {\n                            if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end);\n                            }\n                            else if (canReduceItem(group.collections[0].items[parseInt(end.toString(), 10)])) {\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end, l);\n                            }\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                for (var k = (group.collections.length - 1); k >= 0; k--) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = (collection.items.length - 1); l >= 0; l--) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        if (l < 0) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canReduceItem(item)) {\n                            item.type !== RibbonItemType.GroupButton ? setWidth(item.id) : setWidth(item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            reduceItemsToSmall(k, l, l);\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkGroupExpanding = function (tabIndex, tabContent, activeContent, isSmall) {\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = 0; (!isBreak && (j < tab.groups.length)); j++) {\n            isBreak = isSmall ? this.checkSmallToMedium(tabIndex, tab, j, tabContent, activeContent, false, true) :\n                this.checkMediumToLarge(tabIndex, tab, j, tabContent, activeContent, false, true);\n        }\n        return isBreak;\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.checkSmallToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canExpandItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Small);\n        };\n        var expandItemToMedium = function (collectionIndex, index, parentEle) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var item = collection.items[parseInt(index.toString(), 10)];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_4 = parentEle.id === item.id ? parentEle : parentEle.querySelector('#' + item.id);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton) {\n                    ele_4 = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                _this.setItemSize(ele_4, item);\n            }\n        };\n        var expandCollectionsToMedium = function (i) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections;\n            var item = collections[parseInt(i.toString(), 10)].items[0];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id);\n                collections[parseInt(i.toString(), 10)].items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                if (item.type === RibbonItemType.GroupButton) {\n                    ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                _this.setItemSize(ele_5, collections[parseInt(i.toString(), 10)].items[0]);\n            }\n        };\n        if (orientation === ItemOrientation.Row) {\n            // collection length is 1, then the it wll be covered in shrinked columns\n            if (!this.checkValidCollectionLength(group.collections)) {\n                for (var k = 0; k < group.collections.length; k++) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = 0; l < collection.items.length; l++) {\n                        l = this.checkClassicItem(collection.items, l, true);\n                        if (l === collection.items.length) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canExpandItem(item)) {\n                            var itemEle = activeContent.querySelector('#' + item.id);\n                            if (item.type === 'GroupButton') {\n                                itemEle = activeContent.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            }\n                            var valString = itemEle.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                                expandItemToMedium(k, l, itemEle);\n                                if (!shouldSkip || shouldClear) {\n                                    itemEle.removeAttribute('data-medium-width');\n                                }\n                            }\n                            else if (value) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var k = 0; k < group.collections.length; k++) {\n                //If items length is 1 then, it will be handled in shrinked column\n                if ((group.collections[parseInt(k.toString(), 10)].items.length > 1)) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    var itemEle = activeContent.querySelector('#' + collection.id);\n                    var valString = itemEle.getAttribute('data-medium-width');\n                    var value = valString ? parseInt(valString, 10) : null;\n                    var classicItems = [];\n                    for (var i = 0; i < collection.items.length; i++) {\n                        if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                            classicItems.push(i);\n                        }\n                    }\n                    if ((classicItems.length > 1) && value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                        expandItemToMedium(k, classicItems[0], itemEle);\n                        expandItemToMedium(k, classicItems[1], itemEle);\n                        if (classicItems.length === 3) {\n                            expandItemToMedium(k, classicItems[2], itemEle);\n                        }\n                        if (!shouldSkip || shouldClear) {\n                            itemEle.removeAttribute('data-medium-width');\n                        }\n                    }\n                    else if (value) {\n                        return true;\n                    }\n                }\n            }\n        }\n        if (shrinkColumns.length > 0) {\n            for (var k = 0; k < shrinkColumns.length; k++) {\n                var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                var valString = shrinkColumn.getAttribute('data-medium-width');\n                var value = valString ? parseInt(valString, 10) : null;\n                if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                    var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                    if (orientation === ItemOrientation.Row) {\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                        expandItemToMedium(0, start, shrinkColumn);\n                        expandItemToMedium(0, l, shrinkColumn);\n                        // if l == end, then l is the last item, else L is the middle item. If l is middle then call the method for end.\n                        if (l !== end) {\n                            expandItemToMedium(0, end, shrinkColumn);\n                        }\n                    }\n                    else {\n                        var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                        expandCollectionsToMedium(start);\n                        expandCollectionsToMedium(m);\n                        if (m !== end) {\n                            expandCollectionsToMedium(end);\n                        }\n                    }\n                    if (!shouldSkip || shouldClear) {\n                        shrinkColumn.removeAttribute('data-medium-width');\n                    }\n                }\n                else if (value) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToLarge = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        if (shrinkColumns.length === 0) {\n            return false;\n        }\n        var expandItemsToLarge = function (start, end, parentEle, middle) {\n            var items = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections[0].items;\n            var reduce = function (i) {\n                var item = items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var container = parentEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    var ele_6 = container.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    if (item.type === RibbonItemType.GroupButton) {\n                        ele_6 = container.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_6, item);\n                    parentEle.insertAdjacentElement('beforebegin', container);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        var expandCollectionsToLarge = function (start, end, parentEle, middle) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections;\n            var reduce = function (i) {\n                var collection = collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var collectionEle = parentEle.querySelector('#' + collection.id);\n                    var ele_7 = collectionEle.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    if (collection.items[0].type === RibbonItemType.GroupButton) {\n                        ele_7 = collectionEle.querySelector('#' + collection.items[0].id + constants.RIBBON_GROUP_BUTTON_ID);\n                    }\n                    _this.setItemSize(ele_7, collection.items[0]);\n                    parentEle.insertAdjacentElement('beforebegin', collectionEle);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        for (var k = 0; k < shrinkColumns.length; k++) {\n            var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n            var valString = shrinkColumn.getAttribute('data-large-width');\n            var value = valString ? parseInt(valString, 10) : null;\n            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                if (orientation === ItemOrientation.Row) {\n                    var collection = group.collections[0];\n                    var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                    if (l === end) {\n                        expandItemsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandItemsToLarge(start, end, shrinkColumn, l);\n                    }\n                }\n                else {\n                    var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                    if (m === end) {\n                        expandCollectionsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandCollectionsToLarge(start, end, shrinkColumn, m);\n                    }\n                }\n                if (!shouldSkip || shouldClear) {\n                    shrinkColumn.removeAttribute('data-large-width');\n                }\n            }\n            else if (value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.handleContentSize = function (itemEle, isRemoveOverflow) {\n        var itemContainer = itemEle.closest('.' + constants.RIBBON_GROUP_CONTENT);\n        (isRemoveOverflow ? (itemContainer.classList.add(constants.RIBBON_CONTENT_HEIGHT)) : (itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT)));\n    };\n    Ribbon.prototype.setItemSize = function (itemEle, item) {\n        if (itemEle) {\n            var itemContainer = itemEle.closest('.' + constants.RIBBON_ITEM);\n            if (item.type === RibbonItemType.Button) {\n                this.ribbonButtonModule.updateButtonSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.DropDown) {\n                this.ribbonDropDownModule.updateDropDownSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.SplitButton) {\n                this.ribbonSplitButtonModule.updateSplitButtonSize(itemEle, item);\n            }\n            else if (item.type === RibbonItemType.Template) {\n                remove(itemEle);\n                this.createTemplateContent(item, itemContainer);\n            }\n            else if (item.type === RibbonItemType.GroupButton) {\n                this.ribbonGroupButtonModule.updateGroupButtonSize(itemEle, item);\n            }\n            itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT, constants.RIBBON_LARGE_ITEM, constants.RIBBON_MEDIUM_ITEM, constants.RIBBON_SMALL_ITEM);\n            if (item.activeSize === RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((item.activeSize === RibbonItemSize.Medium) ?\n                    constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowDropdown = function (tabIndex, tabContent, activeContent) {\n        var collapseOrder = this.getGroupResizeOrder(true, tabIndex);\n        if (collapseOrder.length === 0) {\n            return;\n        }\n        var _loop_1 = function (i) {\n            var group = collapseOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_1.tabObj.element.querySelector('#' + group.id);\n            groupEle.setAttribute('data-expanded-width', activeContent.offsetWidth.toString());\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            var groupOverFlow = this_1.createElement('div', {\n                className: constants.RIBBON_GROUP_OVERFLOW + constants.SPACE + constants.RIBBON_LARGE_ITEM,\n                id: group.id + constants.OVERFLOW_ID + constants.CONTAINER_ID\n            });\n            groupEle.insertBefore(groupOverFlow, groupContainer);\n            var groupIndex = getIndex(this_1.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            var tab = this_1.tabs[parseInt(tabIndex.toString(), 10)];\n            //Expanding the items in the group to their original expanded state\n            this_1.checkSmallToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            this_1.checkMediumToLarge(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            var dropdown = this_1.ribbonDropDownModule.createOverFlowDropDown(group.id, group.header, group.groupIconCss, groupContainer, groupOverFlow, this_1.enableRtl);\n            this_1.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: true }, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupContainer.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_1.handleContentSize(itemEle);\n                        this_1.addOverflowEvents(item, itemEle, dropdown);\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; ((i < collapseOrder.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            _loop_1(i);\n        }\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.removeOverflowDropdown = function (tabContent, activeContent, isClear, tabIndex) {\n        if (isClear === void 0) { isClear = false; }\n        var expandOrder = this.getGroupResizeOrder(false, tabIndex);\n        if (expandOrder.length === 0) {\n            return false;\n        }\n        var _loop_2 = function (i) {\n            var group = expandOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_2.tabObj.element.querySelector('#' + group.id);\n            if (!groupEle) {\n                return \"break\";\n            } //to handle the rerendering of tabcontrol when a ribbon tab is added/removed\n            var width = parseInt(groupEle.getAttribute('data-expanded-width'), 10);\n            if (!isClear && (tabContent.offsetWidth < width)) {\n                return { value: true };\n            }\n            this_2.removeDropdown(group.id);\n            var groupIndex = getIndex(this_2.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            this_2.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: false }, true);\n            var tab = this_2.tabs[parseInt(tabIndex.toString(), 10)];\n            //Shrinking the items in the group to their previous shrinked state (before moving to dropdown)\n            this_2.checkLargeToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            this_2.checkMediumToSmall(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_2.handleContentSize(itemEle, true);\n                        this_2.removeOverflowEvent(item, itemEle);\n                    }\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < expandOrder.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n            if (state_1 === \"break\")\n                break;\n        }\n        return false;\n    };\n    Ribbon.prototype.removeDropdown = function (groupId) {\n        var dropdownElement = this.tabObj.element.querySelector('#' + groupId + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n        if (dropdownElement) {\n            var groupOverFlow = dropdownElement.parentElement;\n            this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n            remove(groupOverFlow);\n        }\n    };\n    Ribbon.prototype.getGroupResizeOrder = function (isCollapse, tabIndex) {\n        var _this = this;\n        var groups = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n        groups = groups.filter(function (e) {\n            // (isUndefined(e.isCollapsible) || e.isCollapsible) => check whethe rhte item is collapsible\n            // if a isCollapsed property is undefined, then it is considered collapsible and included in collapsible list\n            // ((isCollapse && !e.isCollapsed)||(!isCollapse && e.isCollapsed)) => isCollapse !== e.isCollapsed\n            return (_this.activeLayout === 'Classic') ? (isUndefined(e.isCollapsible) || e.isCollapsible) && ((isCollapse &&\n                isUndefined(e.isCollapsed)) || (!isUndefined(e.isCollapsed) && (isCollapse !== e.isCollapsed))) : true;\n        });\n        //sort the collapsible groups based on the priority\n        groups.sort(function (a, b) { return a.priority - b.priority; });\n        //reverse the sorted array to return the array in descending order while collapsing.\n        return isCollapse ? groups.reverse() : groups;\n    };\n    Ribbon.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Ribbon.prototype.clearOverflowDropDown = function (index) {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(index.toString(), 10)].id + constants.CONTENT_ID);\n        if (!activeContent) {\n            return;\n        }\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        if (this.activeLayout === 'Simplified') {\n            this.removeSimplfiedOverflow(activeContent, tabContent, index, true);\n        }\n        else {\n            this.removeOverflowDropdown(activeContent, tabContent, true, index);\n        }\n    };\n    Ribbon.prototype.ribbonTabSelecting = function (e) {\n        var _this = this;\n        this.currentControlIndex = 0;\n        var nextTabId = e.selectingItem.getAttribute('data-id');\n        var previousTabId = e.previousItem.getAttribute('data-id');\n        var nextIndex = getIndex(this.tabs, (function (tab) { return (tab.id === nextTabId); }));\n        var previousIndex = getIndex(this.tabs, (function (tab) { return (tab.id === previousTabId); }));\n        nextIndex = nextIndex === -1 ? this.selectedTab : nextIndex;\n        var eventArgs = {\n            cancel: e.cancel, isInteracted: e.isInteracted, previousIndex: previousIndex, selectedIndex: nextIndex\n        };\n        this.trigger('tabSelecting', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.destroyScroll();\n            if (!_this.isAddRemove && (previousIndex !== -1)) {\n                _this.clearOverflowDropDown(previousIndex);\n            }\n            var selectedTabContent = _this.tabObj.items[parseInt(nextIndex.toString(), 10)].content;\n            if ((!selectedTabContent.querySelector('.' + constants.RIBBON_GROUP)) && (_this.tabs[parseInt(nextIndex.toString(), 10)].groups.length !== 0)) {\n                var elements = _this.createGroups(_this.tabs[parseInt(nextIndex.toString(), 10)].groups, nextIndex);\n                append(elements, selectedTabContent);\n            }\n        });\n    };\n    Ribbon.prototype.createTabItems = function (tabs) {\n        var _this = this;\n        var tabItems = [];\n        for (var i = 0; i < tabs.length; i++) {\n            var ribbonTab = tabs[parseInt(i.toString(), 10)];\n            var header = this.createElement('span', {\n                innerHTML: ribbonTab.header,\n                id: ribbonTab.id + constants.HEADER_ID\n            });\n            header.onclick = function () { _this.minimize(false); };\n            header.ondblclick = function () { _this.minimize(true); };\n            var tab = { header: { text: header }, id: ribbonTab.id, cssClass: ribbonTab.cssClass };\n            var content = this.createElement('div', {\n                className: tab.cssClass,\n                id: ribbonTab.id + constants.CONTENT_ID\n            });\n            content.classList.add(constants.RIBBON_TAB_ITEM);\n            tab.content = content;\n            tabItems.push(tab);\n        }\n        return tabItems;\n    };\n    Ribbon.prototype.renderInitialTab = function (index) {\n        var elements = this.createGroups(this.tabs[parseInt(index.toString(), 10)].groups, index);\n        var content = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        append(elements, content);\n        if (this.activeLayout === 'Simplified') {\n            this.element.classList.add(constants.RIBBON_SIMPLIFIED_MODE);\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.addOverflowButton = function (btnId) {\n        var _this = this;\n        var overflowButton = this.createElement('button', {\n            id: btnId\n        });\n        var overflowTarget = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_TARGET,\n            attrs: { 'tabindex': '0' }\n        });\n        var overflowDDB = new DropDownButton({\n            iconCss: constants.OVERFLOW_ICON,\n            cssClass: constants.DROPDOWNBUTTON_HIDE + constants.SPACE + constants.RIBBON_GROUP_OVERFLOW_DDB,\n            target: overflowTarget,\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            enablePersistence: this.enablePersistence,\n            beforeOpen: function (args) {\n                var eventArgs = { element: args.element, event: args.event, cancel: args.cancel };\n                _this.trigger('overflowPopupOpen', eventArgs, function (ribbonArgs) {\n                    if (ribbonArgs.cancel) {\n                        args.cancel = true;\n                    }\n                });\n            },\n            beforeClose: function (args) {\n                var ele = args.event ? closest(args.event.target, '.' + constants.RIBBON_POPUP_CONTROL) : null;\n                var eventArgs = { element: args.element, event: args.event, cancel: args.cancel };\n                _this.trigger('overflowPopupClose', eventArgs, function (ribbonArgs) {\n                    if (ele || ribbonArgs.cancel) {\n                        args.cancel = true;\n                    }\n                });\n            }\n        }, overflowButton);\n        this.element.classList.add(constants.RIBBON_OVERFLOW);\n        createTooltip(overflowTarget, this);\n        var isGroupOf;\n        overflowButton.onkeydown = overflowButton.onclick = function () { _this.itemIndex = -1; isGroupOf = overflowButton.classList.contains('e-ribbon-overall-of-btn') ? false : true; };\n        overflowTarget.onkeydown = function (e) { return (_this.upDownKeyHandler(e, overflowTarget, isGroupOf), _this); };\n        return overflowDDB;\n    };\n    Ribbon.prototype.upDownKeyHandler = function (e, target, isGroupOf) {\n        var items;\n        if (isGroupOf) {\n            items = target.getElementsByClassName('e-ribbon-item');\n        }\n        else {\n            var currentList = target.querySelector('.e-ribbon-of-tab.e-ribbon-active');\n            items = currentList.getElementsByClassName('e-ribbon-item');\n        }\n        var comboBoxEle = items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-control').classList.contains('e-combobox') ? items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-combobox') : null;\n        var ribbonItem;\n        if (comboBoxEle === null || (e.key === 'Tab') || this.itemIndex < 0) {\n            if (e.key === 'ArrowDown' || (!e.shiftKey && e.key === 'Tab')) {\n                if ((!this.itemIndex && this.itemIndex !== 0) || this.itemIndex < 0 || this.itemIndex === items.length - 1) {\n                    this.itemIndex = 0;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                    if (comboBoxEle && e.key === 'Tab') {\n                        e.preventDefault();\n                        items[this.itemIndex].querySelector('.e-control').focus();\n                    }\n                }\n                else if (this.itemIndex < items.length - 1 && this.itemIndex >= 0) {\n                    this.itemIndex++;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                }\n            }\n            else if (e.key === 'ArrowUp' || (e.shiftKey && e.key === 'Tab')) {\n                if (comboBoxEle === null || (e.key === 'Tab')) {\n                    if (!this.itemIndex || this.itemIndex === -1) {\n                        this.itemIndex = items.length - 1;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                        if (comboBoxEle && (e.shiftKey && e.key === 'Tab')) {\n                            e.preventDefault();\n                            items[this.itemIndex].querySelector('.e-control').focus();\n                        }\n                    }\n                    else if (this.itemIndex <= items.length - 1 && this.itemIndex > 0) {\n                        this.itemIndex--;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                    }\n                }\n            }\n            target.setAttribute('index', this.itemIndex.toString());\n        }\n        var currentItemIndex = parseInt(target.getAttribute('index'), 10);\n        var itemType = items[parseInt(currentItemIndex.toString(), 10)] ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').getAttribute('data-control') : null;\n        if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === ' ' || e.key === 'Tab') {\n            if (itemType === 'ColorPicker') {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-split-colorpicker').focus();\n            }\n            else {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n            if (e.key === ' ' && (itemType === 'CheckBox')) {\n                var checkBoxEle = items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control');\n                var checkBox = getComponent(checkBoxEle, CheckBox);\n                this.itemIndex = -1;\n                checkBox.click();\n            }\n        }\n        if (((itemType === 'SplitButton') && (e.key === 'ArrowRight' || e.key === 'ArrowLeft'))) {\n            if (e.key === 'ArrowRight') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus();\n            }\n            if (e.key === 'ArrowLeft') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n        }\n        if (e.key === 'Enter') {\n            this.itemIndex = -1;\n        }\n    };\n    Ribbon.prototype.findDisabledItem = function (ribbonItem, items, isIncrease) {\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (isIncrease) {\n                if (this.itemIndex === items.length - 1 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = -1;\n                }\n            }\n            else {\n                if (this.itemIndex === 0 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = items.length;\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            isIncrease ? this.itemIndex++ : this.itemIndex--;\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n    };\n    Ribbon.prototype.removeOverflowButton = function (overflowDDB) {\n        if (overflowDDB) {\n            var btnEle = overflowDDB.element;\n            destroyTooltip(overflowDDB.target);\n            overflowDDB.destroy();\n            btnEle.remove();\n        }\n    };\n    Ribbon.prototype.removeOverflowEvent = function (item, itemEle) {\n        if (itemEle) {\n            switch (item.type) {\n                case 'Button':\n                    this.ribbonButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'DropDown':\n                    this.ribbonDropDownModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'SplitButton':\n                    this.ribbonSplitButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'CheckBox':\n                    this.ribbonCheckBoxModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'ColorPicker':\n                    this.ribbonColorPickerModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'ComboBox':\n                    this.ribbonComboBoxModule.removeOverFlowEvents(item, itemEle);\n                    break;\n                case 'GroupButton':\n                    this.ribbonGroupButtonModule.removeOverFlowEvents(item, itemEle);\n                    break;\n            }\n        }\n    };\n    Ribbon.prototype.createGroupContainer = function (groupId, groupHeader) {\n        var ofGroupContainer = this.createElement('div', {\n            className: constants.RIBBON_OF_GROUP_CONTAINER,\n            id: groupId + constants.CONTAINER_ID\n        });\n        var ofGroupHeader = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_HEADER,\n            id: groupId + constants.HEADER_ID,\n            innerHTML: groupHeader\n        });\n        ofGroupContainer.append(ofGroupHeader);\n        return ofGroupContainer;\n    };\n    Ribbon.prototype.addExpandCollapse = function () {\n        var _this = this;\n        this.collapseButton = this.createElement('span', {\n            className: constants.RIBBON_COLLAPSE_BUTTON + constants.SPACE + constants.EXPAND_COLLAPSE_ICON,\n            id: this.tabObj.element.id + constants.COLLAPSE_BUTTON_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Layout Switcher', 'role': 'button' }\n        });\n        this.collapseButton.onclick = function () { _this.toggleLayout(); };\n        this.collapseButton.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                _this.toggleLayout();\n            }\n        };\n        this.element.classList.add(constants.RIBBON_COLLAPSIBLE);\n        if (this.activeLayout === 'Simplified') {\n            this.collapseButton.classList.add(constants.RIBBON_EXPAND_BUTTON);\n        }\n        this.tabObj.element.appendChild(this.collapseButton);\n    };\n    Ribbon.prototype.removeExpandCollapse = function () {\n        var _this = this;\n        var index = getIndex(this.tooltipData, function (e) { return e.id === _this.collapseButton.id; });\n        if (index !== -1) {\n            this.tooltipData.splice(index, 1);\n        }\n        this.element.classList.remove(constants.RIBBON_COLLAPSIBLE);\n        remove(this.tabObj.element.querySelector('.' + constants.RIBBON_COLLAPSE_BUTTON));\n        this.collapseButton = null;\n    };\n    Ribbon.prototype.reRenderTabs = function (tabs) {\n        this.destroyScroll();\n        this.checkID(this.tabs, 'tab', this.element.id);\n        for (var key in tabs) {\n            var index = parseInt(key, 10);\n            var tab = tabs[parseInt(index.toString(), 10)];\n            var isNewTab = false;\n            for (var j = 0; j < (this.tabObj.items.length); j++) {\n                if (this.tabs[parseInt(index.toString(), 10)].id === this.tabObj.items[parseInt(j.toString(), 10)].id) {\n                    isNewTab = true;\n                    break;\n                }\n            }\n            if (!isNewTab) {\n                this.destroyTabItems(this.tabsInternal);\n                this.tabsInternal = this.tabs.slice();\n                this.validateItemSize();\n                var tabItems = this.createTabItems(this.tabs);\n                if (this.selectedTab >= this.tabs.length) {\n                    this.selectedTab = this.tabs.length - 1;\n                }\n                this.tabObj.setProperties({ items: tabItems, selectedItem: this.selectedTab });\n                break;\n            }\n            else {\n                var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n                var tabEle = this.tabObj.element;\n                var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n                ribbonTab.setProperties(tab, true);\n                this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n                this.validateItemSize();\n                var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n                if (groups) {\n                    // Check whether header is passed by the user and sets the updated values.\n                    if (tab.header) {\n                        this.tabObj.items[parseInt(index.toString(), 10)].header.text.innerText = ribbonTab.header;\n                    }\n                    // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n                    if (tab.cssClass) {\n                        if (this.tabObj.items[parseInt(index.toString(), 10)].cssClass) {\n                            contentEle.classList.remove(this.tabObj.items[parseInt(index.toString(), 10)].cssClass);\n                            tabEle.querySelector('.e-active').classList.remove(this.tabObj.items[parseInt(index.toString(), 10)].cssClass);\n                        }\n                        contentEle.classList.add(ribbonTab.cssClass);\n                        tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n                    }\n                    // Check whether group is passed by the user, and if it is, then remove the old values.\n                    if (tab.groups) {\n                        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                            var group = groups_1[_i];\n                            var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                            for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                                var collection = _b[_a];\n                                for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                                    var item = _d[_c];\n                                    var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                                    if (ele) {\n                                        this.destroyFunction(item, ele);\n                                    }\n                                }\n                            }\n                            if (dropdownElement) {\n                                this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                            }\n                        }\n                        var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                        // eslint-disable-next-line @typescript-eslint/tslint/config\n                        groupElements.forEach(function (groupEle) { groupEle.remove(); });\n                        var elements = this.createGroups(ribbonTab.groups, index);\n                        append(elements, contentEle);\n                    }\n                }\n            }\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.switchLayout = function () {\n        this.currentControlIndex = 0;\n        this.destroyScroll();\n        this.collapseButton.classList.toggle(constants.RIBBON_EXPAND_BUTTON, this.activeLayout === 'Simplified');\n        this.element.classList.toggle(constants.RIBBON_SIMPLIFIED_MODE, this.activeLayout === 'Simplified');\n        for (var i = 0; i <= (this.tabs.length - 1); i++) {\n            var tabIndex = i;\n            var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n            if (contentEle.innerHTML !== '') {\n                var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n                var groupList = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n                var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.CONTENT_ID);\n                var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n                if (this.activeLayout === 'Simplified') {\n                    for (var i_1 = 0; i_1 < groupList.length; i_1++) {\n                        var group = groupList[parseInt(i_1.toString(), 10)];\n                        var alignType = groupList[parseInt(i_1.toString(), 10)].orientation;\n                        if (group.isCollapsed) {\n                            group.setProperties({ isCollapsed: false }, true);\n                            this.removeDropdown(group.id);\n                        }\n                        else {\n                            this.checkSmallToMedium(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                            this.checkMediumToLarge(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                        }\n                        var groupEle = tabContent.querySelector('#' + group.id);\n                        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var shrinkColumns = groupContainer.querySelectorAll('.' + 'e-ribbon-shrink');\n                        for (var i_2 = 0; i_2 < shrinkColumns.length; i_2++) {\n                            shrinkColumns[parseInt(i_2.toString(), 10)].remove();\n                        }\n                        var groupHeader = groupContainer.querySelector('#' + group.id + constants.HEADER_ID);\n                        groupHeader.remove();\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        groupContent.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                        groupContent.classList.remove(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            groupCollection.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && (item.displayOptions === DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle_1 = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    var ele = itemEle_1.querySelector('#' + item.id);\n                                    this.destroyFunction(item, ele);\n                                    itemEle_1.remove();\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                var size = ((item.allowedSizes === RibbonItemSize.Large) ||\n                                    (item.allowedSizes & RibbonItemSize.Medium)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                size = (!(item.displayOptions & DisplayMode.Simplified) && (item.displayOptions & DisplayMode.Overflow))\n                                    ? RibbonItemSize.Medium : size;\n                                var itemEle = void 0;\n                                if (!(item.displayOptions & DisplayMode.Classic)) {\n                                    itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer)[0];\n                                    if (item.displayOptions & DisplayMode.Simplified) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                else {\n                                    itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)) {\n                                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemEle, groupContainer);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, true);\n                                        }\n                                    }\n                                    if (item.type === RibbonItemType.GroupButton) {\n                                        this.ribbonGroupButtonModule.switchGroupButton(item, itemEle);\n                                    }\n                                    item.setProperties({ activeSize: size }, true);\n                                    if (itemEle) {\n                                        var ele = itemEle.querySelector('#' + item.id);\n                                        this.setItemSize(ele, item);\n                                    }\n                                }\n                            }\n                        }\n                        if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                    }\n                }\n                else {\n                    this.element.classList.remove(constants.RIBBON_OVERFLOW);\n                    for (var i_3 = 0; i_3 < groupList.length; i_3++) {\n                        var group = groupList[parseInt(i_3.toString(), 10)];\n                        var alignType = groupList[parseInt(i_3.toString(), 10)].orientation;\n                        var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        var groupHeader = this.createElement('div', {\n                            className: constants.RIBBON_GROUP_HEADER,\n                            id: group.id + constants.HEADER_ID,\n                            innerHTML: group.header\n                        });\n                        groupContainer.appendChild(groupHeader);\n                        if (alignType === 'Row') {\n                            groupContent.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                        }\n                        groupContent.classList.add(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var overflowDDB = void 0;\n                            var overflowtarget = void 0;\n                            if (!group.enableGroupOverflow) {\n                                overflowDDB = this.overflowDDB;\n                                if (overflowDDB) {\n                                    overflowtarget = this.overflowDDB.target;\n                                }\n                            }\n                            else {\n                                var overflowDDBEle = groupContainer.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                                if (overflowDDBEle) {\n                                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                                    overflowtarget = overflowDDB.target;\n                                }\n                            }\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            if (alignType === 'Column') {\n                                groupCollection.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                            }\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && !(item.displayOptions & DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle = void 0;\n                                    if ((item.displayOptions & DisplayMode.Simplified) || (item.displayOptions & DisplayMode.Overflow)) {\n                                        if (item.displayOptions & DisplayMode.Simplified) {\n                                            itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        else {\n                                            itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        if (itemEle !== null) {\n                                            var ele_8 = itemEle.querySelector('#' + item.id);\n                                            this.destroyFunction(item, ele_8);\n                                            itemEle.remove();\n                                        }\n                                    }\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                if (!(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) {\n                                    var itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex)[0];\n                                    groupCollection.append(itemEle);\n                                }\n                                else {\n                                    var itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (!itemEle && overflowtarget) {\n                                        itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, false);\n                                        }\n                                        this.removeOverflowEvent(item, itemEle);\n                                    }\n                                    if (item.type === RibbonItemType.GroupButton) {\n                                        this.ribbonGroupButtonModule.switchGroupButton(item, itemEle);\n                                    }\n                                    if (itemEle) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                var ele = groupContainer.querySelector('#' + item.id);\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    ele = groupContainer.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                                }\n                                var itemsize = (item.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                                    (item.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                item.setProperties({ activeSize: itemsize }, true);\n                                this.setItemSize(ele, item);\n                            }\n                            if (group.enableGroupOverflow && overflowDDB) {\n                                if (overflowtarget.childElementCount === 0) {\n                                    this.removeOverflowButton(overflowDDB);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (this.selectedTab === tabIndex) {\n                    this.checkOverflow(tabIndex, activeContent);\n                }\n            }\n        }\n        if (this.activeLayout === 'Classic') {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.createLauncherIcon = function (groupId, groupContainer) {\n        var _this = this;\n        var launcherIcon = this.createElement('div', {\n            className: constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss ? this.launcherIconCss : constants.RIBBON_LAUNCHER_ICON),\n            id: groupId + constants.LAUNCHER_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Launcher Icon', 'role': 'button' }\n        });\n        groupContainer.appendChild(launcherIcon);\n        groupContainer.classList.add(constants.RIBBON_LAUNCHER);\n        EventHandler.add(launcherIcon, 'click', this.launcherIconClicked.bind(this, groupId), this);\n        EventHandler.add(launcherIcon, 'keydown', function (e) {\n            if (e.key === 'Enter') {\n                _this.launcherIconClicked(groupId);\n            }\n        }, this);\n    };\n    Ribbon.prototype.launcherIconClicked = function (id) {\n        var eventArgs = { groupId: id };\n        this.trigger('launcherIconClick', eventArgs);\n    };\n    Ribbon.prototype.createGroups = function (groupList, tabIndex) {\n        var groupElements = [];\n        for (var i = 0; i < groupList.length; i++) {\n            var group = groupList[parseInt(i.toString(), 10)];\n            var alignType = group.orientation;\n            var groupEle = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id\n            });\n            groupEle.classList.add(constants.RIBBON_GROUP);\n            groupElements.push(groupEle);\n            var groupContainer = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id + constants.CONTAINER_ID\n            });\n            groupContainer.classList.add(constants.RIBBON_GROUP_CONTAINER);\n            groupEle.appendChild(groupContainer);\n            var groupContent = this.createElement('div', {\n                className: this.activeLayout === 'Simplified' ? constants.RIBBON_GROUP_CONTENT : (constants.RIBBON_GROUP_CONTENT + constants.SPACE + constants.RIBBON_CONTENT_HEIGHT),\n                id: group.id + constants.CONTENT_ID\n            });\n            groupContent.classList.add(((alignType === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            groupContainer.appendChild(groupContent);\n            if (this.activeLayout === 'Classic') {\n                var groupHeader = this.createElement('div', {\n                    className: constants.RIBBON_GROUP_HEADER,\n                    id: group.id + constants.HEADER_ID,\n                    innerHTML: group.header\n                });\n                groupContainer.appendChild(groupHeader);\n            }\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(group.id, groupContainer);\n            }\n            var elements = this.createCollection(group.collections, group.orientation, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer);\n            append(elements, groupContent);\n            var isItemsHidden = true;\n            for (var j = 0; j < elements.length; j++) {\n                if (isItemsHidden) {\n                    for (var k = 0; k < elements[parseInt(j.toString(), 10)].children.length; k++) {\n                        if (!(elements[parseInt(j.toString(), 10)].children[parseInt(k.toString(), 10)].classList.contains('e-hidden'))) {\n                            isItemsHidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (isItemsHidden) {\n                groupEle.classList.add('e-hide-group');\n            }\n            if ((this.activeLayout === 'Simplified') && !(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n            var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n            if (initialProps) {\n                if (initialProps.hiddenGroups && initialProps.hiddenGroups.length) {\n                    this.updateGroupProps('hiddenGroups', initialProps, groupEle);\n                }\n                if (initialProps.disabledGroups && initialProps.disabledGroups.length) {\n                    this.updateGroupProps('disabledGroups', initialProps, groupEle);\n                }\n            }\n        }\n        if (this.initialPropsData[parseInt(tabIndex.toString(), 10)]) {\n            delete this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        }\n        return groupElements;\n    };\n    Ribbon.prototype.updateGroupProps = function (key, initialProps, groupEle) {\n        // eslint-disable-next-line\n        var groupIndex = initialProps[key].indexOf(groupEle.id);\n        if (groupIndex !== -1) {\n            key === 'hiddenGroups' ? groupEle.classList.add('e-hidden') : groupEle.classList.add('e-disabled');\n        }\n    };\n    Ribbon.prototype.validateItemSize = function () {\n        for (var k = 0; k < this.tabs.length; k++) {\n            var groupList = this.tabs[parseInt(k.toString(), 10)].groups;\n            for (var l = 0; l < groupList.length; l++) {\n                var collectionList = groupList[parseInt(l.toString(), 10)].collections;\n                var alignType = groupList[parseInt(l.toString(), 10)].orientation;\n                for (var i = 0; i < collectionList.length; i++) {\n                    var items = collectionList[parseInt(i.toString(), 10)].items;\n                    for (var j = 0; j < items.length; j++) {\n                        var ribbonitem = items[parseInt(j.toString(), 10)];\n                        if (!ribbonitem.allowedSizes || (ribbonitem.allowedSizes === 0)) {\n                            ribbonitem.setProperties({\n                                allowedSizes: (RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n                            }, true);\n                        }\n                        if ((ribbonitem.type === 'ColorPicker') && (ribbonitem.allowedSizes !== RibbonItemSize.Small)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Small }, true);\n                        }\n                        else if ((ribbonitem.type === 'ComboBox' || ribbonitem.type === 'CheckBox') &&\n                            (ribbonitem.allowedSizes !== RibbonItemSize.Medium)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Medium }, true);\n                        }\n                        else if (((alignType === 'Column') && (items.length > 1)) || ((alignType === 'Row') && (collectionList.length > 1))) {\n                            if (ribbonitem.allowedSizes & RibbonItemSize.Large) {\n                                // To remove large size, perform 'and' with 011(3).\n                                var sizeVal = ribbonitem.allowedSizes & (RibbonItemSize.Small | RibbonItemSize.Medium);\n                                sizeVal = sizeVal ? sizeVal : RibbonItemSize.Medium;\n                                ribbonitem.setProperties({ allowedSizes: sizeVal }, true);\n                            }\n                        }\n                        var itemsize = (ribbonitem.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                            (ribbonitem.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                        ribbonitem.setProperties({ activeSize: itemsize }, true);\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createCollection = function (collectionList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var collectionElements = [];\n        for (var i = 0; i < collectionList.length; i++) {\n            var collection = collectionList[parseInt(i.toString(), 10)];\n            var collectionEle = this.createElement('div', {\n                className: collection.cssClass,\n                id: collection.id\n            });\n            collectionEle.classList.add(constants.RIBBON_COLLECTION);\n            collectionEle.classList.add(((alignType !== 'Column') || (this.activeLayout === 'Simplified')) ?\n                constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            collectionElements.push(collectionEle);\n            var elements = this.createItems(collection.items, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer);\n            append(elements, collectionEle);\n            if ((alignType === 'Row') && (i === 2)) {\n                break;\n            }\n        }\n        return collectionElements;\n    };\n    Ribbon.prototype.createRibbonItem = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.createButton(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.createDropDown(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.createSplitButton(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.createCheckBox(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.createColorPicker(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.createComboBox(item, itemEle);\n                break;\n            case 'Template':\n                this.createTemplateContent(item, itemEle);\n                break;\n            case 'GroupButton':\n                this.ribbonGroupButtonModule.createGroupButton(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createItems = function (itemList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var _a;\n        var itemElements = [];\n        for (var i = 0; i < itemList.length; i++) {\n            var item = itemList[parseInt(i.toString(), 10)];\n            //To stop rendering of items with simplified mode position type as none\n            var flag = true;\n            while (flag &&\n                (((this.activeLayout === 'Simplified') && !(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) ||\n                    ((this.activeLayout === 'Classic') && !(item.displayOptions & DisplayMode.Classic)))) {\n                i++;\n                if (i < itemList.length) {\n                    item = itemList[parseInt(i.toString(), 10)];\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (!flag) {\n                break;\n            }\n            var itemEle = this.createElement('div', {\n                className: item.cssClass,\n                id: item.id + constants.CONTAINER_ID\n            });\n            (_a = itemEle.classList).add.apply(_a, [constants.RIBBON_ITEM].concat((item.disabled ? [constants.DISABLED_CSS] : [])));\n            // To avoid undefined items condition is added\n            if (item.ribbonTooltipSettings && isTooltipPresent(item.ribbonTooltipSettings)) {\n                itemEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemEle.id, data: item.ribbonTooltipSettings });\n            }\n            var size = item.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((item.allowedSizes === RibbonItemSize.Large) || (item.allowedSizes & RibbonItemSize.Medium) ||\n                    (item.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                item.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemEle.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemEle.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n            if (initialProps && initialProps.hiddenItems && initialProps.hiddenItems.length) {\n                var itemIndex = initialProps.hiddenItems.indexOf(item.id);\n                if (itemIndex !== -1) {\n                    itemEle.classList.add('e-hidden');\n                }\n            }\n            this.createRibbonItem(item, itemEle);\n            if ((this.activeLayout === 'Simplified') && ((item.displayOptions === DisplayMode.Overflow) || (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)))) {\n                this.createOverflowPopup(item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer);\n                if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                    this.updatePopupItems(item, itemEle, isGroupOF, true);\n                }\n            }\n            else {\n                // For normal mode and Simplified mode position type as Group and Auto\n                itemElements.push(itemEle);\n            }\n            if ((alignType === 'Column') && (i === 2)) {\n                break;\n            }\n        }\n        return itemElements;\n    };\n    Ribbon.prototype.createHelpPaneTemplate = function () {\n        if (this.helpPaneTemplate) {\n            var templateName = 'helpPaneTemplate';\n            this.clearTemplate([templateName]);\n            this.ribbonTempEle = this.createElement('div', {\n                className: constants.RIBBON_HELP_TEMPLATE,\n                id: this.element.id + constants.RIBBON_HELP_PANE_TEMPLATE_ID\n            });\n            var templateFunction = getTemplateFunction(this.helpPaneTemplate);\n            append(templateFunction({}, this, templateName, 'helpPaneTemplate', this.isStringTemplate), this.ribbonTempEle);\n            var tabEle = this.tabObj.element;\n            var toolbarEle = tabEle.querySelector('.e-toolbar');\n            toolbarEle.after(this.ribbonTempEle);\n            tabEle.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, this.ribbonTempEle.offsetWidth + 'px');\n            this.renderReactTemplates();\n        }\n    };\n    Ribbon.prototype.createTemplateContent = function (item, itemElement) {\n        var itemEle = this.createElement('div', {\n            className: item.cssClass ? (constants.RIBBON_TEMPLATE + constants.SPACE + item.cssClass) : constants.RIBBON_TEMPLATE,\n            id: item.id\n        });\n        if (item.disabled) {\n            itemEle.classList.add(constants.DISABLED_CSS);\n            itemEle.setAttribute('disabled', '');\n        }\n        itemElement.appendChild(itemEle);\n        this.renderItemTemplate(item, itemEle);\n    };\n    Ribbon.prototype.renderItemTemplate = function (item, itemElement) {\n        var templateName = 'ribbon' + item.id + 'itemTemplate';\n        this.clearTemplate([templateName]);\n        var templateFunction = getTemplateFunction(item.itemTemplate);\n        append(templateFunction({ activeSize: RibbonItemSize[item.activeSize] }, this, templateName, (item.id + 'itemTemplate'), this.isStringTemplate), itemElement);\n        this.renderReactTemplates();\n    };\n    Ribbon.prototype.checkID = function (list, type, initId) {\n        var key = type === 'tab' ? constants.TAB_ID : type === 'group' ? constants.GROUP_ID :\n            type === 'collection' ? constants.COLLECTION_ID : constants.ITEM_ID;\n        for (var i = 0; i < list.length; i++) {\n            var listitem = list[parseInt(i.toString(), 10)];\n            if (!listitem.id) {\n                listitem.setProperties({ id: initId + key + (this.idIndex++) }, true);\n            }\n            switch (type) {\n                case 'tab':\n                    listitem.setProperties({ groups: this.checkID(listitem.groups, 'group', listitem.id) }, true);\n                    break;\n                case 'group':\n                    listitem.setProperties({ collections: this.checkID(listitem.collections, 'collection', listitem.id) }, true);\n                    break;\n                case 'collection':\n                    listitem.setProperties({ items: this.checkID(listitem.items, 'item', listitem.id) }, true);\n                    break;\n                default:\n                    break;\n            }\n        }\n        return list;\n    };\n    Ribbon.prototype.updateCommonProperty = function (commonProp) {\n        this.tabObj.setProperties(commonProp);\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.setCommonProperties(commonProp);\n        }\n        if (this.ribbonBackstageModule) {\n            this.ribbonBackstageModule.setCommonProperties(commonProp);\n        }\n        for (var i = 0; i < this.tabs.length; i++) {\n            var tab = this.tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            if (contentEle.querySelector('.' + constants.RIBBON_GROUP)) {\n                for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                    var group = _a[_i];\n                    var dropdownElement = void 0;\n                    var dropdown = void 0;\n                    if (this.activeLayout === RibbonLayout.Classic) {\n                        dropdownElement = group.isCollapsed ?\n                            contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    }\n                    else {\n                        dropdownElement = group.enableGroupOverflow ?\n                            contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                        dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                        if (dropdown) {\n                            updateTooltipProp(dropdown.target, commonProp);\n                            dropdown.setProperties(commonProp);\n                        }\n                    }\n                    for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                        var collection = _c[_b];\n                        for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                            var item = _e[_d];\n                            var ele = null;\n                            if (this.activeLayout === RibbonLayout.Classic) {\n                                if (item.displayOptions & DisplayMode.Classic) {\n                                    ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : item.type === RibbonItemType.GroupButton ? contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID) : contentEle.querySelector('#' + item.id);\n                                }\n                            }\n                            else {\n                                //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                                ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n                                // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                                if (!ele) {\n                                    ele = dropdown.target.querySelector('#' + item.id);\n                                    if (item.type === 'DropDown') {\n                                        this.updatePopupItems(item, dropdown.target, group.enableGroupOverflow, true);\n                                    }\n                                }\n                            }\n                            if (ele) {\n                                var moduleName = this.getItemModuleName(item);\n                                if (moduleName !== 'template') {\n                                    if (moduleName === 'group-btn' && this.activeLayout === 'Classic') {\n                                        for (var i_4 = 0; i_4 < item.groupButtonSettings.items.length; i_4++) {\n                                            var btnEle = ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i_4);\n                                            updateCommonProperty(btnEle, 'btn', commonProp);\n                                        }\n                                    }\n                                    else if (moduleName === 'group-btn' && this.activeLayout === 'Simplified') {\n                                        updateCommonProperty(ele, 'dropdown-btn', commonProp);\n                                        for (var i_5 = 0; i_5 < item.groupButtonSettings.items.length; i_5++) {\n                                            var btnEle = document.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i_5);\n                                            updateCommonProperty(btnEle, 'btn', commonProp);\n                                        }\n                                    }\n                                    else {\n                                        updateCommonProperty(ele, moduleName, commonProp);\n                                    }\n                                }\n                                else if (!isNullOrUndefined(commonProp.enableRtl)) {\n                                    ele.classList.toggle(constants.RTL_CSS, commonProp.enableRtl);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.removeLauncherIcon = function (groupId, dropdownElement, contentEle) {\n        var containerId = groupId + constants.CONTAINER_ID;\n        var containerEle = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, containerId) : contentEle.querySelector('#' + containerId);\n        if (containerEle) {\n            containerEle.classList.remove(constants.RIBBON_LAUNCHER);\n            var launcherIcon = containerEle.querySelector('#' + groupId + constants.LAUNCHER_ID);\n            remove(launcherIcon);\n        }\n    };\n    Ribbon.prototype.destroyTabItems = function (tabs) {\n        for (var i = 0; i < tabs.length; i++) {\n            var tab = tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    if (group.showLauncherIcon) {\n                        this.removeLauncherIcon(group.id, dropdownElement, contentEle);\n                    }\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = void 0;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) :\n                                    contentEle.querySelector('#' + item.id);\n                                if (item.type === RibbonItemType.GroupButton) {\n                                    ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                        contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                                }\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ?\n                                contentEle.querySelector('#' + item.id) : null;\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown ? dropdown.target.querySelector('#' + item.id) : null;\n                            }\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if ((this.activeLayout === RibbonLayout.Classic) && dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n                else if ((this.activeLayout === RibbonLayout.Simplified) && group.enableGroupOverflow && dropdownElement) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.destroyFunction = function (item, ele) {\n        var moduleName = this.getItemModuleName(item);\n        if (moduleName === 'colorpicker') {\n            this.ribbonColorPickerModule.unwireColorPickerEvents(ele);\n        }\n        else if (moduleName === 'group-btn') {\n            if (this.activeLayout === 'Classic') {\n                for (var i = 0; i < item.groupButtonSettings.items.length; i++) {\n                    var btnEle = ele.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID + i);\n                    if (btnEle) {\n                        destroyControl(btnEle, 'btn');\n                    }\n                }\n            }\n            else {\n                this.ribbonGroupButtonModule.destroyDropDown(item);\n            }\n            var _loop_3 = function (i) {\n                if (item.groupButtonSettings.items[parseInt(i.toString(), 10)].ribbonTooltipSettings) {\n                    var groupButtonID_1 = item.id + constants.RIBBON_GROUP_BUTTON_ID + i;\n                    var index = getIndex(this_3.tooltipData, function (e) { return e.id === groupButtonID_1; });\n                    if (index !== -1) {\n                        this_3.tooltipData.splice(index, 1);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < item.groupButtonSettings.items.length; i++) {\n                _loop_3(i);\n            }\n        }\n        else if (moduleName !== 'template') {\n            destroyControl(ele, moduleName);\n        }\n        if (item.ribbonTooltipSettings) {\n            var index = getIndex(this.tooltipData, function (e) { return e.id === item.id + constants.CONTAINER_ID; });\n            if (index !== -1) {\n                this.tooltipData.splice(index, 1);\n            }\n        }\n        if (item.type === 'GroupButton') {\n            this.ribbonGroupButtonModule.destroyDropDown(item);\n        }\n    };\n    Ribbon.prototype.getItemModuleName = function (item) {\n        switch (item.type) {\n            case 'Button':\n                return 'btn';\n            case 'DropDown':\n                return 'dropdown-btn';\n            case 'SplitButton':\n                return 'split-btn';\n            case 'CheckBox':\n                return 'checkbox';\n            case 'ColorPicker':\n                return 'colorpicker';\n            case 'ComboBox':\n                return 'combobox';\n            case 'GroupButton':\n                return 'group-btn';\n            default:\n                return 'template';\n        }\n    };\n    Ribbon.prototype.clearOverflowResize = function () {\n        this.destroyScroll();\n        this.clearOverflowDropDown(this.selectedTab);\n        var tab = this.tabs[this.selectedTab];\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        for (var j = 0; (j < tab.groups.length); j++) {\n            this.checkSmallToMedium(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n            this.checkMediumToLarge(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n        }\n    };\n    /**\n     * Refreshes the layout.\n     *\n     * @returns {void}\n     */\n    Ribbon.prototype.refreshLayout = function () {\n        this.resizeHandler();\n    };\n    /**\n     * Selects the tab\n     *\n     * @param  {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.selectTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        this.setProperties({ selectedTab: index });\n    };\n    /**\n     * Shows a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showTab = function (tabId) {\n        this.showHideTab(tabId, false);\n    };\n    /**\n     * Hides a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideTab = function (tabId) {\n        this.showHideTab(tabId, true);\n    };\n    Ribbon.prototype.showHideTab = function (tabId, value) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        this.tabObj.hideTab(index, value);\n    };\n    /**\n     * Enables a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be enabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableTab = function (tabId) {\n        this.enableDisableTab(tabId, true);\n    };\n    /**\n     * Disables a specific tab in the ribbon.\n     *\n     * @param {string} tabId - The ID of the tab to be disabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableTab = function (tabId) {\n        this.enableDisableTab(tabId, false);\n    };\n    Ribbon.prototype.enableDisableTab = function (tabId, value) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        this.tabObj.enableTab(index, value);\n    };\n    /**\n     * Adds the ribbon tab.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model\n     * @param {string} targetId  - Gets the ID of the target tab to add the new tab.\n     * @param {boolean} isAfter - Defines whether the tab is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addTab = function (tab, targetId, isAfter) {\n        var index = targetId ? getIndex(this.tabs, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? this.tabs.length : (index + (isAfter ? 1 : 0));\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 0, tab);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.checkID([this.tabs[parseInt(index.toString(), 10)]], 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItem = this.createTabItems([tab]);\n        this.tabObj.addTab(tabItem, index);\n    };\n    /**\n     * Removes the ribbon tab.\n     *\n     * @param {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.removeTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        if (groups && (contentEle.innerHTML !== '')) {\n            for (var _i = 0, groups_2 = groups; _i < groups_2.length; _i++) {\n                var group = groups_2[_i];\n                var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                    var collection = _b[_a];\n                    for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                        var item = _d[_c];\n                        var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                        if (item.type === RibbonItemType.GroupButton && this.activeLayout === 'Classic') {\n                            ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if (dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 1);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.tabObj.removeTab(index);\n    };\n    /**\n     * Adds the ribbon group.\n     *\n     * @param {string} tabId - Gets the tab ID.\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @param {string} targetId - Gets the ID of the target group to add the new group.\n     * @param {boolean} isAfter - Defines whether the group is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addGroup = function (tabId, group, targetId, isAfter) {\n        var tabIndex = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (tabIndex === -1) {\n            return;\n        }\n        if (this.selectedTab === tabIndex) {\n            this.clearOverflowResize();\n        }\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        var ribbonGroups = tab.groups.slice();\n        var index = targetId ? getIndex(ribbonGroups, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonGroups.length : (index + (isAfter ? 1 : 0));\n        ribbonGroups.splice(index, 0, group);\n        tab.setProperties({ groups: ribbonGroups }, true);\n        this.checkID([tab.groups[parseInt(index.toString(), 10)]], 'group', tabId);\n        this.validateItemSize();\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        if (contentEle.innerHTML !== '') {\n            var element = this.createGroups([tab.groups[parseInt(index.toString(), 10)]], tabIndex)[0];\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.append(element);\n            }\n        }\n        if (this.selectedTab === tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon group.\n     *\n     * @param {string} groupId -Gets the group ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeGroup = function (groupId) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                var collection = _a[_i];\n                for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    this.removeItemElement(contentEle, item, dropdown);\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n            var groupEle = contentEle.querySelector('#' + groupId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroups = this.tabs[itemProp.tabIndex].groups.slice();\n        ribbonGroups.splice(itemProp.groupIndex, 1);\n        this.tabs[itemProp.tabIndex].setProperties({ groups: ribbonGroups }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Hides a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideGroup = function (groupID) {\n        this.showHideGroup(groupID, true);\n    };\n    /**\n     * Shows a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showGroup = function (groupID) {\n        this.showHideGroup(groupID, false);\n    };\n    Ribbon.prototype.showHideGroup = function (groupID, isHidden) {\n        var overflowDDB;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupID);\n        if (!itemProp) {\n            return;\n        }\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupID);\n        if (groupEle) {\n            isHidden ? groupEle.classList.add('e-hidden') : groupEle.classList.remove('e-hidden');\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, groupID, 'hiddenGroups', isHidden);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            if (itemProp.group.enableGroupOverflow) {\n                var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n                if (overflowtarget) {\n                    isHidden ? overflowtarget.classList.add('e-hidden') : overflowtarget.classList.remove('e-hidden');\n                }\n            }\n            else if (ofTabContainer) {\n                var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                if (grpContainer) {\n                    isHidden ? grpContainer.classList.add('e-hidden') : grpContainer.classList.remove('e-hidden');\n                }\n            }\n        }\n        this.refreshLayout();\n    };\n    /**\n     * Disables a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be disabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableGroup = function (groupID) {\n        this.enableDisableGroup(groupID, true);\n    };\n    /**\n     * Enables a specific group within a ribbon tab.\n     *\n     * @param {string} groupID - The ID of the group to be enabled.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableGroup = function (groupID) {\n        this.enableDisableGroup(groupID, false);\n    };\n    Ribbon.prototype.enableDisableGroup = function (groupID, isDisabled) {\n        var overflowDDB;\n        var overflowtarget;\n        var itemProp = getGroup(this.tabs, groupID);\n        if (!itemProp) {\n            return;\n        }\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupID);\n        if (groupEle) {\n            isDisabled ? groupEle.classList.add('e-disabled') : groupEle.classList.remove('e-disabled');\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, groupID, 'disabledGroups', isDisabled);\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n            if (itemProp.group.enableGroupOverflow) {\n                var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n                if (overflowtarget) {\n                    isDisabled ? overflowtarget.classList.add('e-disabled') : overflowtarget.classList.remove('e-disabled');\n                }\n            }\n            else if (ofTabContainer) {\n                var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                if (grpContainer) {\n                    isDisabled ? grpContainer.classList.add('e-disabled') : grpContainer.classList.remove('e-disabled');\n                }\n            }\n        }\n    };\n    /**\n     * adds the ribbon collection.\n     *\n     * @param {string} groupId - Gets the ribbon group ID.\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @param {string} targetId - Gets the ID of the target collection to add the new collection.\n     * @param {boolean} isAfter - Defines whether the collection is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addCollection = function (groupId, collection, targetId, isAfter) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Row') && (itemProp.group.collections.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonCollections = itemProp.group.collections.slice();\n        var index = targetId ? getIndex(ribbonCollections, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonCollections.length : (index + (isAfter ? 1 : 0));\n        ribbonCollections.splice(index, 0, collection);\n        itemProp.group.setProperties({ collections: ribbonCollections }, true);\n        this.checkID([itemProp.group.collections[parseInt(index.toString(), 10)]], 'collection', groupId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var collection_1 = itemProp.group.collections[parseInt(index.toString(), 10)];\n            var element = this.createCollection([collection_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.querySelector('#' + groupId + constants.CONTENT_ID).append(element);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon collection.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeCollection = function (collectionId) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.removeItemElement(contentEle, item, dropdown);\n            }\n            var groupEle = contentEle.querySelector('#' + collectionId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroup = itemProp.group;\n        var ribbonCollections = ribbonGroup.collections.slice();\n        ribbonCollections.splice(itemProp.collectionIndex, 1);\n        ribbonGroup.setProperties({ collections: ribbonCollections }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Adds ribbon item.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {string} targetId - Gets the ID of the target item to add the new item.\n     * @param {boolean} isAfter - Defines whether the item is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addItem = function (collectionId, item, targetId, isAfter) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Column') && (itemProp.collection.items.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonItems = itemProp.collection.items.slice();\n        var index = targetId ? getIndex(ribbonItems, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonItems.length : (index + (isAfter ? 1 : 0));\n        ribbonItems.splice(index, 0, item);\n        itemProp.collection.setProperties({ items: ribbonItems }, true);\n        this.checkID([itemProp.collection.items[parseInt(index.toString(), 10)]], 'item', collectionId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        if (contentEle.innerHTML !== '') {\n            var item_1 = itemProp.collection.items[parseInt(index.toString(), 10)];\n            var element = this.createItems([item_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.closest('.' + constants.RIBBON_ITEM).insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                if (element) {\n                    contentEle.querySelector('#' + collectionId).append(element);\n                }\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeItem = function (itemId) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            var item = itemProp.item;\n            this.removeItemElement(contentEle, item, dropdown);\n        }\n        var ribbonCollection = itemProp.collection;\n        var ribbonItems = ribbonCollection.items;\n        ribbonItems.splice(itemProp.itemIndex, 1);\n        ribbonCollection.setProperties({ items: ribbonItems }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Hides a specific ribbon item.\n     *\n     * @param {string} itemId - The ID of the item to be hidden.\n     * @returns {void}\n     */\n    Ribbon.prototype.hideItem = function (itemId) {\n        this.showHideItem(itemId, true);\n    };\n    /**\n     * Shows a specific ribbon item.\n     *\n     * @param {string} itemId - The ID of the item to be shown.\n     * @returns {void}\n     */\n    Ribbon.prototype.showItem = function (itemId) {\n        this.showHideItem(itemId, false);\n    };\n    Ribbon.prototype.showHideItem = function (itemId, isHidden) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        var ele;\n        if (itemProp.item.type === 'GroupButton') {\n            ele = getItemElement(this, itemId + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n        }\n        else {\n            ele = getItemElement(this, itemId, itemProp);\n        }\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            isHidden ? itemEle.classList.add('e-hidden') : itemEle.classList.remove('e-hidden');\n            this.checkHiddenItems(itemProp.group, isHidden, itemProp.tabIndex);\n            this.refreshLayout();\n        }\n        else {\n            this.updateInitialProps(itemProp.tabIndex, itemId, 'hiddenItems', isHidden);\n        }\n    };\n    Ribbon.prototype.updateInitialProps = function (tabIndex, id, key, isInsert) {\n        var initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        if (!initialProps) {\n            this.initialPropsData[parseInt(tabIndex.toString(), 10)] = {};\n            initialProps = this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n        }\n        if (initialProps) {\n            /* eslint-disable */\n            if (!initialProps[key])\n                initialProps[key] = [];\n            var itemIndex = initialProps[key].indexOf(id);\n            if (isInsert) {\n                if (itemIndex === -1)\n                    initialProps[key].push(id);\n            }\n            else {\n                if (itemIndex !== -1)\n                    initialProps[key].splice(itemIndex, 1);\n                initialProps[key].length === 0 && delete initialProps[key];\n                /* eslint-enable */\n                if (Object.keys(initialProps).length === 0) {\n                    delete this.initialPropsData[parseInt(tabIndex.toString(), 10)];\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkHiddenItems = function (group, isHidden, tabIndex) {\n        var isItemsHidden = true;\n        var isEmptyCollection;\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        var groupEle = contentEle.querySelector('#' + group.id);\n        if (isHidden) {\n            for (var i = 0; i < group.collections.length; i++) {\n                if (isItemsHidden) {\n                    var collection = group.collections[parseInt(i.toString(), 10)];\n                    for (var j = 0; j < collection.items.length; j++) {\n                        var item = collection.items[parseInt(j.toString(), 10)];\n                        var itemEle = void 0;\n                        if (item.type === 'GroupButton') {\n                            var itemProp = getItem(this.tabs, item.id);\n                            itemEle = getItemElement(this, item.id + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n                        }\n                        else {\n                            itemEle = getItemElement(this, item.id);\n                        }\n                        var itemContainer = itemEle ? itemEle.closest('.e-ribbon-item') : null;\n                        if (!(itemContainer.classList.contains('e-hidden'))) {\n                            isItemsHidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (isItemsHidden) {\n                groupEle.classList.add('e-hide-group');\n                this.checkOverflowItems(isHidden, contentEle, group.enableGroupOverflow, tabIndex, group.id);\n            }\n        }\n        else {\n            groupEle.classList.remove('e-hide-group');\n            this.checkOverflowItems(isHidden, contentEle, group.enableGroupOverflow, tabIndex, group.id);\n        }\n        if (this.activeLayout === 'Simplified' && !group.enableGroupOverflow) {\n            var itemsLength = groupEle.querySelectorAll('.' + constants.RIBBON_ITEM);\n            if (itemsLength) {\n                isEmptyCollection = this.checkEmptyCollection(itemsLength);\n                groupEle.classList[isEmptyCollection ? 'add' : 'remove']('e-ribbon-emptyCollection');\n            }\n        }\n    };\n    Ribbon.prototype.checkOverflowItems = function (isHidden, contentEle, isGroupOF, tabIndex, groupID) {\n        var overflowDDB;\n        var overflowtarget;\n        if (isGroupOF) {\n            var overflowDDBEle = contentEle.querySelector('#' + groupID + constants.GROUPOF_BUTTON_ID);\n            if (overflowDDBEle) {\n                overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                overflowtarget = overflowDDB.target;\n            }\n            if (overflowtarget) {\n                isHidden ? overflowtarget.classList.add('e-hide-group') : overflowtarget.classList.remove('e-hide-group');\n            }\n        }\n        else {\n            if (this.overflowDDB) {\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var grpContainer = ofTabContainer.querySelector('#' + groupID + constants.CONTAINER_ID);\n                    if (grpContainer) {\n                        isHidden ? grpContainer.classList.add('e-hide-group') : grpContainer.classList.remove('e-hide-group');\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * tab - Gets the ribbon tab to be updated. The id of the tab is a required property. Other properties are optional.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateTab = function (tab) {\n        var tabId = tab.id;\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        var tabEle = this.tabObj.element;\n        if (groups && (contentEle.innerHTML !== '')) {\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (tab.cssClass) {\n                if (this.tabs[parseInt(index.toString(), 10)].cssClass) {\n                    contentEle.classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                    tabEle.querySelector('.e-active').classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                }\n            }\n            // Check whether group is passed by the user, and if it is, then remove the old values.\n            if (tab.groups) {\n                for (var _i = 0, groups_3 = groups; _i < groups_3.length; _i++) {\n                    var group = groups_3[_i];\n                    var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                        var collection = _b[_a];\n                        for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                            var item = _d[_c];\n                            var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            if (item.type === RibbonItemType.GroupButton && this.activeLayout === 'Classic') {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id + constants.RIBBON_GROUP_BUTTON_ID) :\n                                    contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID);\n                            }\n                            if (ele) {\n                                this.destroyFunction(item, ele);\n                            }\n                        }\n                    }\n                    if (dropdownElement) {\n                        this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                    }\n                }\n                var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                groupElements.forEach(function (groupEle) { groupEle.remove(); });\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n        ribbonTab.setProperties(tab, true);\n        this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML === '') {\n            // Check whether group is passed by the user and sets the updated values.\n            if (tab.groups) {\n                var elements = this.createGroups(ribbonTab.groups, index);\n                append(elements, contentEle);\n            }\n            if (this.selectedTab === index) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (tab.cssClass) {\n                contentEle.classList.add(ribbonTab.cssClass);\n                tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (tab.header) {\n                tabEle.querySelector('#' + tabId + constants.HEADER_ID).innerText = ribbonTab.header;\n            }\n        }\n    };\n    /**\n     * group - Gets the ribbon group to be updated. The id of the group is a required property. Other properties are optional.\n     *\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateGroup = function (group) {\n        var groupId = group.id;\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (group.cssClass) {\n                if (itemProp.group.cssClass) {\n                    groupEle.classList.remove(itemProp.group.cssClass);\n                    if (groupContainer) {\n                        groupContainer.classList.remove(itemProp.group.cssClass);\n                    }\n                }\n            }\n            // Check whether collections or orientation is passed by the user, and if it is, then remove the old values.\n            if (group.collections || group.orientation) {\n                if (itemProp.group.collections || itemProp.group.orientation) {\n                    for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                        var collection = _a[_i];\n                        for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                            var item = _c[_b];\n                            this.removeItemElement(contentEle, item, dropdown);\n                        }\n                    }\n                    var collectionElements = groupEle.querySelectorAll('.e-ribbon-collection');\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    collectionElements.forEach(function (collectionEle) { collectionEle.remove(); });\n                    if (group.orientation) {\n                        var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                        var removeCss = groupContent.classList.value.match(/(e-ribbon-[column|row]+)/g);\n                        if (removeCss) {\n                            removeClass([groupContent], removeCss);\n                        }\n                    }\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n        }\n        var ribbongroup = itemProp.group;\n        ribbongroup.setProperties(group, true);\n        ribbongroup.setProperties({ collections: this.checkID(ribbongroup.collections, 'collection', ribbongroup.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            // Check whether showLauncherIcon or orientation is passed by the user and sets the updated values.\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(ribbongroup.id, groupContainer);\n            }\n            // Check whether collections or orientation is passed by the user and sets the updated values.\n            if (group.collections || group.orientation) {\n                var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                groupContent.classList.add(((ribbongroup.orientation === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n                var elements = this.createCollection(ribbongroup.collections, ribbongroup.orientation, ribbongroup.id, ribbongroup.header, ribbongroup.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, groupContent);\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (group.cssClass) {\n                groupEle.classList.add(ribbongroup.cssClass);\n                if (groupContainer) {\n                    groupContainer.classList.add(ribbongroup.cssClass);\n                }\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (group.header) {\n                if (this.activeLayout === RibbonLayout.Simplified && !group.enableGroupOverflow) {\n                    var overflowHeader = dropdown.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && !ribbongroup.isCollapsed) {\n                    groupEle.querySelector('.e-ribbon-group-header').innerText = ribbongroup.header;\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && ribbongroup.isCollapsed) {\n                    var overflowEle = groupEle.querySelector('#' + ribbongroup.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                    // need to set instance for dropdown\n                    var dropDownBtn = getInstance(overflowEle, DropDownButton);\n                    var overflowHeader = dropDownBtn.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * collection - Gets the ribbon collection to be updated. The id of the collection is a required property. Other properties are optional.\n     *\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateCollection = function (collection) {\n        var collectionId = collection.id;\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var collectionEle = contentEle.querySelector('#' + collectionId);\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (collection.cssClass) {\n                if (itemProp.collection.cssClass) {\n                    collectionEle.classList.remove(itemProp.collection.cssClass);\n                }\n            }\n            if (collection.items) {\n                if (itemProp.collection.items) {\n                    for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        this.removeItemElement(contentEle, item, dropdown);\n                    }\n                }\n            }\n        }\n        var ribboncollection = itemProp.collection;\n        ribboncollection.setProperties(collection, true);\n        ribboncollection.setProperties({ items: this.checkID(ribboncollection.items, 'item', ribboncollection.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (collection.items) {\n                var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                var elements = this.createItems(ribboncollection.items, itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, collectionEle);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n        // Check whether cssClass is passed by the user and sets the updated values.\n        if (collection.cssClass) {\n            collectionEle.classList.add(ribboncollection.cssClass);\n        }\n    };\n    /**\n     * item - Gets the ribbon item to be updated. The id of the item is a required property. Other properties are optional.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateItem = function (item) {\n        var itemId = item.id;\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + itemProp.group.id);\n        var groupContainer = groupEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        var itemContainer = null;\n        var itemEle = null;\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            if (this.activeLayout === RibbonLayout.Simplified && itemProp.item.displayOptions === DisplayMode.Overflow) {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = dropdown.target.querySelector('#' + itemId);\n                if (item.displayOptions && item.displayOptions !== DisplayMode.Overflow) {\n                    var collectionEle = groupContainer.querySelector('#' + itemProp.collection.id);\n                    if (collectionEle) {\n                        collectionEle.appendChild(itemContainer);\n                    }\n                }\n            }\n            else {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = contentEle.querySelector('#' + itemId);\n                if (itemProp.item.type === 'GroupButton' && this.activeLayout === RibbonLayout.Classic) {\n                    itemEle = contentEle.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID);\n                }\n                if (this.activeLayout === RibbonLayout.Simplified && item.displayOptions === DisplayMode.Overflow) {\n                    this.createOverflowPopup(itemProp.item, itemProp.tabIndex, itemProp.group.enableGroupOverflow, itemProp.group.id, itemProp.group.header, itemContainer, groupContainer);\n                    if ((itemProp.item.type === RibbonItemType.DropDown) || (itemProp.item.type === RibbonItemType.SplitButton) || (item.type === RibbonItemType.GroupButton)) {\n                        this.updatePopupItems(itemProp.item, itemContainer, itemProp.group.enableGroupOverflow, true);\n                    }\n                }\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (item.cssClass) {\n                if (itemProp.item.cssClass) {\n                    itemContainer.classList.remove(itemProp.item.cssClass);\n                }\n            }\n            this.destroyFunction(itemProp.item, itemEle);\n            itemEle.remove();\n            var removeCss = itemContainer.classList.value.match(/(e-ribbon-[large|medium|small]+-item)/g);\n            if (removeCss) {\n                removeClass([itemContainer], removeCss);\n            }\n        }\n        var ribbonItem = itemProp.item;\n        ribbonItem.setProperties(item, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (!(this.activeLayout === RibbonLayout.Simplified && ribbonItem.displayOptions === DisplayMode.Overflow)) {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            else {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            // To avoid undefined items condition is added\n            if (ribbonItem.ribbonTooltipSettings && isTooltipPresent(ribbonItem.ribbonTooltipSettings)) {\n                itemContainer.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemContainer.id, data: ribbonItem.ribbonTooltipSettings });\n            }\n            var size = ribbonItem.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((ribbonItem.allowedSizes === RibbonItemSize.Large) || (ribbonItem.allowedSizes & RibbonItemSize.Medium) ||\n                    (ribbonItem.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                ribbonItem.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            this.createRibbonItem(ribbonItem, itemContainer);\n            if (this.activeLayout === 'Simplified' && itemProp.group.enableGroupOverflow) {\n                if (dropdown.target.childElementCount === 0) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            if (item.cssClass) {\n                itemContainer.classList.add(ribbonItem.cssClass);\n            }\n            this.enableDisableItem(ribbonItem.id, ribbonItem.disabled);\n        }\n    };\n    Ribbon.prototype.removeItemElement = function (contentEle, item, dropdown) {\n        var ele = null;\n        if (this.activeLayout === RibbonLayout.Classic) {\n            ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id) : null;\n            if (item.type === 'GroupButton') {\n                ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id + constants.RIBBON_GROUP_BUTTON_ID) : null;\n            }\n        }\n        else {\n            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n            if (!ele) {\n                ele = dropdown.target.querySelector('#' + item.id);\n            }\n        }\n        if (ele) {\n            this.destroyFunction(item, ele);\n            if (item.type === 'GroupButton' && this.activeLayout === RibbonLayout.Simplified) {\n                document.getElementById(item.id + constants.CONTAINER_ID).remove();\n            }\n            else {\n                ele.closest('#' + item.id + constants.CONTAINER_ID).remove();\n            }\n        }\n    };\n    /**\n     * Enables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableItem = function (itemId) {\n        this.enableDisableItem(itemId, false);\n    };\n    /**\n     * Disables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableItem = function (itemId) {\n        this.enableDisableItem(itemId, true);\n    };\n    Ribbon.prototype.enableDisableItem = function (itemId, isDisabled) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        itemProp.item.setProperties({ disabled: isDisabled }, true);\n        var ele;\n        if (itemProp.item.type === 'GroupButton') {\n            ele = getItemElement(this, itemId + constants.RIBBON_GROUP_BUTTON_ID, itemProp);\n        }\n        else {\n            ele = getItemElement(this, itemId, itemProp);\n        }\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            itemEle.classList.toggle(constants.DISABLED_CSS, itemProp.item.disabled);\n            var moduleName = this.getItemModuleName(itemProp.item);\n            if (moduleName !== 'template') {\n                if (moduleName === 'group-btn' && this.activeLayout === 'Simplified') {\n                    updateControlDisabled(ele, 'dropdown-btn', isDisabled);\n                    for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                        var btnEle = document.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID + i);\n                        updateControlDisabled(btnEle, 'btn', isDisabled);\n                    }\n                }\n                else if (moduleName === 'group-btn' && this.activeLayout === 'Classic') {\n                    for (var i = 0; i < itemProp.item.groupButtonSettings.items.length; i++) {\n                        var btnEle = ele.querySelector('#' + itemId + constants.RIBBON_GROUP_BUTTON_ID + i);\n                        updateControlDisabled(btnEle, 'btn', isDisabled);\n                    }\n                }\n                else {\n                    updateControlDisabled(ele, moduleName, isDisabled);\n                }\n            }\n            else {\n                ele.classList.toggle(constants.DISABLED_CSS, isDisabled);\n                ele.toggleAttribute('disabled', isDisabled);\n            }\n        }\n    };\n    Ribbon.prototype.unwireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n    };\n    Ribbon.prototype.destroy = function () {\n        this.keyboardModuleRibbon.destroy();\n        this.keyboardModuleRibbon = null;\n        destroyTooltip(this.element);\n        this.destroyTabItems(this.tabs);\n        if (!this.hideLayoutSwitcher) {\n            this.removeExpandCollapse();\n        }\n        this.collapseButton = undefined;\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n        }\n        if (this.ribbonTempEle) {\n            remove(this.ribbonTempEle);\n            this.ribbonTempEle = null;\n        }\n        _super.prototype.destroy.call(this);\n        this.tabObj.destroy();\n        this.tabObj = undefined;\n        this.initialPropsData = {};\n        remove(this.element.querySelector('#' + this.element.id + constants.TAB_ID));\n        this.element.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.element.style.removeProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH);\n        this.element.style.removeProperty('width');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(constants.SPACE));\n        }\n        this.element.classList.remove(constants.RTL_CSS, constants.RIBBON_SIMPLIFIED_MODE, constants.RIBBON_OVERFLOW, constants.RIBBON_COLLAPSIBLE, constants.RIBBON_MINIMIZE, 'e-rbn');\n        this.unwireEvents();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {RibbonModel} newProp - Specifies new properties\n     * @param  {RibbonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _a, _b;\n        for (var _i = 0, _c = Object.keys(newProp); _i < _c.length; _i++) {\n            var prop = _c[_i];\n            switch (prop) {\n                case 'activeLayout':\n                    this.switchLayout();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        (_a = this.element.classList).remove.apply(_a, oldProp.cssClass.split(constants.SPACE));\n                    }\n                    if (newProp.cssClass) {\n                        (_b = this.element.classList).add.apply(_b, newProp.cssClass.split(constants.SPACE));\n                    }\n                    break;\n                case 'isMinimized':\n                    this.element.classList.toggle(constants.RIBBON_MINIMIZE, this.isMinimized);\n                    this.tabObj.element.querySelector('.e-content').style.display = this.isMinimized ? 'none' : 'block';\n                    if (!this.isMinimized) {\n                        this.refreshLayout();\n                    }\n                    break;\n                case 'locale':\n                    this.updateCommonProperty({ locale: this.locale });\n                    break;\n                case 'enablePersistence':\n                    this.updateCommonProperty({ enablePersistence: this.enablePersistence });\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle(constants.RTL_CSS, this.enableRtl);\n                    this.updateCommonProperty({ enableRtl: newProp.enableRtl });\n                    if (this.scrollModule) {\n                        this.scrollModule.setProperties({ enableRtl: newProp.enableRtl });\n                    }\n                    break;\n                case 'launcherIconCss':\n                    for (var i = 0; i < this.tabs.length; i++) {\n                        var tabContent = this.tabObj.items[parseInt(i.toString(), 10)].content;\n                        var tab = this.tabs[parseInt(i.toString(), 10)];\n                        if (tabContent.querySelector('.' + constants.RIBBON_GROUP)) {\n                            for (var _d = 0, _e = tab.groups; _d < _e.length; _d++) {\n                                var group = _e[_d];\n                                if (group.showLauncherIcon) {\n                                    var className = constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss || constants.RIBBON_LAUNCHER_ICON);\n                                    if (group.isCollapsed) {\n                                        var element = tabContent.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                                        var dropdown = getComponent(element, DropDownButton);\n                                        var launcherIconEle = dropdown.target.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        launcherIconEle.className = className;\n                                    }\n                                    else {\n                                        var element = tabContent.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        element.className = className;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'selectedTab':\n                    this.tabObj.setProperties({ selectedItem: newProp.selectedTab });\n                    break;\n                case 'tabAnimation':\n                    this.tabObj.setProperties({ animation: newProp.tabAnimation });\n                    break;\n                case 'tabs':\n                    this.reRenderTabs(newProp.tabs);\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.refreshLayout();\n                    break;\n                case 'fileMenu':\n                    if (this.ribbonFileMenuModule) {\n                        this.ribbonFileMenuModule.updateFileMenu(this.fileMenu);\n                    }\n                    var toolbarEle = this.tabObj['tbObj'];\n                    toolbarEle.refreshOverflow();\n                    break;\n                case 'backStageMenu':\n                    if (this.ribbonBackstageModule) {\n                        this.ribbonBackstageModule.updateBackStageMenu(this.backStageMenu);\n                    }\n                    var toolbarElement = this.tabObj['tbObj'];\n                    toolbarElement.refreshOverflow();\n                    break;\n                case 'helpPaneTemplate':\n                    if (this.ribbonTempEle) {\n                        remove(this.ribbonTempEle);\n                        this.ribbonTempEle = null;\n                        this.tabObj.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n                    }\n                    if (this.helpPaneTemplate) {\n                        this.createHelpPaneTemplate();\n                    }\n                    var toolbar_1 = this.tabObj['tbObj'];\n                    toolbar_1.refreshOverflow();\n                    break;\n                case 'hideLayoutSwitcher':\n                    this.hideLayoutSwitcher ? this.removeExpandCollapse() : this.addExpandCollapse();\n                    break;\n            }\n        }\n    };\n    var Ribbon_1;\n    __decorate([\n        Property('Classic')\n    ], Ribbon.prototype, \"activeLayout\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"cssClass\", void 0);\n    __decorate([\n        Complex({}, FileMenuSettings)\n    ], Ribbon.prototype, \"fileMenu\", void 0);\n    __decorate([\n        Complex({}, BackStageMenu)\n    ], Ribbon.prototype, \"backStageMenu\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"launcherIconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"isMinimized\", void 0);\n    __decorate([\n        Property('en-us')\n    ], Ribbon.prototype, \"locale\", void 0);\n    __decorate([\n        Property(0)\n    ], Ribbon.prototype, \"selectedTab\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Ribbon.prototype, \"tabAnimation\", void 0);\n    __decorate([\n        Collection([], RibbonTab)\n    ], Ribbon.prototype, \"tabs\", void 0);\n    __decorate([\n        Property('100%')\n    ], Ribbon.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"helpPaneTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"hideLayoutSwitcher\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelected\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonExpanding\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"launcherIconClick\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"overflowPopupOpen\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"overflowPopupClose\", void 0);\n    Ribbon = Ribbon_1 = __decorate([\n        NotifyPropertyChanges\n    ], Ribbon);\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n","import { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex, isTooltipPresent } from '../base/index';\nimport * as constants from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonFileMenu = /** @class */ (function () {\n    function RibbonFileMenu(parent) {\n        this.parent = parent;\n    }\n    RibbonFileMenu.prototype.getModuleName = function () {\n        return 'ribbonFileMenu';\n    };\n    RibbonFileMenu.prototype.destroy = function () {\n        if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates File Menu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.createFileMenu = function (fileMenuOptions) {\n        var _this = this;\n        if (!fileMenuOptions.visible) {\n            return;\n        }\n        this.ddbElement = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.ddbElement, toolbarEle);\n        this.fileMenuDDB = new DropDownButton({\n            content: fileMenuOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-file-menu e-caret-hide',\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.ddbElement.offsetWidth + 'px');\n            },\n            beforeClose: this.ddbBeforeEvent.bind(this, false),\n            beforeOpen: this.ddbBeforeEvent.bind(this, true),\n            close: this.ddbAfterEvent.bind(this, false),\n            open: this.ddbAfterEvent.bind(this, true)\n        }, this.ddbElement);\n        if (this.parent.fileMenu.popupTemplate) {\n            this.fileMenuDDB.setProperties({ target: this.parent.fileMenu.popupTemplate });\n        }\n        else {\n            this.createRibbonMenu(fileMenuOptions);\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addFileMenuTooltip(fileMenuOptions);\n    };\n    RibbonFileMenu.prototype.addFileMenuTooltip = function (fileMenuOptions) {\n        if (isTooltipPresent(fileMenuOptions.ribbonTooltipSettings)) {\n            this.ddbElement.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.ddbElement.id, data: fileMenuOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonFileMenu.prototype.ddbBeforeEvent = function (isOpen, args) {\n        //args.event is null when dropdown button is closed using a method call\n        if (!isOpen && args.event && args.event.target.closest('.e-ribbon-menu')) {\n            args.cancel = true;\n        }\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = { cancel: args.cancel, element: args.element, event: args.event };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.ddbAfterEvent = function (isOpen, args) {\n        var element = isOpen ? this.fileMenuDDB.target : this.fileMenuDDB.element;\n        element.focus();\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element };\n            event.call(this, eventArgs);\n        }\n    };\n    //Clone RibbonMenuItems before assigning to avoid reference issues.\n    RibbonFileMenu.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            itemsList.push({\n                iconCss: item.iconCss,\n                id: item.id,\n                separator: item.separator,\n                text: item.text,\n                url: item.url,\n                items: this.cloneMenuItem(item.items)\n            });\n        }\n        return itemsList;\n    };\n    RibbonFileMenu.prototype.createRibbonMenu = function (menuOptions) {\n        var _this = this;\n        var ulElem = this.parent.createElement('ul', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_LIST\n        });\n        this.fileMenuDDB.setProperties({ target: ulElem });\n        this.menuctrl = new Menu({\n            orientation: 'Vertical',\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-menu',\n            animationSettings: menuOptions.animationSettings,\n            items: this.cloneMenuItem(menuOptions.menuItems),\n            showItemOnClick: menuOptions.showItemOnClick,\n            template: menuOptions.itemTemplate,\n            beforeClose: this.menuBeforeEvent.bind(this, false),\n            beforeOpen: this.menuBeforeEvent.bind(this, true),\n            beforeItemRender: this.beforeItemRender.bind(this),\n            onClose: this.menuAfterEvent.bind(this, false),\n            onOpen: this.menuAfterEvent.bind(this, true),\n            select: this.menuSelect.bind(this)\n        }, ulElem);\n        EventHandler.add(ulElem, 'keydown', function (e) {\n            if (e.key === 'Tab') {\n                _this.fileMenuDDB.toggle();\n            }\n        }, this);\n    };\n    RibbonFileMenu.prototype.menuBeforeEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = {\n                cancel: args.cancel, element: args.element, event: args.event,\n                items: args.items, parentItem: args.parentItem\n            };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.menuAfterEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element, items: args.items, parentItem: args.parentItem };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.beforeItemRender = function (args) {\n        var event = this.parent.fileMenu.beforeItemRender;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.menuSelect = function (args) {\n        var event = this.parent.fileMenu.select;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item, event: args.event };\n            event.call(this, eventArgs);\n            if (!args.element.classList.contains('e-menu-caret-icon')) {\n                this.fileMenuDDB.toggle();\n            }\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.setCommonProperties = function (commonProp) {\n        if (this.fileMenuDDB) {\n            this.fileMenuDDB.setProperties(commonProp);\n            if (this.menuctrl) {\n                this.menuctrl.setProperties(commonProp);\n            }\n        }\n    };\n    /**\n     * Update FileMenu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.updateFileMenu = function (fileMenuOptions) {\n        if (fileMenuOptions.visible) {\n            if (this.fileMenuDDB) {\n                if (fileMenuOptions.text) {\n                    this.fileMenuDDB.setProperties({\n                        content: fileMenuOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.ddbElement.offsetWidth + 'px');\n                }\n                if (fileMenuOptions.popupTemplate) {\n                    if (this.menuctrl) {\n                        this.destroyMenu();\n                    }\n                    this.fileMenuDDB.setProperties({ target: fileMenuOptions.popupTemplate });\n                }\n                else {\n                    if (this.menuctrl) {\n                        this.menuctrl.setProperties({\n                            animationSettings: fileMenuOptions.animationSettings,\n                            items: this.cloneMenuItem(fileMenuOptions.menuItems),\n                            showItemOnClick: fileMenuOptions.showItemOnClick,\n                            template: fileMenuOptions.itemTemplate\n                        });\n                    }\n                    else {\n                        this.createRibbonMenu(fileMenuOptions);\n                    }\n                }\n                this.removeFileMenuTooltip();\n                this.addFileMenuTooltip(fileMenuOptions);\n            }\n            else {\n                this.createFileMenu(fileMenuOptions);\n            }\n        }\n        else if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonFileMenu.prototype.destroyMenu = function () {\n        if (this.menuctrl) {\n            this.menuctrl.destroy();\n            this.menuctrl = null;\n        }\n    };\n    RibbonFileMenu.prototype.destroyDDB = function () {\n        this.removeFileMenuTooltip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.fileMenuDDB.destroy();\n        this.fileMenuDDB = null;\n        remove(this.ddbElement);\n        this.ddbElement = null;\n    };\n    RibbonFileMenu.prototype.removeFileMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.ddbElement.id; });\n        if (index !== -1) {\n            this.ddbElement.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    /**\n     * Add items to FileMenu.\n     *\n     * @param {MenuItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.addItems = function (items, target, isAfter, isUniqueId) {\n        if (isAfter) {\n            this.menuctrl.insertAfter(items, target, isUniqueId);\n        }\n        else {\n            this.menuctrl.insertBefore(items, target, isUniqueId);\n        }\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Remove items from FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.removeItems = function (items, isUniqueId) {\n        this.menuctrl.removeItems(items, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Enable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be enabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.enableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, true, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Disable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be disabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.disableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, false, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Update items in FileMenu.\n     *\n     * @param {MenuItem} item - Gets the item to be updated.\n     * @param {boolean} id - Gets the id of the item to be updated.\n     * @param {boolean} isUniqueId - Gets whether the id provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.setItem = function (item, id, isUniqueId) {\n        this.menuctrl.setItem(item, id, isUniqueId);\n        this.menuctrl.refresh();\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    return RibbonFileMenu;\n}());\nexport { RibbonFileMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, append, Component, EventHandler } from '@syncfusion/ej2-base';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex } from '../base/index';\nimport { getTemplateFunction, isTooltipPresent } from '../base/utils';\nimport * as constants from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonBackstage = /** @class */ (function (_super) {\n    __extends(RibbonBackstage, _super);\n    function RibbonBackstage(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    /**\n    * @private\n    * @returns {void}\n    */\n    RibbonBackstage.prototype.render = function () {\n        // render code\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.preRender = function () {\n        // pre render code\n    };\n    RibbonBackstage.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * This method is abstract member of the Component<HTMLElement>.\n     *\n     * @private\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.onPropertyChanged = function () {\n        // onProperty changes code\n    };\n    RibbonBackstage.prototype.getModuleName = function () {\n        return 'ribbonBackstage';\n    };\n    RibbonBackstage.prototype.destroy = function () {\n        if (this.backstageButton) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates Backstage Menu\n     *\n     * @param {BackStageMenuModel} backStageOptions - Gets the property of backstage.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.createBackStage = function (backStageOptions) {\n        var _this = this;\n        if (!backStageOptions.visible) {\n            return;\n        }\n        this.backstageButtonEle = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.backstageButtonEle, toolbarEle);\n        this.backstageButton = new Button({\n            content: backStageOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: constants.RIBBON_BACKSTAGE,\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.backstageButtonEle.offsetWidth + 'px');\n            }\n        }, this.backstageButtonEle);\n        this.createBackStagePopup(backStageOptions);\n        if (this.parent.backStageMenu.template) {\n            this.createBackStageTemplate(this.parent.backStageMenu.template);\n        }\n        else {\n            var footerItemCount = 0;\n            var itemCount = 0;\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                if (item.isFooter) {\n                    footerItemCount++;\n                }\n                else {\n                    itemCount++;\n                }\n            }\n            if (itemCount > 0) {\n                this.createBackstageMenu(backStageOptions, false);\n            }\n            if (footerItemCount > 0) {\n                this.createBackstageMenu(backStageOptions, true);\n            }\n            if (this.menuCtrl) {\n                this.checkMenuItems(this.menuCtrl.items);\n            }\n            if (this.footerMenuCtrl) {\n                this.checkMenuItems(this.footerMenuCtrl.items);\n            }\n        }\n        this.backstageButtonEle.onclick = function (e) {\n            e.stopPropagation();\n            _this.showBackstage();\n            _this.popupHTMLElement.classList.add(constants.RIBBON_BACKSTAGE_OPEN);\n            var menuItem = _this.menuWrapper.querySelector('.e-menu-item.e-selected');\n            if (menuItem) {\n                menuItem.classList.remove('e-selected');\n            }\n            for (var i = 0; i < backStageOptions.items.length; i++) {\n                var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                if (!item.isFooter && _this.menuCtrl.items[0].text === item.text) {\n                    var firstMenuEle = _this.popupHTMLElement.querySelector('#' + _this.menuCtrl.items[0].id);\n                    if (firstMenuEle) {\n                        firstMenuEle.classList.add('e-selected');\n                        firstMenuEle.focus();\n                    }\n                    _this.createBackStageContent(_this.menuCtrl.items[0].id, item.content);\n                    break;\n                }\n                else {\n                    continue;\n                }\n            }\n        };\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addBackStageMenuTooltip(backStageOptions);\n        EventHandler.add(document, 'click', this.onClickEvent, this);\n    };\n    RibbonBackstage.prototype.onClickEvent = function (e) {\n        var targetEle = e.target;\n        if (this.popupHTMLElement.contains(targetEle)) {\n            return;\n        }\n        else {\n            this.hideBackstage();\n        }\n    };\n    RibbonBackstage.prototype.addBackStageMenuTooltip = function (backStageOptions) {\n        if (isTooltipPresent(backStageOptions.ribbonTooltipSettings)) {\n            this.backstageButtonEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.backstageButtonEle.id, data: backStageOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonBackstage.prototype.checkMenuItems = function (backStageItems) {\n        for (var i = 0; i < backStageItems.length; i++) {\n            var item = backStageItems[parseInt(i.toString(), 10)];\n            if (!item.iconCss) {\n                var menuItemEle = this.popupHTMLElement.querySelector('#' + item.id);\n                menuItemEle.classList.add(constants.RIBBON_BACKSTAGE_TEXT_MENU);\n            }\n        }\n    };\n    RibbonBackstage.prototype.createBackStagePopup = function (backStageOptions) {\n        var _this = this;\n        this.popupHTMLElement = this.parent.createElement('div', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_POPUP_ID,\n            className: constants.RIBBON_BACKSTAGE_POPUP\n        });\n        var targetEle;\n        if (backStageOptions.target) {\n            targetEle = backStageOptions.target instanceof HTMLElement ? backStageOptions.target : document.querySelector(backStageOptions.target);\n            targetEle.appendChild(this.popupHTMLElement);\n        }\n        else {\n            this.parent.element.appendChild(this.popupHTMLElement);\n        }\n        this.popupEle = new Popup(this.popupHTMLElement, {\n            height: backStageOptions.height,\n            width: backStageOptions.width,\n            relateTo: backStageOptions.target || this.parent.element,\n            enableRtl: this.parent.enableRtl\n        });\n        if (this.parent.enableRtl) {\n            this.updatePopupPositionOnRtl(this.parent.enableRtl);\n        }\n        this.popupHTMLElement.onkeydown = function (e) { if (e.code === 'Escape') {\n            _this.hideBackstage();\n        } };\n        this.hideBackstage();\n    };\n    RibbonBackstage.prototype.updatePopupPositionOnRtl = function (enableRtl) {\n        var popupStyle = this.popupHTMLElement.style;\n        if (enableRtl) {\n            popupStyle.right = popupStyle.left;\n            popupStyle.left = 'unset';\n        }\n        else {\n            popupStyle.left = popupStyle.right;\n            popupStyle.right = 'unset';\n        }\n    };\n    RibbonBackstage.prototype.createBackstageMenu = function (menuOptions, isFooter) {\n        var _this = this;\n        var wrapperEle = this.popupHTMLElement.querySelector('#' + this.parent.element.id + '_wrapper');\n        if (!wrapperEle) {\n            this.menuWrapper = this.parent.createElement('div', {\n                id: this.parent.element.id + '_wrapper',\n                className: constants.RIBBON_BACKSTAGE_MENU_WRAPPER\n            });\n            this.popupHTMLElement.appendChild(this.menuWrapper);\n        }\n        if (menuOptions.backButton.visible && !isFooter) {\n            var closeBtnEle = this.parent.createElement('button', {\n                id: this.parent.element.id + '_close',\n                className: 'e-ribbon-close-btn'\n            });\n            this.closeBtn = new Button({\n                content: menuOptions.backButton.text,\n                iconCss: menuOptions.backButton.iconCss ? menuOptions.backButton.iconCss : constants.BACKSTAGE_CLOSE_ICON,\n                enableRtl: this.parent.enableRtl\n            }, closeBtnEle);\n            this.menuWrapper.append(closeBtnEle);\n            closeBtnEle.onclick = function () {\n                _this.popupHTMLElement.classList.remove(constants.RIBBON_BACKSTAGE_OPEN);\n                _this.hideBackstage();\n                _this.isBackButtonClicked = true;\n            };\n        }\n        var itemsWrapperEle = this.popupHTMLElement.querySelector('#' + this.parent.element.id + '_itemswrapper');\n        if (!itemsWrapperEle) {\n            this.itemsWrapperEle = this.parent.createElement('div', {\n                id: this.parent.element.id + '_itemswrapper',\n                className: constants.RIBBON_BACKSTAGE_ITEMS_WRAPPER\n            });\n            this.menuWrapper.append(this.itemsWrapperEle);\n        }\n        var ulFooterElem;\n        if (isFooter) {\n            ulFooterElem = this.parent.createElement('ul', {\n                id: this.parent.element.id + constants.RIBBON_FOOTER_MENU_LIST\n            });\n            this.itemsWrapperEle.appendChild(ulFooterElem);\n        }\n        else {\n            this.ulMenuElem = this.parent.createElement('ul', {\n                id: this.parent.element.id + constants.RIBBON_MENU_LIST\n            });\n            this.itemsWrapperEle.appendChild(this.ulMenuElem);\n        }\n        if (!isFooter) {\n            this.menuCtrl = new Menu({\n                orientation: 'Vertical',\n                enableRtl: this.parent.enableRtl,\n                cssClass: constants.RIBBON_BACKSTAGE_MENU,\n                items: this.cloneMenuItem(menuOptions.items),\n                select: this.menuSelect.bind(this, menuOptions)\n            }, this.ulMenuElem);\n        }\n        else {\n            this.footerMenuCtrl = new Menu({\n                orientation: 'Vertical',\n                enableRtl: this.parent.enableRtl,\n                cssClass: constants.RIBBON_BACKSTAGE_MENU,\n                items: this.cloneFooterMenuItem(menuOptions.items),\n                select: this.menuSelect.bind(this, menuOptions)\n            }, ulFooterElem);\n        }\n    };\n    RibbonBackstage.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (item.isFooter) {\n                continue;\n            }\n            else {\n                itemsList.push({\n                    id: item.id,\n                    iconCss: item.iconCss,\n                    separator: item.separator,\n                    text: item.text\n                });\n            }\n        }\n        return itemsList;\n    };\n    RibbonBackstage.prototype.cloneFooterMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (!item.isFooter) {\n                continue;\n            }\n            else {\n                itemsList.push({\n                    id: item.id,\n                    iconCss: item.iconCss,\n                    separator: item.separator,\n                    text: item.text\n                });\n            }\n        }\n        return itemsList;\n    };\n    RibbonBackstage.prototype.createBackStageContent = function (itemId, content) {\n        var templateName = 'backstageContent';\n        this.clearTemplate([templateName]);\n        if (!this.backstageContentEle) {\n            this.backstageContentEle = this.parent.createElement('div', {\n                id: itemId + constants.CONTENT_ID,\n                className: constants.RIBBON_BACKSTAGE_CONTENT\n            });\n        }\n        else {\n            this.backstageContentEle.innerHTML = '';\n            this.backstageContentEle.id = itemId + constants.CONTENT_ID;\n        }\n        var templateFunction = getTemplateFunction(content);\n        append(templateFunction({}, this, templateName, 'backstageContent', this.parent.isStringTemplate), this.backstageContentEle);\n        if (content) {\n            this.popupHTMLElement.append(this.backstageContentEle);\n        }\n        this.renderReactTemplates();\n        return templateFunction;\n    };\n    RibbonBackstage.prototype.createBackStageTemplate = function (template) {\n        var templateName = 'backstageTemplate';\n        this.clearTemplate([templateName]);\n        this.backstageTempEle = this.parent.createElement('div', {\n            id: this.parent.element.id + constants.RIBBON_BACKSTAGE_MENU_ID + '_template',\n            className: constants.RIBBON_BACKSTAGE_TEMPLATE\n        });\n        var templateFunction = getTemplateFunction(template);\n        append(templateFunction({}, this, templateName, 'backstageTemplate', this.parent.isStringTemplate), this.backstageTempEle);\n        this.popupHTMLElement.append(this.backstageTempEle);\n        this.renderReactTemplates();\n        return templateFunction;\n    };\n    RibbonBackstage.prototype.menuSelect = function (menuOptions, args) {\n        for (var i = 0; i < menuOptions.items.length; i++) {\n            var item = menuOptions.items[parseInt(i.toString(), 10)];\n            if (item.text === args.item.text) {\n                this.contentItem = item;\n                break;\n            }\n        }\n        this.createBackStageContent(args.item.id, this.contentItem.content);\n        var eventArgs = { cancel: false, target: args.element, item: this.contentItem, isBackButton: this.isBackButtonClicked };\n        if (this.contentItem.backStageItemClick) {\n            this.contentItem.backStageItemClick.call(this, eventArgs);\n        }\n        if (eventArgs.cancel) {\n            return;\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.setCommonProperties = function (commonProp) {\n        if (this.backstageButton) {\n            this.backstageButton.setProperties(commonProp);\n            if (this.popupEle) {\n                this.popupEle.setProperties(commonProp);\n                if (this.popupHTMLElement)\n                    this.updatePopupPositionOnRtl(commonProp.enableRtl);\n                if (this.menuCtrl) {\n                    this.menuCtrl.setProperties(commonProp);\n                    if (this.closeBtn) {\n                        this.closeBtn.setProperties(commonProp);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Update Backstage menu\n     *\n     * @param {BackStageMenuModel} backStageOptions - Gets the property of backstage menu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonBackstage.prototype.updateBackStageMenu = function (backStageOptions) {\n        if (backStageOptions.visible) {\n            if (this.backstageButton) {\n                if (backStageOptions.text) {\n                    this.backstageButton.setProperties({\n                        content: backStageOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.backstageButtonEle.offsetWidth + 'px');\n                }\n                if (this.popupEle) {\n                    this.popupEle.setProperties({\n                        height: backStageOptions.height,\n                        width: backStageOptions.width,\n                        target: backStageOptions.target || this.parent.element,\n                    });\n                }\n                if (backStageOptions.template) {\n                    if (this.backstageTempEle) {\n                        remove(this.backstageTempEle);\n                        this.backstageTempEle = null;\n                    }\n                    this.createBackStageTemplate(backStageOptions.template);\n                }\n                else {\n                    if (this.menuCtrl) {\n                        this.menuCtrl.setProperties({\n                            items: this.cloneMenuItem(backStageOptions.items)\n                        });\n                    }\n                    if (this.footerMenuCtrl) {\n                        this.footerMenuCtrl.setProperties({\n                            items: this.cloneFooterMenuItem(backStageOptions.items)\n                        });\n                    }\n                    else {\n                        var footerItemCount = 0;\n                        var itemCount = 0;\n                        for (var i = 0; i < backStageOptions.items.length; i++) {\n                            var item = backStageOptions.items[parseInt(i.toString(), 10)];\n                            if (item.isFooter) {\n                                footerItemCount++;\n                            }\n                            else {\n                                itemCount++;\n                            }\n                        }\n                        if (itemCount > 0) {\n                            this.createBackstageMenu(backStageOptions, false);\n                        }\n                        if (footerItemCount > 0) {\n                            this.createBackstageMenu(backStageOptions, true);\n                        }\n                    }\n                }\n                this.removeBackstageMenuTooltip();\n                this.addBackStageMenuTooltip(backStageOptions);\n            }\n            else {\n                this.createBackStage(backStageOptions);\n            }\n        }\n        else if (this.backstageButton) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonBackstage.prototype.destroyMenu = function () {\n        if (this.menuCtrl) {\n            this.menuCtrl.destroy();\n            this.menuCtrl = null;\n        }\n    };\n    RibbonBackstage.prototype.destroyDDB = function () {\n        this.removeBackstageMenuTooltip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.backstageButton.destroy();\n        this.backstageButton = null;\n        remove(this.backstageButtonEle);\n        this.backstageButtonEle = null;\n        EventHandler.remove(document, 'click', this.onClickEvent);\n    };\n    RibbonBackstage.prototype.removeBackstageMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.backstageButtonEle.id; });\n        if (index !== -1) {\n            this.backstageButtonEle.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    /**\n     * Add items to Backstage Menu.\n     *\n     * @param {BackstageItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.addBackstageItems = function (items, target, isAfter, isUniqueId) {\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            if (item.isFooter) {\n                isAfter ? this.footerMenuCtrl.insertAfter(items, target, isUniqueId) : this.footerMenuCtrl.insertBefore(items, target, isUniqueId);\n            }\n            else {\n                isAfter ? this.menuCtrl.insertAfter(items, target, isUniqueId) : this.menuCtrl.insertBefore(items, target, isUniqueId);\n            }\n        }\n        var backstageItems = [].concat(this.menuCtrl.items, this.footerMenuCtrl.items);\n        var backStageOptions = this.parent.backStageMenu;\n        for (var i = 0; i < backStageOptions.items.length; i++) {\n            var item = backStageOptions.items[parseInt(i.toString(), 10)];\n            for (var i_1 = 0; i_1 < backstageItems.length; i_1++) {\n                var item1 = backstageItems[parseInt(i_1.toString(), 10)];\n                if (item.text === item1.text) {\n                    item1.content = item.content;\n                    break;\n                }\n            }\n        }\n        this.parent.backStageMenu.setProperties({ items: backstageItems }, true);\n    };\n    /**\n     * Remove items from Backstage Menu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.removeBackstageItems = function (items, isUniqueId) {\n        this.menuCtrl.removeItems(items, isUniqueId);\n        this.footerMenuCtrl.removeItems(items, isUniqueId);\n        var backstageItems = [].concat(this.menuCtrl.items, this.footerMenuCtrl.items);\n        this.parent.backStageMenu.setProperties({ items: backstageItems }, true);\n    };\n    /**\n     * Renders the backstage dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.showBackstage = function () {\n        this.popupEle.show();\n    };\n    /**\n     * Hides the backstage dynamically.\n     *\n     * @returns {void}\n     */\n    RibbonBackstage.prototype.hideBackstage = function () {\n        if (this.popupEle.element.classList.contains(constants.RIBBON_BACKSTAGE_OPEN)) {\n            this.popupEle.element.classList.remove(constants.RIBBON_BACKSTAGE_OPEN);\n        }\n        this.popupEle.hide();\n    };\n    return RibbonBackstage;\n}(Component));\nexport { RibbonBackstage };\n"],"names":["getIndex","arr","condition","i","length","parseInt","toString","getTemplateFunction","template","content","tempEle","select","tagName","innerHTML","outerHTML","e","compile","getItem","tabs","id","tab","j","groups","group","k","collections","collection","l","items","item","tabIndex","groupIndex","collectionIndex","itemIndex","getCollection","getGroup","destroyControl","element","moduleName","getComponent","destroy","updateCommonProperty","commonProp","setProperties","updateControlDisabled","disable","enabled","disabled","getItemElement","parent","itemProp","contentEle","tabObj","activeLayout","RibbonLayout","Classic","displayOptions","DisplayMode","ribbonDropDownModule","getOverflowDropDownPopup","querySelector","ele","Simplified","enableGroupOverflow","constants.GROUPOF_BUTTON_ID","DropDownButton","overflowDDB","target","isTooltipPresent","tooltip","iconCss","title","cssClass","setToolTipContent","args","tooltipData","targetId","getAttribute","data","filter","createElement","constants.RIBBON_TOOLTIP_CONTAINER","append","header","className","constants.RIBBON_TOOLTIP_TITLE","appendChild","textContainer","constants.RIBBON_TEXT_CONTAINER","customCss","constants.RIBBON_TOOLTIP_ICON","tooltipContent","constants.RIBBON_TOOLTIP_CONTENT","constants.RIBBON_TOOLTIP","createTooltip","ribbon","ribbonTooltip","Tooltip","constants.RIBBON_TOOLTIP_TARGET","beforeRender","bind","this","windowCollision","appendTo","destroyTooltip","updateTooltipProp","prop","setCustomAttributes","attributes","key","elementClass","replace","trim","addClass","split","value","setAttribute","ItemOrientation","RibbonItemSize","RibbonItemType","RibbonGroupButtonSelection","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","RibbonButtonSettings","_super","apply","muteOnChange","call","Property","Event","ChildProperty","RibbonCheckBoxSettings","RibbonColorPickerSettings","RibbonComboBoxSettings","Complex","text","groupBy","FieldSettings","RibbonDropDownSettings","Collection","Item","RibbonSplitButtonSettings","RibbonTooltip","RibbonGroupButtonItem","RibbonGroupButtonSettings","RibbonItem","Medium","Small","Large","Auto","RibbonCollection","RibbonGroup","RibbonTab","FileMenuSettings","MenuItem","MenuAnimationSettings","BackstageBackButton","BackstageItem","BackStageMenu","ITEM_VERTICAL_CENTER","EXPAND_COLLAPSE_ICON","BACKSTAGE_CLOSE_ICON","OVERFLOW_ICON","VERTICAL_DDB","DISABLED_CSS","RTL_CSS","RIBBON_HOVER","RIBBON_CONTROL","RIBBON_POPUP_CONTROL","RIBBON_POPUP_OPEN","HORIZONTAL_SCROLLBAR","HIDE_CSS","RIBBON_TAB_ACTIVE","RIBBON_TAB_ITEM","RIBBON_COLLAPSE_BUTTON","RIBBON_EXPAND_BUTTON","RIBBON_COLLAPSIBLE","RIBBON_OVERALL_OF_BUTTON","RIBBON_GROUP_OF_BUTTON","RIBBON_OVERFLOW_TARGET","RIBBON_OVERFLOW","TAB_CONTENT","RIBBON_MINIMIZE","RIBBON_GROUP","RIBBON_SINGLE_BUTTON_SELECTION","RIBBON_MULTIPLE_BUTTON_SELECTION","RIBBON_GROUP_BUTTON","RIBBON_GROUP_BUTTON_OVERFLOW_POPUP","RIBBON_GROUP_CONTAINER","RIBBON_OF_TAB_CONTAINER","RIBBON_OF_GROUP_CONTAINER","RIBBON_GROUP_CONTENT","RIBBON_GROUP_HEADER","RIBBON_OVERFLOW_HEADER","RIBBON_GROUP_OVERFLOW","RIBBON_GROUP_OVERFLOW_DDB","RIBBON_LAUNCHER","RIBBON_LAUNCHER_ICON_ELE","RIBBON_LAUNCHER_ICON","RIBBON_COLLECTION","RIBBON_ITEM","RIBBON_ROW","RIBBON_COLUMN","RIBBON_LARGE_ITEM","RIBBON_MEDIUM_ITEM","RIBBON_SMALL_ITEM","RIBBON_CONTENT_HEIGHT","RIBBON_TEMPLATE","RIBBON_HELP_TEMPLATE","RIBBON_TOOLTIP","RIBBON_TOOLTIP_TARGET","RIBBON_TOOLTIP_TITLE","RIBBON_TOOLTIP_CONTENT","RIBBON_TOOLTIP_ICON","RIBBON_TOOLTIP_CONTAINER","RIBBON_TEXT_CONTAINER","RIBBON_SIMPLIFIED_MODE","RIBBON_BACKSTAGE_POPUP","RIBBON_BACKSTAGE_OPEN","RIBBON_BACKSTAGE_CONTENT","RIBBON_BACKSTAGE","RIBBON_BACKSTAGE_MENU","RIBBON_BACKSTAGE_TEMPLATE","RIBBON_BACKSTAGE_MENU_WRAPPER","RIBBON_BACKSTAGE_ITEMS_WRAPPER","COLLAPSE_BUTTON_ID","OVRLOF_BUTTON_ID","GROUPOF_BUTTON_ID","HEADER_ID","LAUNCHER_ID","CONTENT_ID","CONTAINER_ID","OVERFLOW_ID","DROPDOWN_ID","RIBBON_BACKSTAGE_MENU_ID","RIBBON_BACKSTAGE_POPUP_ID","RIBBON_FILE_MENU_LIST","RIBBON_FOOTER_MENU_LIST","RIBBON_HELP_PANE_TEMPLATE_ID","RIBBON_GROUP_BUTTON_ID","RIBBON_FILE_MENU_WIDTH","RIBBON_HELP_PANE_TEMPLATE_WIDTH","RibbonButton","getModuleName","createButton","itemEle","_this","buttonEle","btnSettings","buttonSettings","Button","locale","enableRtl","enablePersistence","iconPosition","activeSize","isPrimary","isToggle","created","htmlAttributes","onclick","clicked","addOverFlowEvents","overflowButton","type","buttonObj","toggle","removeOverFlowEvents","join","click","controlId","updateButton","merge","classList","add","updateButtonSize","RibbonCheckBox","createCheckBox","inputEle","checkBoxSettings","CheckBox","checked","label","labelPosition","change","checkBoxObj","dataBind","updateCheckBox","RibbonColorPicker","createColorPicker","colorPickerSettings","colorPicker","ColorPicker","columns","enableOpacity","mode","modeSwitcher","noColor","presetColors","showButtons","beforeClose","parentElement","remove","beforeOpen","beforeTileRender","open","wrapper","EventHandler","toggleWrapperHover","isAdd","colorPickerEle","colorPickerObj","splitBtn","event","close","closest","getColorPickerObj","getValue","updateColorPicker","unwireColorPickerEvents","RibbonComboBox","createComboBox","comboBoxSettings","ComboBox","allowCustom","floatLabelType","ignoreAccent","ignoreCase","allowFiltering","autofill","dataSource","fields","filterType","footerTemplate","groupTemplate","headerTemplate","index","itemTemplate","noRecordsTemplate","placeholder","popupHeight","popupWidth","showClearButton","sortOrder","width","filtering","comboBoxObj","getComboBoxObj","query","hidePopup","showPopup","updateComboBox","RibbonDropDown","createDropDown","dropDownSettings","closeActionEvents","createPopupOnClick","beforeItemRender","dropdownElement","dropdown","createOverFlowDropDown","name","groupEle","overflowEle","cancel","isNullOrUndefined","onkeydown","keyActionHandler","comboBoxEle","querySelectorAll","comboBoxElements","contains","shiftKey","handleNavigation","updateItemIndex","focusLauncherIcon","launcherIconEle","groupContainer","preventDefault","focus","ribbonItem","removeOverFlowDropDown","insertBefore","getDDBItemElement","dropDown","getDropDownObj","dropDownEle","addItems","Items","removeItems","isUniqueId","updateDropDown","btnEle","control","updateDropDownSize","push","RibbonSplitButton","createSplitButton","splitButtonSettings","splitbutton","SplitButton","dropdownEle","stopImmediatePropagation","setContent","splitButtonEle","ddbId","popupEle","document","getSplitButtonObj","updateSplitButton","updateSplitButtonSize","RibbonGroupButton","isSelected","createGroupButton","itemElement","groupBtnSettings","groupButtonSettings","count","btnContainerEle","constants.RIBBON_GROUP_BUTTON_ID","groupButtonEle","constants.RIBBON_GROUP_BUTTON","selection","Single","constants.RIBBON_SINGLE_BUTTON_SELECTION","constants.RIBBON_MULTIPLE_BUTTON_SELECTION","selected","Multiple","ribbonTooltipSettings","groupButtonClicked","dropdownIcon","activeEleCount","grpBtnIndex","handleGroupButtonNavigation","grpBtnSettings","previousItems","selectingItems","selectedItems","eventArgs","beforeClick","n","itemsCount","eventArgs_1","switchGroupButton","containerEle","targetEle","isOverflowPopup","constants.RIBBON_GROUP_BUTTON_OVERFLOW_POPUP","destroyDropDown","updateGroupButtonSize","Ribbon","options","Ribbon_1","Inject","render","initialize","preRender","idIndex","initialPropsData","isAddRemove","keyConfigs","leftarrow","rightarrow","shiftTab","getPersistData","addOnPersist","requiredModules","modules","member","getUniqueID","concat","constants.RTL_CSS","style","formatUnit","renderTabs","ribbonFileMenuModule","createFileMenu","fileMenu","ribbonBackstageModule","createBackStage","backStageMenu","createHelpPaneTemplate","refreshOverflow","wireEvents","wireKeyboardEvent","currentControlIndex","window","resizeHandler","keyboardModuleRibbon","KeyboardEvents","keyAction","eventName","activeContent","selectedTab","constants.CONTENT_ID","ribbonControls","action","prevGroupId","prevGroupContainer","constants.RIBBON_GROUP_CONTAINER","checkOverflow","scrollModule","scrollEle","constants.HORIZONTAL_SCROLLBAR","scrollStep","offsetWidth","tabsInternal","slice","checkID","tabEle","validateItemSize","tabItems","createTabItems","Tab","selectedItem","overflowMode","tabCreated","ribbonTabSelected","selecting","ribbonTabSelecting","setProperty","constants.RIBBON_FILE_MENU_WIDTH","constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH","toolbarEle","Toolbar","isMinimized","constants.RIBBON_MINIMIZE","minimize","val","trigger","display","refreshLayout","toggleLayout","switchLayout","hideLayoutSwitcher","addExpandCollapse","renderInitialTab","selectedTabId","selectedIndex","previousIndex","selectedContent","firstChild","overflowTarget","ofTabContainer","constants.RIBBON_TAB_ACTIVE","activeTab","constants.OVERFLOW_ID","constants.HIDE_CSS","checkOverflowHiddenItems","tabContent","constants.TAB_CONTENT","isOverFlow","isBreak","checkGroupShrinking","createOverflowDropdown","checkSimplifiedItemShrinking","createSimplfiedOverflow","HScroll","destroyScroll","removeOverflowDropdown","checkGroupExpanding","removeSimplfiedOverflow","checkSimplifiedItemExpanding","constants.CONTAINER_ID","allowedSizes","itemContainer","setItemSize","valString","removeAttribute","orderedGroups","getGroupResizeOrder","collectionEle","Overflow","createOverflowPopup","DropDown","GroupButton","updatePopupItems","constants.RIBBON_ITEM","itemsLength","checkEmptyCollection","isEmptyCollection","isGroupOF","isMenu","dropDownPopup","isLeft","position","X","Y","offsetX","removeProperty","isClear","flag","overflowtarget","overflowDDBEle","getInstance","groupEle_1","removeOverflowEvent","childElementCount","removeOverflowButton","ofGroupContainer","groupId","isHidden","isGroupHidden","isItemHidden","children","overflowTab","groupTabContainer","groupHeader","isResize","addOverflowButton","constants.RIBBON_GROUP_OF_BUTTON","overflowBtnTarget","createGroupContainer","createOfTabContainer","constants.OVRLOF_BUTTON_ID","collapseButton","constants.RIBBON_OVERALL_OF_BUTTON","addOverflowEvents","ribbonButtonModule","ribbonSplitButtonModule","ribbonCheckBoxModule","ribbonColorPickerModule","ribbonComboBoxModule","ribbonGroupButtonModule","constants.RIBBON_OF_TAB_CONTAINER","isLarge","checkLargeToMedium","checkMediumToSmall","checkValidCollectionLength","ind","checkClassicCollection","isIncrement","checkClassicItem","shouldSkip","isCollapsed","canReduceCollection","canReduceItem","createShrinkEle","firstItem","start","end","shrinkEle","constants.RIBBON_ROW","attrs","data-start","data-end","moveItemToColumn","moveCollectionToColumn","orientation","Column","m","shrinkColumns","reduceItemsToSmall","middle","reduce","ele_1","reduceCollectionsToSmall","ele_2","setWidth","classicItems","shrinkColumn","isSmall","checkSmallToMedium","checkMediumToLarge","shouldClear","canExpandItem","expandItemToMedium","parentEle","ele_4","expandCollectionsToMedium","ele_5","Row","expandItemsToLarge","container","ele_6","insertAdjacentElement","expandCollectionsToLarge","ele_7","handleContentSize","isRemoveOverflow","constants.RIBBON_GROUP_CONTENT","constants.RIBBON_CONTENT_HEIGHT","Template","createTemplateContent","constants.RIBBON_LARGE_ITEM","constants.RIBBON_MEDIUM_ITEM","constants.RIBBON_SMALL_ITEM","collapseOrder","_loop_1","this_1","groupOverFlow","constants.RIBBON_GROUP_OVERFLOW","groupIconCss","expandOrder","_loop_2","this_2","removeDropdown","state_1","constants.DROPDOWN_ID","isCollapse","isUndefined","isCollapsible","sort","a","priority","reverse","clearOverflowDropDown","nextTabId","selectingItem","previousTabId","previousItem","nextIndex","isInteracted","selectedTabContent","constants.RIBBON_GROUP","elements","createGroups","ribbonTab","constants.HEADER_ID","ondblclick","constants.RIBBON_TAB_ITEM","constants.RIBBON_SIMPLIFIED_MODE","btnId","constants.RIBBON_OVERFLOW_TARGET","tabindex","constants.OVERFLOW_ICON","constants.DROPDOWNBUTTON_HIDE","constants.RIBBON_GROUP_OVERFLOW_DDB","ribbonArgs","constants.RIBBON_POPUP_CONTROL","constants.RIBBON_OVERFLOW","isGroupOf","upDownKeyHandler","getElementsByClassName","findDisabledItem","currentItemIndex","itemType","checkBoxEle","checkBox","isIncrease","constants.RIBBON_OF_GROUP_CONTAINER","ofGroupHeader","constants.RIBBON_OVERFLOW_HEADER","constants.RIBBON_COLLAPSE_BUTTON","constants.EXPAND_COLLAPSE_ICON","constants.COLLAPSE_BUTTON_ID","aria-label","role","constants.RIBBON_COLLAPSIBLE","constants.RIBBON_EXPAND_BUTTON","removeExpandCollapse","splice","reRenderTabs","isNewTab","destroyTabItems","innerText","_i","groups_1","_a","_b","_c","_d","destroyFunction","forEach","groupList","i_1","alignType","i_2","groupContent","constants.RIBBON_COLUMN","groupCollection","itemList","itemEle_1","size","createItems","i_3","constants.RIBBON_GROUP_HEADER","ele_8","itemsize","createLauncherIcon","launcherIcon","constants.RIBBON_LAUNCHER_ICON_ELE","launcherIconCss","constants.RIBBON_LAUNCHER_ICON","constants.LAUNCHER_ID","constants.RIBBON_LAUNCHER","launcherIconClicked","groupElements","showLauncherIcon","createCollection","isItemsHidden","initialProps","hiddenGroups","updateGroupProps","disabledGroups","indexOf","collectionList","ribbonitem","sizeVal","collectionElements","constants.RIBBON_COLLECTION","createRibbonItem","itemElements","constants.DISABLED_CSS","hiddenItems","helpPaneTemplate","templateName","clearTemplate","ribbonTempEle","constants.RIBBON_HELP_TEMPLATE","constants.RIBBON_HELP_PANE_TEMPLATE_ID","templateFunction","isStringTemplate","after","renderReactTemplates","constants.RIBBON_TEMPLATE","renderItemTemplate","list","initId","listitem","setCommonProperties","_e","getItemModuleName","i_4","i_5","removeLauncherIcon","containerId","_loop_3","groupButtonID_1","this_3","clearOverflowResize","selectTab","tabId","showTab","showHideTab","hideTab","enableTab","enableDisableTab","disableTab","addTab","isAfter","tabItem","removeTab","groups_2","addGroup","ribbonGroups","removeGroup","removeItemElement","hideGroup","groupID","showHideGroup","showGroup","updateInitialProps","grpContainer","disableGroup","enableDisableGroup","enableGroup","isDisabled","addCollection","ribbonCollections","collection_1","removeCollection","collectionId","ribbonGroup","addItem","ribbonItems","item_1","removeItem","itemId","ribbonCollection","hideItem","showHideItem","showItem","checkHiddenItems","isInsert","keys","checkOverflowItems","updateTab","groups_3","updateGroup","removeCss","match","removeClass","ribbongroup","overflowHeader","updateCollection","ribboncollection","updateItem","enableDisableItem","getElementById","enableItem","disableItem","toggleAttribute","unwireEvents","undefined","onPropertyChanged","newProp","oldProp","animation","tabAnimation","updateFileMenu","updateBackStageMenu","TabAnimationSettings","NotifyPropertyChanges","Component","RibbonFileMenu","fileMenuDDB","destroyDDB","fileMenuOptions","visible","ddbElement","ddbBeforeEvent","ddbAfterEvent","popupTemplate","createRibbonMenu","refreshActiveTabBorder","addFileMenuTooltip","isOpen","cloneMenuItem","itemsList","separator","url","menuOptions","ulElem","constants.RIBBON_FILE_MENU_LIST","menuctrl","Menu","animationSettings","menuItems","showItemOnClick","menuBeforeEvent","onClose","menuAfterEvent","onOpen","menuSelect","parentItem","destroyMenu","removeFileMenuTooltip","insertAfter","enableItems","disableItems","setItem","refresh","RibbonBackstage","backstageButton","backStageOptions","backstageButtonEle","constants.RIBBON_BACKSTAGE_MENU_ID","constants.RIBBON_BACKSTAGE","createBackStagePopup","createBackStageTemplate","footerItemCount","itemCount","isFooter","createBackstageMenu","menuCtrl","checkMenuItems","footerMenuCtrl","stopPropagation","showBackstage","popupHTMLElement","constants.RIBBON_BACKSTAGE_OPEN","menuItem","menuWrapper","firstMenuEle","createBackStageContent","addBackStageMenuTooltip","onClickEvent","hideBackstage","backStageItems","constants.RIBBON_BACKSTAGE_POPUP_ID","constants.RIBBON_BACKSTAGE_POPUP","HTMLElement","Popup","height","relateTo","updatePopupPositionOnRtl","code","popupStyle","right","left","constants.RIBBON_BACKSTAGE_MENU_WRAPPER","backButton","closeBtnEle","closeBtn","constants.BACKSTAGE_CLOSE_ICON","isBackButtonClicked","itemsWrapperEle","constants.RIBBON_BACKSTAGE_ITEMS_WRAPPER","ulFooterElem","constants.RIBBON_FOOTER_MENU_LIST","ulMenuElem","constants.RIBBON_BACKSTAGE_MENU","cloneFooterMenuItem","backstageContentEle","constants.RIBBON_BACKSTAGE_CONTENT","backstageTempEle","constants.RIBBON_BACKSTAGE_TEMPLATE","contentItem","isBackButton","backStageItemClick","removeBackstageMenuTooltip","addBackstageItems","backstageItems","item1","removeBackstageItems","show","hide"],"mappings":"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"}