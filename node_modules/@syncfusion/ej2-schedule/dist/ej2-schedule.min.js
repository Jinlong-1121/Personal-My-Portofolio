/*!
*  filename: ej2-schedule.min.js
*  version : 23.1.40
*  Copyright Syncfusion Inc. 2001 - 2023. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionData"),require("SyncfusionInputs"),require("SyncfusionButtons"),require("SyncfusionCalendars"),require("SyncfusionDropdowns"),require("SyncfusionNavigations"),require("SyncfusionExcelExport"),require("SyncfusionLists")):"function"==typeof define&&define.amd?define(["SyncfusionBase","SyncfusionPopups","SyncfusionData","SyncfusionInputs","SyncfusionButtons","SyncfusionCalendars","SyncfusionDropdowns","SyncfusionNavigations","SyncfusionExcelExport","SyncfusionLists"],t):"object"==typeof exports?exports.SyncfusionSchedule=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionData"),require("SyncfusionInputs"),require("SyncfusionButtons"),require("SyncfusionCalendars"),require("SyncfusionDropdowns"),require("SyncfusionNavigations"),require("SyncfusionExcelExport"),require("SyncfusionLists")):e.SyncfusionSchedule=t(e.SyncfusionBase,e.SyncfusionPopups,e.SyncfusionData,e.SyncfusionInputs,e.SyncfusionButtons,e.SyncfusionCalendars,e.SyncfusionDropdowns,e.SyncfusionNavigations,e.SyncfusionExcelExport,e.SyncfusionLists)}(this,function(e,t,i,n,r,a,s,o,l,c){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=43)}([function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){var n=0,r=i.i(_.createElement)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),n=r.getBoundingClientRect().height,i.i(_.remove)(r),n}function r(e,t){var n=0,r=i.i(_.createElement)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),n=r.getBoundingClientRect().width,i.i(_.remove)(r),n}function a(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m42:0}function s(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0}function o(e,t){var i=new Date(e.getTime());return t=(t-i.getDay()-7)%7,new Date(i.setDate(i.getDate()+t))}function l(e,t){var i=o(e,t),n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return new Date(n.getTime())}function c(e){return new Date(e.getFullYear(),e.getMonth(),1)}function p(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function d(e){var t=new Date(e.getFullYear(),0,1).valueOf(),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf(),n=(i-t+j)/j;return Math.ceil(n/7)}function h(e,t){return new Date(t.valueOf()-(t.valueOf()-e.valueOf())/2)}function u(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),r=n.getTimezoneOffset()-i;return e.setTime(n.getTime()+r*L),e}function g(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function v(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTimezoneOffset(),i=e.getTimezoneOffset(),n=i-t;return e.getTime()-new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime()-60*n*1e3}function f(e,t){return Math.ceil((t.getTime()-e.getTime())/j)}function m(e,t){return e=new Date(""+e),new Date(e.setDate(e.getDate()+t))}function y(e,t){e=new Date(""+e);var i=e.getDate();return e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,w(e))),e}function T(e,t){e=new Date(""+e);var i=e.getDate();return e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,w(e))),e}function D(e,t,i){var n=new Date(e.getTime());n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds());var r=new Date(e.getTime());return 0===i.getHours()?r=m(r,1):(r.setHours(i.getHours()),r.setMinutes(i.getMinutes()),r.setSeconds(i.getSeconds())),{startHour:n,endHour:r}}function w(e){return p(e).getDate()}function b(e,t){var i=g(new Date(e)),n=g(new Date(t));return Math.round((n.getTime()-i.getTime())/j)}function C(e){return-1!==e.indexOf("Date")?new Date(parseInt(e.match(/\d+/g).toString(),10)):-1!==e.indexOf("T")?new Date(e):new Date(e.replace(/-/g,"/"))}function S(){if(null!==N)return N;null===q&&(q=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth);var e=i.i(_.createElement)("div"),t=0;e.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(e);var n=devicePixelRatio?"1.10"===devicePixelRatio.toFixed(2)||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return t=e.offsetWidth-e.clientWidth-n|0,document.body.removeChild(e),N=t}function O(){var e=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth;q&&q!==e&&(N=null,q=e)}function E(e,t,i,n,r){for(var a=0,s=e.length;a<s;a++)if(e[parseInt(a.toString(),10)][""+t]===i){if(!n)return a;var o=r.slice(-2)[0].field,l=n[""+o]instanceof Array?n[""+o]:[n[""+o]],c=l.join(",");if(c.includes(e[parseInt(a.toString(),10)][r.slice(-1)[0].groupIDField]))return a}return-1}function x(e){var t=getComputedStyle(e);return e.offsetHeight+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)}function A(e){for(var t=[].slice.call(e.children),i=0,n=t;i<n.length;i++){var r=n[i];e.removeChild(r)}}function V(e){var t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}function I(e){var t=e.getFullYear(),i=e.getMonth(),n=e.getDate(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();return Date.UTC(t,i,n,r,a,s,o)}function M(){return window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1}function k(){return window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1}function R(e,t){if("multiple"===t)e=e.split(" ").map(function(e){return e.charAt(0).toLocaleUpperCase()+e.substring(1)}).join(" ");else if("single"===t){if(e[0]>="0"&&e[0]<="9"){var n=e.match(/[a-zA-Z]/);e=i.i(_.isNullOrUndefined)(n)?e:e.slice(0,n.index)+e[n.index].toLocaleUpperCase()+e.slice(n.index+1)}e=e[0].toLocaleUpperCase()+e.slice(1)}return e}i.d(t,"e",function(){return H}),i.d(t,"f",function(){return P}),i.d(t,"c",function(){return j}),i.d(t,"g",function(){return L}),t.h=n,t.i=r,t.j=a,t.k=s,t.l=o,t.m=l,t.n=c,t.o=p,t.p=d,t.q=h,t.r=u,t.b=g,t.s=v,t.t=f,t.d=m,t.u=y,t.v=T,t.w=D,t.x=w,t.y=b,t.z=C,t.A=S,t.B=O,t.C=E,t.D=x,t.E=A,t.F=V,t.G=I,t.H=M,t.I=k,t.a=R;var _=i(0),H=(i.n(_),7),P=6,j=864e5,L=6e4,N=null,q=null},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return a}),i.d(t,"d",function(){return s}),i.d(t,"e",function(){return o}),i.d(t,"f",function(){return l}),i.d(t,"g",function(){return c}),i.d(t,"h",function(){return p}),i.d(t,"i",function(){return d}),i.d(t,"j",function(){return h}),i.d(t,"k",function(){return u}),i.d(t,"l",function(){return g}),i.d(t,"m",function(){return v}),i.d(t,"n",function(){return f}),i.d(t,"o",function(){return m}),i.d(t,"p",function(){return y}),i.d(t,"q",function(){return T}),i.d(t,"r",function(){return D}),i.d(t,"s",function(){return w}),i.d(t,"t",function(){return b}),i.d(t,"u",function(){return C}),i.d(t,"v",function(){return S}),i.d(t,"w",function(){return O}),i.d(t,"x",function(){return E}),i.d(t,"y",function(){return x}),i.d(t,"z",function(){return A}),i.d(t,"A",function(){return V}),i.d(t,"B",function(){return I}),i.d(t,"C",function(){return M}),i.d(t,"D",function(){return k}),i.d(t,"E",function(){return R}),i.d(t,"F",function(){return _}),i.d(t,"G",function(){return H}),i.d(t,"H",function(){return P}),i.d(t,"I",function(){return j}),i.d(t,"J",function(){return L}),i.d(t,"K",function(){return N}),i.d(t,"L",function(){return q}),i.d(t,"M",function(){return F});var n="cellClick",r="cellDoubleClick",a="moreEventsClick",s="select",o="hover",l="actionBegin",c="actionComplete",p="actionFailure",d="navigating",h="renderCell",u="eventClick",g="eventDoubleClick",v="eventRendered",f="dataBinding",m="dataBound",y="popupOpen",T="popupClose",D="dragStart",w="drag",b="dragStop",C="resizeStart",S="resizing",O="resizeStop",E="inlineClick",x="cellSelect",A="virtualScrollStart",V="virtualScrollStop",I="initial-load",M="initial-end",k="print",R="data-ready",_="events-loaded",H="content-ready",P="scroll",j="virtual-scroll",L="scroll-ui-update",N="ui-update",q="document-click",F="cell-mouse-down"},function(e,t,i){"use strict";i.d(t,"_74",function(){return n}),i.d(t,"_78",function(){return r}),i.d(t,"_79",function(){return a}),i.d(t,"_80",function(){return s}),i.d(t,"N",function(){return o}),i.d(t,"_164",function(){return l}),i.d(t,"J",function(){return c}),i.d(t,"_54",function(){return p}),i.d(t,"j",function(){return d}),i.d(t,"_4",function(){return h}),i.d(t,"_68",function(){return u}),i.d(t,"_69",function(){return g}),i.d(t,"_27",function(){return v}),i.d(t,"h",function(){return f}),i.d(t,"n",function(){return m}),i.d(t,"_16",function(){return y}),i.d(t,"T",function(){return T}),i.d(t,"_84",function(){return D}),i.d(t,"d",function(){return w}),i.d(t,"c",function(){return b}),i.d(t,"e",function(){return C}),i.d(t,"_60",function(){return S}),i.d(t,"_61",function(){return O}),i.d(t,"_62",function(){return E}),i.d(t,"q",function(){return x}),i.d(t,"t",function(){return A}),i.d(t,"s",function(){return V}),i.d(t,"_57",function(){return I}),i.d(t,"_143",function(){return M}),i.d(t,"_58",function(){return k}),i.d(t,"_142",function(){return R}),i.d(t,"_70",function(){return _}),i.d(t,"_71",function(){return H}),i.d(t,"_141",function(){return P}),i.d(t,"a",function(){return j}),i.d(t,"b",function(){return L}),i.d(t,"i",function(){return N}),i.d(t,"_166",function(){return q}),i.d(t,"v",function(){return F}),i.d(t,"_167",function(){return U}),i.d(t,"x",function(){return B}),i.d(t,"y",function(){return W}),i.d(t,"_168",function(){return z}),i.d(t,"u",function(){return Y}),i.d(t,"_170",function(){return G}),i.d(t,"_169",function(){return X}),i.d(t,"_63",function(){return Q}),i.d(t,"_83",function(){return K}),i.d(t,"_28",function(){return J}),i.d(t,"_12",function(){return Z}),i.d(t,"_11",function(){return $}),i.d(t,"_15",function(){return ee}),i.d(t,"_14",function(){return te}),i.d(t,"_13",function(){return ie}),i.d(t,"_17",function(){return ne}),i.d(t,"_18",function(){return re}),i.d(t,"w",function(){return ae}),i.d(t,"_7",function(){return se}),i.d(t,"D",function(){return oe}),i.d(t,"_8",function(){return le}),i.d(t,"_65",function(){return ce}),i.d(t,"_24",function(){return pe}),i.d(t,"_66",function(){return de}),i.d(t,"_38",function(){return he}),i.d(t,"_37",function(){return ue}),i.d(t,"F",function(){return ge}),i.d(t,"E",function(){return ve}),i.d(t,"_36",function(){return fe}),i.d(t,"_35",function(){return me}),i.d(t,"l",function(){return ye}),i.d(t,"A",function(){return Te}),i.d(t,"B",function(){return De}),i.d(t,"C",function(){return we}),i.d(t,"R",function(){return be}),i.d(t,"G",function(){return Ce}),i.d(t,"_43",function(){return Se}),i.d(t,"_45",function(){return Oe}),i.d(t,"I",function(){return Ee}),i.d(t,"_19",function(){return xe}),i.d(t,"_23",function(){return Ae}),i.d(t,"g",function(){return Ve}),i.d(t,"_171",function(){return Ie}),i.d(t,"_46",function(){return Me}),i.d(t,"_48",function(){return ke}),i.d(t,"S",function(){return Re}),i.d(t,"m",function(){return _e}),i.d(t,"_52",function(){return He}),i.d(t,"_50",function(){return Pe}),i.d(t,"_47",function(){return je}),i.d(t,"p",function(){return Le}),i.d(t,"o",function(){return Ne}),i.d(t,"_42",function(){return qe}),i.d(t,"_51",function(){return Fe}),i.d(t,"_49",function(){return Ue}),i.d(t,"_44",function(){return Be}),i.d(t,"_128",function(){return We}),i.d(t,"_53",function(){return ze}),i.d(t,"_40",function(){return Ye}),i.d(t,"_39",function(){return Ge}),i.d(t,"O",function(){return Xe}),i.d(t,"_9",function(){return Qe}),i.d(t,"_10",function(){return Ke}),i.d(t,"P",function(){return Je}),i.d(t,"Q",function(){return Ze}),i.d(t,"_73",function(){return $e}),i.d(t,"_81",function(){return et}),i.d(t,"_75",function(){return tt}),i.d(t,"_77",function(){return it}),i.d(t,"_76",function(){return nt}),i.d(t,"Z",function(){return rt}),i.d(t,"U",function(){return at}),i.d(t,"_0",function(){return st}),i.d(t,"W",function(){return ot}),i.d(t,"V",function(){return lt}),i.d(t,"X",function(){return ct}),i.d(t,"Y",function(){return pt}),i.d(t,"L",function(){return dt}),i.d(t,"M",function(){return ht}),i.d(t,"_3",function(){return ut}),i.d(t,"_6",function(){return gt}),i.d(t,"_30",function(){return vt}),i.d(t,"_33",function(){return ft}),i.d(t,"_29",function(){return mt}),i.d(t,"_25",function(){return yt}),i.d(t,"_26",function(){return Tt}),i.d(t,"_34",function(){return Dt}),i.d(t,"z",function(){return wt}),i.d(t,"_114",function(){return bt}),i.d(t,"_118",function(){return Ct}),i.d(t,"_107",function(){return St}),i.d(t,"_108",function(){return Ot}),i.d(t,"_120",function(){return Et}),i.d(t,"_121",function(){return xt}),i.d(t,"_138",function(){return At}),i.d(t,"_124",function(){return Vt}),i.d(t,"_129",function(){return It}),i.d(t,"_115",function(){return Mt}),i.d(t,"_116",function(){return kt}),i.d(t,"_117",function(){return Rt}),i.d(t,"_119",function(){return _t}),i.d(t,"_59",function(){return Ht}),i.d(t,"_91",function(){return Pt}),i.d(t,"_72",function(){return jt}),i.d(t,"_86",function(){return Lt}),i.d(t,"_88",function(){return Nt}),i.d(t,"_89",function(){return qt}),i.d(t,"_90",function(){return Ft}),i.d(t,"_87",function(){return Ut}),i.d(t,"_105",function(){return Bt}),i.d(t,"_106",function(){return Wt}),i.d(t,"_93",function(){return zt}),i.d(t,"_96",function(){return Yt}),i.d(t,"_97",function(){return Gt}),i.d(t,"_103",function(){return Xt}),i.d(t,"_102",function(){return Qt}),i.d(t,"_98",function(){return Kt}),i.d(t,"_99",function(){return Jt}),i.d(t,"_94",function(){return Zt}),i.d(t,"_95",function(){return $t}),i.d(t,"_101",function(){return ei}),i.d(t,"_100",function(){return ti}),i.d(t,"_144",function(){return ii}),i.d(t,"_150",function(){return ni}),i.d(t,"_104",function(){return ri}),i.d(t,"_154",function(){return ai}),i.d(t,"_155",function(){return si}),i.d(t,"_132",function(){return oi}),i.d(t,"_133",function(){return li}),i.d(t,"_134",function(){return ci}),i.d(t,"_159",function(){return pi}),i.d(t,"_160",function(){return di}),i.d(t,"_152",function(){return hi}),i.d(t,"H",function(){return ui}),i.d(t,"K",function(){return gi}),i.d(t,"_130",function(){return vi}),i.d(t,"_131",function(){return fi}),i.d(t,"_153",function(){return mi}),i.d(t,"_148",function(){return yi}),i.d(t,"_149",function(){return Ti}),i.d(t,"_161",function(){return Di}),i.d(t,"_135",function(){return wi}),i.d(t,"_136",function(){return bi}),i.d(t,"_137",function(){return Ci}),i.d(t,"_156",function(){return Si}),i.d(t,"_157",function(){return Oi}),i.d(t,"_158",function(){return Ei}),i.d(t,"_146",function(){return xi}),i.d(t,"_147",function(){return Ai}),i.d(t,"_139",function(){return Vi}),i.d(t,"_145",function(){return Ii}),i.d(t,"_151",function(){return Mi}),i.d(t,"_162",function(){return ki}),i.d(t,"_163",function(){return Ri}),i.d(t,"_110",function(){return _i}),i.d(t,"_112",function(){return Hi}),i.d(t,"_111",function(){return Pi}),i.d(t,"_113",function(){return ji}),i.d(t,"_109",function(){return Li}),i.d(t,"_92",function(){return Ni}),i.d(t,"_140",function(){return qi});i.d(t,"_82",function(){return Fi}),i.d(t,"_31",function(){return Ui}),i.d(t,"_20",function(){return Bi}),i.d(t,"_56",function(){return Wi}),i.d(t,"_67",function(){return zi}),i.d(t,"r",function(){return Yi}),i.d(t,"_85",function(){return Gi}),i.d(t,"_122",function(){return Xi}),i.d(t,"_172",function(){return Qi}),i.d(t,"_173",function(){return Ki}),i.d(t,"_174",function(){return Ji}),i.d(t,"_177",function(){return Zi}),i.d(t,"_175",function(){return $i}),i.d(t,"_176",function(){return en}),i.d(t,"_125",function(){return tn}),i.d(t,"_126",function(){return nn}),i.d(t,"_127",function(){return rn}),i.d(t,"_123",function(){return an}),i.d(t,"_21",function(){return sn}),i.d(t,"_165",function(){return on}),i.d(t,"k",function(){return ln}),i.d(t,"_22",function(){return cn}),i.d(t,"_41",function(){return pn}),i.d(t,"_55",function(){return dn}),i.d(t,"f",function(){return hn}),i.d(t,"_1",function(){return un}),i.d(t,"_2",function(){return gn}),i.d(t,"_64",function(){return vn}),i.d(t,"_5",function(){return fn}),i.d(t,"_32",function(){return mn});var n="e-schedule",r="e-rtl",a="e-device",s="e-multi-drag",o="e-icons",l="e-enable",c="e-disable",p="e-table-container",d="e-schedule-table",h="e-all-day-cells",u="e-header-popup",g="e-header-calendar",v="e-all-day-row",f="e-content-table",m="e-work-cells",y="e-work-hours",T="e-popup-open",D="e-popup-close",w="e-date-header-wrap",b="e-date-header-container",C="e-header-cells",S="e-header-week-cell",O="e-header-month-cell",E="e-header-year-cell",x="e-work-days",A="e-other-month",V="e-current-day",I="e-current-date",M="e-current-panel",k="e-previous-panel",R="e-next-panel",_="e-prev",H="e-next",P="e-translate",j="e-left-indent",L="e-left-indent-wrap",N="e-event-table",q="e-resource-left-td",F="e-resource-group-cells",U="e-resource-text",B="e-resource-column-wrap",W="e-resource-column-table",z="e-child-node",Y="e-parent-node",G="e-resource-expand",X="e-resource-collapse",Q="e-resource-tree-icon",K="e-resource-cells",J="e-time-cells-wrap",Z="e-time-cells",$="e-time-slots",ee="e-alternate-cells",te="e-current-time",ie="e-current-timeline",ne="e-previous-timeline",re="e-hide-childs",ae="e-scroll-container",se="e-timeline-wrapper",oe="e-appointment-wrapper",le="e-day-wrapper",ce="e-schedule-toolbar-container",pe="e-schedule-resource-toolbar-container",de="e-schedule-toolbar",he="e-schedule-resource-toolbar",ue="e-selected-cell",ge="e-week-number-wrapper",ve="e-week-number",fe="e-appointment-wrap",me="e-wrapper-container",ye="e-appointment-container",Te="e-appointment",De="e-block-appointment",we="e-block-indicator",be="e-appointment-border",Ce="e-appointment-details",Se="e-subject-wrap",Oe="e-resource-name",Ee="e-time",xe="e-table-wrap",Ae="e-outer-table",Ve="e-content-wrap",Ie="e-virtual-track",Me="e-agenda-cells",ke="e-current-day",Re="e-active-appointment-agenda",_e="e-month-header",He="e-day-date-header",Pe="e-resource-column",je="e-date-column",Le="e-navigate",Ne="e-date-header",qe="e-day-border",Fe="e-date-border",Ue="e-day-padding",Be="e-date-time",We="e-date-time-wrapper",ze="e-empty-event",Ye="e-no-event",Ge="e-appointment-indicator",Xe="e-indicator",Qe="e-up-icon",Ke="e-down-icon",Je="e-left-icon",Ze="e-right-icon",$e="e-event-action",et="e-new-event",tt="e-schedule-event-clone",it="e-month-event",nt="e-clone-time-indicator",rt="e-drag-clone",at="e-event-resize",st="e-resize-clone",ot="e-left-handler",lt="e-right-handler",ct="e-top-handler",pt="e-bottom-handler",dt="e-recurrence-icon",ht="e-recurrence-edit-icon",ut="e-header-row",gt="e-all-day-appointment-wrapper",vt="e-all-day-appointment",ft="e-appointment-hide",mt="e-row-count-wrapper",yt="e-all-day-appointment-section",Tt="e-appointment-expand",Dt="e-appointment-collapse",wt="e-more-indicator",bt="e-cell-popup",Ct="e-event-popup",St="e-multiple-event-popup",Ot="e-popup-header",Et="e-header-icon-wrapper",xt="e-popup-content",At="e-popup-footer",Vt="e-date-time-details",It="e-recurrence-summary",Mt="e-event-details",kt="e-event-create",Rt="e-event-edit",_t="e-event-delete",Ht="e-text-ellipsis",Pt="e-more-popup-wrapper",jt="e-more-event-popup",Lt="e-more-event-header",Nt="e-more-event-date-header",qt="e-header-day",Ft="e-header-date",Ut="e-more-event-close",Bt="e-more-event-content",Wt="e-more-appointment-wrapper",zt="e-quick-dialog",Yt="e-quick-dialog-occurrence-event",Gt="e-quick-dialog-series-event",Xt="e-quick-dialog-following-events",Qt="e-following-events-dialog",Kt="e-quick-dialog-delete",Jt="e-quick-dialog-cancel",Zt="e-quick-alertok",$t="e-quick-alertcancel",ei="e-quick-alertfollowing",ti="e-quick-dialog-alert-btn",ii="e-schedule-dialog",ni="e-form-container",ri="e-schedule-form",ai="e-all-day-time-zone-row",si="e-all-day",oi="e-time-zone",li="e-time-zone-icon",ci="e-time-zone-details",pi="e-repeat-parent-row",di="e-repeat",hi="e-title-location-row",ui="e-subject",gi="e-location",vi="e-location-icon",fi="e-location-details",mi="e-start-end-row",yi="e-start",Ti="e-end",Di="e-resources-row",wi="e-description",bi="e-description-icon",Ci="e-description-details",Si="e-time-zone-row",Oi="e-start-time-zone",Ei="e-end-time-zone",xi="e-back-icon",Ai="e-save-icon",Vi="e-event-cancel",Ii="e-event-save",Mi="e-dialog-parent",ki="e-title-text",Ri="e-icon-disable",_i="e-edit",Hi="e-edit-icon",Pi="e-delete",ji="e-delete-icon",Li="e-close",Ni="e-close-icon",qi="e-schedule-error",Fi="e-schedule-event-tooltip",Ui="e-animate",Bi="e-timescale-disable",Wi="e-disable-date",zi="e-hidden",Yi="e-disable-dates",Gi="e-quick-popup-wrapper",Xi="e-popup-table",Qi="e-resource-menu",Ki="e-icon-menu",Ji="e-resource-level-title",Zi="e-resource-tree",$i="e-resource-tree-popup-overlay",en="e-resource-tree-popup",tn="e-resource",nn="e-resource-icon",rn="e-resource-details",an="e-date-time-icon",sn="e-virtual-scroll",on="e-icon-disable",ln="e-auto-height",cn="e-ignore-whitespace",pn="e-template",dn="e-read-only",hn="e-month-header-wrapper",un="e-inline-subject",gn="e-inline-appointment",vn="e-scroll-hidden",fn="e-all-day-scroll",mn="e-all-day-auto"},function(e,t,i){"use strict";function n(e,t,n,a){void 0===a&&(a="Gregorian");var s,o,l=L(e),c=t.getConstant(he)+" ",p=a.toLowerCase();if("en"===n||"en-US"===n){var d="months.stand-alone.abbreviated",h="days.stand-alone.abbreviated";o=i.i(te.getValue)(d,i.i(te.getDefaultDateObject)(p)),s=i.i(te.getValue)(h,i.i(te.getDefaultDateObject)(p))}else{var d="main."+n+".dates.calendars."+p+".months.stand-alone.abbreviated",h="main."+n+".dates.calendars."+p+".days.stand-alone.abbreviated";o=i.i(te.getValue)(d,te.cldrData),s=i.i(te.getValue)(h,te.cldrData)}switch(l.interval>1&&(c+=l.interval+" "),l.freq){case"DAILY":c+=t.getConstant(ge);break;case"WEEKLY":c+=t.getConstant(ve)+" "+t.getConstant(de)+" ",l.day.forEach(function(e,t){c+=i.i(ie.a)(i.i(te.getValue)(ye[""+e],s),"single"),c+=l.day.length-1===t?"":", "});break;case"MONTHLY":c+=t.getConstant(fe)+" "+t.getConstant(de)+" ",c+=r(l,s,t);break;case"YEARLY":c+=t.getConstant(me)+" "+t.getConstant(de)+" ",c+=i.i(ie.a)(i.i(te.getValue)(l.month[0].toString(),o),"single")+" ",c+=r(l,s,t)}if(l.count)c+=", "+l.count+" "+t.getConstant(pe);else if(l.until){var u=l.until;c+=", "+t.getConstant(ue)+" "+u.getDate()+" "+i.i(ie.a)(i.i(te.getValue)((u.getMonth()+1).toString(),o),"single")+" "+u.getFullYear()}return c}function r(e,t,n){var r="";if(e.monthDay.length)r+=e.monthDay[0];else if(e.day){var a=e.setPosition-1;r+=n.getConstant(ce[a>-1?a:ce.length-1])+" "+i.i(ie.a)(i.i(te.getValue)(ye[e.day[0]],t),"single")}return r}function a(e,t,n,r,a,o,l,u){void 0===a&&(a=le),void 0===o&&(o=null),void 0===l&&(l="Gregorian"),void 0===u&&(u=null);var g,v=L(t);ee=X(l);var f=[],m=new Date(e.getTime());J=[];var y=i.i(te.isNullOrUndefined)(n)?[]:n.split(","),T=new re.a;if(y.forEach(function(e){var t=s(e);u&&(t=T.add(new Date(t.getTime()),u)),J.push(new Date(t.getTime()).setHours(0,0,0,0))}),v.recExceptionCount=i.i(te.isNullOrUndefined)(v.count)?0:J.length,$=o&&o>e&&!v.count?new Date(new Date(o.getTime()).setHours(0,0,0)):null,!v.until&&$&&(g=new Date($.getTime()),g.setDate($.getDate()+a*v.interval),v.until=g),v.until&&e>v.until)return f;if(Z=a,Y(oe[parseInt(r.toString(),10)]),v.until){var D=i.i(ie.b)(v.until);v.until=new Date(D.getFullYear(),D.getMonth(),D.getDate(),23,59,59)}switch(v.freq){case"DAILY":c(m,v.until,f,v);break;case"WEEKLY":p(m,v.until,f,v);break;case"MONTHLY":d(m,v.until,f,v);break;case"YEARLY":h(m,v.until,f,v)}return f}function s(e){return new Date(e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,5)+":"+e.substr(11,2)+":"+e.substr(13))}function o(e,t){var i=new Date(t).setHours(0,0,0,0);-1===J.indexOf(i)&&(!$||i>=$.getTime())&&e.push(t)}function l(e,t){var i=Z;return t.count?i=t.count:t.until&&("DAILY"===t.freq||"WEEKLY"===t.freq?i=Math.floor((t.until.getTime()-e.getTime())/ie.c)+1:"MONTHLY"!==t.freq&&"YEARLY"!==t.freq||(i=Math.floor((t.until.getMonth()+12*t.until.getFullYear()-(e.getMonth()+12*e.getFullYear()))/t.interval)+(t.day.length>1?Math.floor((t.until.getTime()-e.getTime())/ie.c)+1:1),"YEARLY"===t.freq&&(i=t.month.length>1?i*t.month.length:i))),i}function c(e,t,i,n){for(var r=new Date(e.getTime()),a=n.interval,s=l(e,n),c=n.day;_(r,t)&&(!0,!(G(r,n)&&(c.indexOf(oe[r.getDay()])>-1||0===c.length)&&(o(i,r.getTime()),s&&i.length+n.recExceptionCount>=s)));)r.setDate(r.getDate()+a),r.getHours()!==e.getHours()&&r.setHours(e.getHours())}function p(e,t,n,r){var a=new Date(e.getTime());r.day.length||r.day.push(oe[e.getDay()]);var s,c=r.interval,p=r.day,d=l(e,r),h=!0,u=[];if(p.length>1)for((i.i(te.isNullOrUndefined)(r.wkst)||""===r.wkst)&&(r.wkst=se[0]),s=oe.indexOf(r.wkst);_(a,t);){var g=oe.indexOf(oe[a.getDay()])-s;g=-1===g?6:g;var v=i.i(ie.d)(a,-g),f=i.i(ie.d)(v,6),m=new Date(a.getTime());for(f=i.i(ie.b)(f),m=i.i(ie.b)(m);f>=m&&(p.indexOf(oe[a.getDay()])>-1&&u.push([a.getTime()]),!(d&&n.length+r.recExceptionCount>=d));)a.setDate(a.getDate()+1),a.getHours()!==e.getHours()&&a.setHours(e.getHours()),m=new Date(a.getTime()),m=i.i(ie.b)(m);if(a.setDate(a.getDate()-1),d&&n.length+r.recExceptionCount>=d)break;a.setDate(a.getDate()+1+7*(c-1)),E(u,h,e,t,n,r),u=[]}else{for(a=j(e,r.day);_(a,t)&&(h=G(a,r),h&&p.indexOf(oe[a.getDay()])>-1&&o(n,a.getTime()),!(d&&n.length+r.recExceptionCount>=d));)a.setDate(a.getDate()+7*c);E(u,h,e,t,n,r),u=[]}}function d(e,t,i,n){switch(n.month.length||n.day.length||n.monthDay.length?n.month.length>0&&!n.day.length&&!n.monthDay.length&&n.monthDay.push(e.getDate()):(n.monthDay.push(e.getDate()),"YEARLY"===n.freq&&n.month.push(e.getMonth()+1)),W(n)){case"day":switch(n.freq){case"MONTHLY":b(e,t,i,n);break;case"YEARLY":C(e,t,i,n)}break;case"both":case"date":switch(n.freq){case"MONTHLY":y(e,t,i,n);break;case"YEARLY":m(e,t,i,n)}}}function h(e,t,i,n){switch(v(n)){case"MONTH":d(e,t,i,n);break;case"WEEKNO":u(e,t,i,n);break;case"YEARDAY":g(e,t,i,n)}}function u(e,t,n,r){for(var a,s,o,c,p,d,h=ee.getYearLastDate(e,0),u=l(e,r),g=r.weekNo,v=[],f=r.day;_(h,t);){s=se.indexOf(oe[h.getDay()]),o=6-s+1;for(var m=0;m<g.length;m++)for(c=g[parseInt(m.toString(),10)],c=c>0?c:53+c+1,p=1===c?o:o+7*(c-1),d=1===c?o-7:o+7*(c-2);d<p;)a=new Date(h.getTime()+ie.c*d),(0===f.length||f.indexOf(oe[a.getDay()])>-1)&&(i.i(te.isNullOrUndefined)(r.setPosition)?I(void 0,e,t,n,r,a.getTime()):v.push([a.getTime()])),d++;if(i.i(te.isNullOrUndefined)(r.setPosition)||R(v,void 0,e,t,n,r),u&&n.length+r.recExceptionCount>=u)return;h=ee.getYearLastDate(a,r.interval),v=[]}}function g(e,t,n,r){for(var a,s,o=ee.getYearLastDate(e,0),c=l(e,r),p=[],d=r.day;_(o,t);){for(var h=0;h<r.yearDay.length;h++)s=r.yearDay[parseInt(h.toString(),10)],a=new Date(o.getTime()),s!==ee.getLeapYearDaysCount()&&s!==-ee.getLeapYearDaysCount()||ee.isLeapYear(ee.getFullYear(a),1)?(a.setDate(a.getDate()+(s<0?ee.getYearDaysCount(a,1)+1+s:s)),(0===d.length||d.indexOf(oe[a.getDay()])>-1)&&(null==r.setPosition?I(void 0,e,t,n,r,a.getTime()):p.push([a.getTime()]))):a.setDate(a.getDate()+1);if(i.i(te.isNullOrUndefined)(r.setPosition)||R(p,void 0,e,t,n,r),c&&n.length+r.recExceptionCount>=c)return;o=ee.getYearLastDate(a,r.interval),p=[]}}function v(e){return e.yearDay.length?"YEARDAY":e.weekNo.length?"WEEKNO":"MONTH"}function f(e,t){var i={monthCollection:[],index:0,tempDate:new Date(e.getTime()),mainDate:new Date(e.getTime()),expectedCount:l(e,t),monthInit:0,dateCollection:[]};return t.month.length&&ee.setMonth(i.tempDate,t.month[0],i.tempDate.getDate()),i}function m(e,t,i,n){if(n.month.length)return void y(e,t,i,n);var r,a=f(e,n);for(a.tempDate=a.mainDate=ee.getMonthStartDate(a.tempDate);_(a.tempDate,t);){for(r=new Date(a.tempDate.getTime());ee.isSameYear(r,a.tempDate)&&a.expectedCount&&i.length+n.recExceptionCount<=a.expectedCount;){if(!(0===n.month.length||n.month.length>0&&!ee.checkMonth(a.tempDate,n.month))){ee.setValidDate(a.tempDate,1,1),a.tempDate=j(a.tempDate,n.day);break}T(n,a,t,!1),a.beginDate=new Date(a.tempDate.getTime()),a.monthInit=D(a.tempDate,n,a.monthInit,a.beginDate)}if(a.tempDate.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),E(a.dateCollection,a.state,e,t,i,n),ee.isLastMonth(a.tempDate)&&(ee.setValidDate(a.tempDate,1,1),a.tempDate=j(a.tempDate,n.day)),a.expectedCount&&i.length+n.recExceptionCount>=a.expectedCount)return;a.tempDate.setFullYear(a.tempDate.getFullYear()+n.interval-1),a.tempDate=j(a.tempDate,n.day),a.monthInit=D(a.tempDate,n,a.monthInit,a.beginDate),a.dateCollection=[]}}function y(e,t,n,r){var a=f(e,r);if(a.tempDate=a.mainDate=ee.getMonthStartDate(a.tempDate),!(("MONTHLY"===r.freq&&12===r.interval||"YEARLY"===r.freq)&&ee.getMonthDaysCount(e)<r.monthDay[0]))for(;_(a.tempDate,t);){if(a.beginDate=new Date(a.tempDate.getTime()),T(r,a,t,!0,e,n),i.i(te.isNullOrUndefined)(r.setPosition)||R(a.dateCollection,a.state,e,t,n,r),a.expectedCount&&n.length+r.recExceptionCount>=a.expectedCount)return;a.monthInit=D(a.tempDate,r,a.monthInit,a.beginDate),a.dateCollection=[]}}function T(e,t,n,r,a,s){for(var o=0;o<e.monthDay.length;o++){t.date=e.monthDay[parseInt(o.toString(),10)],t.tempDate=ee.getMonthStartDate(t.tempDate);var l=ee.getMonthDaysCount(t.tempDate);if(t.date=t.date>0?t.date:l+t.date+1,N(t.tempDate,t.date,t.mainDate)&&t.date>0){if(ee.setDate(t.tempDate,t.date),n&&t.tempDate>n)return;(0===e.day.length||e.day.indexOf(oe[t.tempDate.getDay()])>-1)&&(r&&i.i(te.isNullOrUndefined)(e.setPosition)&&t.expectedCount&&s.length+e.recExceptionCount<t.expectedCount?I(t.state,a,n,s,e,t.tempDate.getTime()):t.dateCollection.push([t.tempDate.getTime()]))}}}function D(e,t,n,r,a){void 0===r&&(r=null);var s=r?r.getMonth():0,o=ee.getMonthStartDate(e);return a=i.i(te.isNullOrUndefined)(a)?t.interval:a,e.setFullYear(o.getFullYear()),e.setMonth(o.getMonth()),e.setDate(o.getDate()),t.month.length?(n++,n%=t.month.length,ee.setMonth(e,t.month[parseInt(n.toString(),10)],1),0===n&&ee.addYears(e,a,t.month[0])):(r&&r.getFullYear()<e.getFullYear()&&(s=e.getMonth()-1),ee.setValidDate(e,a,1,s,r)),n}function w(e,t,n,r){var a=r.day,s=new Date(e.getTime());s=ee.getMonthStartDate(s);var o,c,p=[],d=[],h=[],u=l(e,r),g=0;for(r.month.length&&ee.setMonth(s,r.month[0],1),s=j(s,r.day);_(s,t)&&u&&n.length+r.recExceptionCount<u;){var v=new Date(s.getTime());if(a.map(function(e){return Te.test(e)}).indexOf(!0)>-1){for(var f=0;f<=a.length-1;f++){var m=a[parseInt(f.toString(),10)].match(we),y=parseInt(m[0],10);for(s=new Date(s.getTime()),s=ee.getMonthStartDate(s),s=j(s,a),v.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());ee.isSameYear(v,s)&&ee.isSameMonth(v,s);)m[m.length-1]===oe[v.getDay()]&&p.push([v.getTime()]),v.setDate(v.getDate()+1);if(v.setDate(v.getDate()-1),o=m[0].indexOf("-")>-1?p.length- -1*y:y-1,o=isNaN(o)?0:o,p.length>0&&(i.i(te.isNullOrUndefined)(r.setPosition)?R(p,void 0,e,t,n,r,o):d=[V(p,o,h)]),u&&n.length+r.recExceptionCount>=u)return;p=[]}i.i(te.isNullOrUndefined)(r.setPosition)||(k(d,void 0,e,t,n,r),h=[]),g=D(s,r,g,c),s=j(s,r.day),p=[]}else{var T=[],w=q(a);v.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var b=new Date(s.getTime());for(c=new Date(s.getTime());ee.isSameMonth(b,s);)T.push(s.getTime()),a.indexOf(oe[s.getDay()])>-1&&(p.push(T),T=[]),s.setDate(s.getDate()+w[oe[s.getDay()]]);if(o=r.setPosition<1?p.length+r.setPosition:r.setPosition-1,i.i(te.isNullOrUndefined)(r.setPosition)){o=0;for(var C=[],S=0;S<p.length;S++)for(var O=0;O<p[parseInt(S.toString(),10)].length;O++)C.push(p[parseInt(S.toString(),10)][parseInt(O.toString(),10)]);p=[C]}if(p.length>0&&R(p,void 0,e,t,n,r,o),u&&n.length+r.recExceptionCount>=u)return;g=D(s,r,g,c),s=j(s,r.day),p=[]}}}function b(e,t,i,n){if(n.day.length>1)return void w(e,t,i,n);var r,a=new Date(e.getTime()),s=l(e,n),o=[],c=0;for(a=ee.getMonthStartDate(a),n.month.length&&ee.setMonth(a,n.month[0],1),a=j(a,n.day);_(a,t)&&s&&i.length+n.recExceptionCount<s;){r=new Date(a.getTime());for(var p=new Date(a.getTime());ee.isSameMonth(a,p);)o.push([p.getTime()]),p.setDate(p.getDate()+7);A(o,e,t,i,n),c=D(a,n,c,r),a=j(a,n.day),o=[]}}function C(e,t,n,r){var a=r.day,s=a.map(function(e){return Te.test(e)});if(a.length>1&&s.indexOf(!0)>-1)return void S(e,t,n,r);if(r.month.length&&1===a.length&&s.indexOf(!0)>-1)return void b(e,t,n,r);var o,c=new Date(e.getTime()),p=l(e,r),d=r.interval,h=[];for(r.month.length&&ee.setMonth(c,r.month[0],c.getDate()),i.i(te.isNullOrUndefined)(r.setPosition)&&0===r.month.length&&0===r.weekNo.length&&c.setFullYear(e.getFullYear(),0,1),c=ee.getMonthStartDate(c),c=j(c,r.day);_(c,t);){for(o=new Date(c.getTime());ee.isSameYear(o,c)&&p&&n.length+r.recExceptionCount<=p;)for(o=new Date(c.getTime());ee.isSameYear(o,c);){if(!(0===r.month.length||r.month.length>0&&!ee.checkMonth(c,r.month))){ee.setValidDate(c,1,1),c=j(c,r.day);break}if(a.length>1){if(ee.compareMonth(o,c)){ee.setValidDate(c,1,1),c=j(c,r.day);break}a.indexOf(oe[o.getDay()])>-1&&h.push([o.getTime()]),o.setDate(o.getDate()+1)}else{if(o.getFullYear()>c.getFullYear()){ee.setValidDate(c,1,1),c=j(c,r.day);break}var u=H(a[0]);oe[o.getDay()]===u&&new Date(o.getFullYear(),o.getMonth(),0)>new Date(e.getFullYear())&&h.push([o.getTime()]),o.setDate(o.getDate()+7)}}if(c.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),A(h,e,t,n,r),ee.isLastMonth(c)&&(ee.setValidDate(c,1,1),c=j(c,r.day)),c.setFullYear(c.getFullYear()+d-1),p&&n.length+r.recExceptionCount>=p)return;c=j(c,r.day),h=[]}}function S(e,t,n,r){var a,s,o,c=r.day,p=l(e,r),d=new Date(e.getTime()),h=r.interval,u=[],g=[],v=0;d=ee.getMonthStartDate(d);var f=[];for(r.month.length&&ee.setMonth(d,r.month[0],1),d=j(d,r.day);_(d,t);){s=new Date(d.getTime());for(var m=0;m<=r.month.length;m++)for(var y=0;y<=c.length-1;y++){for(d=ee.getMonthStartDate(d),d=j(d,r.day),u=[];ee.isSameYear(s,d)&&p&&n.length+r.recExceptionCount<=p;)for(;ee.isSameYear(s,d);){if(s=new Date(d.getTime()),0===r.month.length||r.month.length>0&&r.month[parseInt(m.toString(),10)]===ee.getMonth(s)){var T=c[parseInt(y.toString(),10)].match(we),w=parseInt(T[0],10);for(o=new Date(d.getTime());ee.isSameYear(o,d)&&ee.isSameMonth(o,d);)T[T.length-1]===oe[o.getDay()]&&u.push([o.getTime()]),o.setDate(o.getDate()+1);o.setDate(o.getDate()-1),a=T[0].indexOf("-")>-1?u.length- -1*w:w-1,a=isNaN(a)?0:a}v=D(d,r,v,void 0,1),d=j(d,r.day)}if(d=0===y&&o?new Date(o.getTime()):new Date(s.getTime()),u.length>0&&(i.i(te.isNullOrUndefined)(r.setPosition)?R(u,void 0,e,t,n,r,a):g=[V(u,a,f)]),p&&n.length+r.recExceptionCount>=p)return}i.i(te.isNullOrUndefined)(r.setPosition)||(k(g,void 0,e,t,n,r),f=[]),ee.isLastMonth(d)?(ee.setValidDate(d,1,1),d.setFullYear(d.getFullYear()+h-1)):d.setFullYear(d.getFullYear()+h),d=j(d,r.day),r.month.length&&ee.setMonth(d,r.month[0],d.getDate())}}function O(e,t){var i,n={monthCollection:[],index:0};if(1===t.length){var r=t[0].match(we),a=void 0;r.length>1?(a=parseInt(r[0],10),i=a<1?e.length+a:a-1):(i=0,e=x(e))}else i=0,e=x(e);return n.monthCollection=e,n.index=i,n}function E(e,t,n,r,a,s){var o=s.setPosition<1?e.length+s.setPosition:s.setPosition-1;i.i(te.isNullOrUndefined)(s.setPosition)&&(o=0,e=x(e)),e.length>0&&R(e,t,n,r,a,s,o)}function x(e){for(var t=[],i=0;i<e.length;i++)for(var n=0;n<e[parseInt(i.toString(),10)].length;n++)t.push(new Date(e[parseInt(i.toString(),10)][parseInt(n.toString(),10)]).getTime());return e=t.length>0?[t]:[]}function A(e,t,i,n,r){var a=r.day,s=[],o=[],l=O(e,a);e=l.monthCollection;var c=l.index;null!=r.setPosition?(o=[V(e,c,s)],k(o,void 0,t,i,n,r)):e.length>0&&R(e,void 0,t,i,n,r,c),s=[]}function V(e,t,i){for(var n=0;n<e[parseInt(t.toString(),10)].length;n++)i.push(e[parseInt(t.toString(),10)][parseInt(n.toString(),10)]);return i}function I(e,t,i,n,r,a){var s=l(t,r),c=new Date(a);e=G(c,r),c>=t&&_(c,i)&&e&&s&&n.length+r.recExceptionCount<s&&o(n,a)}function M(e,t,i,n,r){var a=t||0,s=new Date(e,r.month[0]-1,1),o=new Date(e,r.month[0],0),l=o.getDate(),c=(s.getDay()-a+7)%7,p=c+l,d=Math.ceil(p/7)-1,h=i[parseInt(n.toString(),10)][parseInt(d.toString(),10)];return G(new Date(h),r)?d:d-1}function k(e,t,i,n,r,a){if(e.length>0)for(var s=0;s<e.length;s++){e[parseInt(s.toString(),10)].sort();var o=a.day,l=o.map(function(e){return Te.test(e)}),c="YEARLY"===a.freq&&a.validRules.indexOf("BYMONTH")>-1&&!(l.indexOf(!0)>-1)?M(new Date(e[0][0]).getFullYear(),0,e,s,a):e[parseInt(s.toString(),10)].length+a.setPosition,p=a.setPosition<1?c:a.setPosition-1,d=e[parseInt(s.toString(),10)][parseInt(p.toString(),10)];I(t,i,n,r,a,d)}}function R(e,t,n,r,a,s,o){if(e.length>0){o=i.i(te.isNullOrUndefined)(o)?s.setPosition<1?e.length+s.setPosition:s.setPosition-1:o,e[parseInt(o.toString(),10)].sort();for(var l=0;l<e[parseInt(o.toString(),10)].length;l++){I(t,n,r,a,s,e[parseInt(o.toString(),10)][parseInt(l.toString(),10)])}}}function _(e,t){return!t||e<=t}function H(e){return e.replace(De,"")}function P(e,t){var i=[];return t.forEach(function(e){var t=e.match(we);2===t.length?i.push(t[1]):i.push(t[0])}),-1===i.indexOf(oe[parseInt(e.toString(),10)])}function j(e,t){var i,n=new Date(e.getTime());if(t.length>0){for(var r=[],a=0;a<=t.length-1;a++)i=H(t[parseInt(a.toString(),10)]),r.push(i);if(-1===r.indexOf(oe[n.getDay()]))do{n.setDate(n.getDate()+1)}while(-1===r.indexOf(oe[n.getDay()]))}return n}function L(e){var t,i={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},n=e.split(";"),r=[];if(n.forEach(function(e){switch(r=e.split("="),r[0]){case"UNTIL":t=r[1],i.until=s(t);break;case"BYDAY":i.day=r[1].split(","),i.validRules.push(r[0]);break;case"BYMONTHDAY":i.monthDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYMONTH":i.month=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYYEARDAY":i.yearDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYWEEKNO":i.weekNo=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"INTERVAL":i.interval=parseInt(r[1],10);break;case"COUNT":i.count=parseInt(r[1],10);break;case"BYSETPOS":i.setPosition=parseInt(r[1],10)>4?-1:parseInt(r[1],10);break;case"FREQ":i.freq=r[1];break;case"WKST":i.wkst=r[1]}}),"MONTHLY"===i.freq&&0===i.monthDay.length){var a=i.validRules.indexOf("BYDAY");i.validRules.splice(a,1)}return i}function N(e,t,i){return t<=ee.getMonthDaysCount(e)&&e>=i}function q(e){var t={};return e.forEach(function(i,n){if(n===e.length-1){for(var r=se.indexOf(i),a=r;a%7!==se.indexOf(e[0]);)a++;t[""+i]=a-r}else t[""+i]=se.indexOf(e[n+1])-se.indexOf(i)}),t}function F(e,t){var i,n=t.slice(0),r=ee.getMonthDaysCount(e);for(i=n.shift();i;){if(i<0&&(i=i+r+1),i===e.getDate())return!1;i=n.shift()}return!0}function U(e,t){var i,n=t.slice(0),r=B(e);for(i=n.shift();i;){if(i<0&&(i=i+ee.getYearDaysCount(e,0)+1),i===r)return!1;i=n.shift()}return!0}function B(e){ae[ee.getFullYear(e)]||(ae[ee.getFullYear(e)]=ee.getYearLastDate(e,0));var t=ae[ee.getFullYear(e)],i=e.getTime()-t.getTime();return Math.ceil(i/ie.c)}function W(e){return e.monthDay.length&&!e.day.length?"date":!e.monthDay.length&&e.day.length?"day":"both"}function z(e){var t=e.shift();e.push(t)}function Y(e){for(;se[0]!==e;)z(se)}function G(e,t){var i=!0,n=t.day,r=t.month,a=ee.getExpectedDays(e,t.monthDay),s=t.yearDay;return t.validRules.forEach(function(t){switch(t){case"BYDAY":P(e.getDay(),n)&&(i=!1);break;case"BYMONTH":ee.checkMonth(e,r)&&(i=!1);break;case"BYMONTHDAY":F(e,a)&&(i=!1);break;case"BYYEARDAY":U(e,s)&&(i=!1)}}),i}function X(e){return"Islamic"===e?new ne.b:new ne.a}function Q(e){return[e.getUTCFullYear(),K(e.getUTCMonth()+1),K(e.getUTCDate()),"T",K(e.getUTCHours()),K(e.getUTCMinutes()),K(e.getUTCSeconds()),"Z"].join("")}function K(e){return("0"+e).slice(-2)}t.a=n,t.b=a,t.c=s,t.d=L,t.e=X,t.f=Q;var J,Z,$,ee,te=i(0),ie=(i.n(te),i(1)),ne=i(13),re=i(17),ae={},se=["SU","MO","TU","WE","TH","FR","SA"],oe=["SU","MO","TU","WE","TH","FR","SA"],le=43,ce=["first","second","third","fourth","last"],pe="summaryTimes",de="summaryOn",he="every",ue="summaryUntil",ge="summaryDay",ve="summaryWeek",fe="summaryMonth",me="summaryYear",ye={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},Te=/\d/,De=/[^A-Z]+/,we=/[a-z]+|[^a-z]+/gi},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(14)),a=i(3),s=i(2),o=i(1),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.renderedEvents=[],i.monthHeaderHeight=0,i.moreIndicatorHeight=19,i.renderType="day",i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.maxHeight=i.parent.eventSettings.enableMaxHeight&&!i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.withIndicator=i.parent.eventSettings.enableMaxHeight&&i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.maxOrIndicator=i.maxHeight||i.withIndicator,i.moreIndicatorHeight=i.parent.rowAutoHeight&&i.parent.eventSettings.ignoreWhitespace?0:i.moreIndicatorHeight,i.addEventListener(),i}return l(t,e),t.prototype.removeEventWrapper=function(e){if(e.length>0){e="Month"===this.parent.currentView||!this.parent.activeView.isTimelineView()&&!this.parent.activeViewOptions.timeScale.enable?e:[e[0]];for(var t=0,r=e;t<r.length;t++){var a=r[t];a.parentElement&&a.parentElement.parentNode&&i.i(n.remove)(a.parentElement)}}},t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();var e=this.parent.element.querySelector("."+a.g);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);var t=[].slice.call(this.element.querySelectorAll("."+a.D));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(var r=0,l=this.parent.crudModule.crudObj.sourceEvent.length;r<l;r++){var c=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[parseInt(r.toString(),10)].groupIndex+'"]'));if(this.removeEventWrapper(c),this.parent.crudModule.crudObj.targetEvent[parseInt(r.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(r.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(r.toString(),10)].groupIndex){var p=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[parseInt(r.toString(),10)].groupIndex+'"]'));this.removeEventWrapper(p)}}else for(var d=0,h=t;d<h.length;d++){var u=h[d];i.i(n.remove)(u)}if(this.removeHeightProperty(a.h),this.element.querySelector("."+a.n)){if("Month"===this.parent.currentView){var g=i.i(n.createElement)("div",{className:a.D}),v=this.parent.element.querySelector("."+a.n);v.appendChild(g),this.monthHeaderHeight=g.offsetTop-v.offsetTop,v.removeChild(g)}this.eventHeight=o.h(this.element,a.A);var f=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&!i.i(n.isNullOrUndefined)(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();var m={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&(this.parent.currentAction?(e.scrollTop=f,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(s.G,{}),this.parent.notify(s.J,m),"Month"===this.parent.currentView&&this.parent.showWeekNumber){var y=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child"));[].slice.call(this.parent.element.querySelectorAll("."+a.E)).forEach(function(e,t){var r=y[parseInt(t.toString(),10)].offsetHeight;i.i(n.setStyleAttribute)(e,{height:r+"px"})}),this.parent.element.querySelector("."+a.F).scrollTop=this.parent.element.querySelector("."+a.g).scrollTop}}this.parent.renderTemplates()}},t.prototype.renderEventsHandler=function(e,t,r){this.renderedEvents=[];var s,l,c=0;if(r?(c=r.groupIndex,this.cssClass=r.cssClass,this.groupOrder=r.groupOrder,s=this.parent.eventBase.filterEventsByResource(r,this.parent.eventsProcessed),l=this.parent.eventBase.filterEventsByResource(r,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+a.n+'[data-group-index="'+c+'"]'))):(s=this.parent.eventsProcessed,l=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+a.n))),this.sortByDateTime(s),this.sortByDateTime(l),"Month"===this.parent.currentView&&this.parent.rowAutoHeight&&0===this.parent.activeViewOptions.group.resources.length){var p=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),d=this.parent.element.querySelector("."+a.h).clientHeight/p.length;p.forEach(function(e){i.i(n.setStyleAttribute)(e,{height:d+"px"})})}var h=this.workCells[this.parent.activeView.isTimelineView()?0:this.workCells.length-1].getBoundingClientRect();this.cellWidth=h.width,this.cellHeight=h.height,this.dateRender=e;var u=this.getRenderedDates(e);this.getSlotDates(t||this.parent.activeViewOptions.workDays),this.processBlockEvents(l,c,r);for(var g=[],v=0,f=s;v<f.length;v++){var m=f[v];this.parent.resourceBase&&!r&&(this.cssClass=this.parent.resourceBase.getCssClass(m)),g=g.concat(this.splitEvent(m,u||this.dateRender))}for(var y=0;y<this.slots.length;y++){this.renderedEvents=[];for(var T=this.slots[parseInt(y.toString(),10)],D=o.d(new Date(T[T.length-1]),1),w=this.filterEvents(new Date(T[0]),D,g),b=0,C=w;b<C.length;b++){var S=C[b];if(this.maxHeight){var O="Month"===this.parent.currentView?S[this.fields.startTime]:this.getStartTime(S,S.data);if(this.getIndex(O)>0)continue}this.updateIndicatorIcon(S),this.renderEvents(S,c,s)}}this.cssClass=null,this.groupOrder=null},t.prototype.processBlockEvents=function(e,t,r){for(var a=0,s=e;a<s.length;a++){var l=s[a];this.parent.resourceBase&&!r&&(this.cssClass=this.parent.resourceBase.getCssClass(l));var c=[];if("day"!==this.renderType||l[this.fields.isAllDay])c.push(l);else{var p=i.i(n.extend)({},l,null,!0),d=this.isSameDate(p[this.fields.startTime],p[this.fields.endTime]);if(p.isBlockIcon=d,!d&&o.s(p[this.fields.startTime])>0){var h=i.i(n.extend)({},l,null,!0);h[this.fields.endTime]=o.d(o.b(new Date(l[this.fields.startTime]+"")),1),h.isBlockIcon=!0,p[this.fields.startTime]=h[this.fields.endTime],c.push(h)}if(!(d=this.isSameDate(p[this.fields.startTime],p[this.fields.endTime]))&&o.s(p[this.fields.endTime])>0){var h=i.i(n.extend)({},l,null,!0);h[this.fields.startTime]=o.b(new Date(l[this.fields.endTime]+"")),h.isBlockIcon=!0,c.push(h),p[this.fields.endTime]=h[this.fields.startTime]}c.push(p)}for(var u=0,g=c;u<g.length;u++)for(var v=g[u],f=this.splitEvent(v,this.dateRender),m=0,y=f;m<y.length;m++){var T=y[m];this.renderBlockEvents(T,t,!!v.isBlockIcon)}}},t.prototype.isSameDate=function(e,t){return new Date(+e).setHours(0,0,0,0)===new Date(+t).setHours(0,0,0,0)},t.prototype.renderBlockEvents=function(e,t,r){var a=e.data,s=this.getStartTime(e,a),l=this.getEndTime(e,a),c=this.parent.getIndexOfDate(this.dateRender,o.b(new Date(s.getTime())));if(!(c<0||s>l)){var p=this.getCellTd(c),d=this.getPosition(s,l,e[this.fields.isAllDay],c);if(r)this.renderBlockIndicator(p,d,t);else{var h=a.count,u=this.getEventWidth(s,l,e[this.fields.isAllDay],h);u=u<=0?this.cellWidth:u;var g=this.parent.enableRtl?0:d,v=this.parent.enableRtl?d:0,f=this.cellHeight-this.monthHeaderHeight,m=this.getRowTop(t),y=this.createBlockAppointmentElement(e,t,this.isResourceEventTemplate);i.i(n.setStyleAttribute)(y,{width:u+"px",height:f+"px",left:g+"px",right:v+"px",top:m+"px"}),this.renderEventElement(e,y,p)}}},t.prototype.renderBlockIndicator=function(e,t,r){var s=i.i(n.createElement)("div",{className:"e-icons "+a.C});i.i(n.isNullOrUndefined)(e.querySelector("."+a.C))&&e.appendChild(s)},t.prototype.getStartTime=function(e,t){return e[this.fields.startTime]},t.prototype.getEndTime=function(e,t){return e[this.fields.endTime]},t.prototype.getCellTd=function(e){return this.workCells[parseInt(e.toString(),10)]},t.prototype.getEventWidth=function(e,t,i,n){return n*this.cellWidth-1},t.prototype.getPosition=function(e,t,i,n){return 0},t.prototype.getRowTop=function(e){return 0},t.prototype.updateIndicatorIcon=function(e){if(-1!==this.parent.currentView.indexOf("Timeline")&&"TimelineMonth"!==this.parent.currentView&&!e[this.fields.isAllDay]){var t=e.data,i=this.parent.activeView.getStartHour(),n=this.parent.activeView.getEndHour(),r=o.w(e[this.fields.startTime],i,n),a=o.w(e[this.fields.endTime],i,n),s=t[this.fields.startTime],l=t[this.fields.endTime];if(t.isLeft=t.isLeft||s.getTime()<r.startHour.getTime(),t.isRight=t.isRight||l.getTime()>a.endHour.getTime(),o.b(s).getTime()!==o.b(l).getTime()){var c=r.startHour,p=a.endHour,d=new Date(o.b(s));if(d.setHours(p.getHours(),p.getMinutes(),p.getSeconds()),t.isLeft=t.isLeft||s.getTime()>=(c.getDate()===r.endHour.getDate()?d.getTime():o.d(d,1).getTime()),l.getTime()!==o.b(l).getTime()){var h=new Date(o.b(l));t.isRight=t.isRight||l.getTime()<=h.setHours(c.getHours(),c.getMinutes(),c.getSeconds())}}}},t.prototype.renderResourceEvents=function(){var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)];if(this.renderEventsHandler(n.renderDates,n.workDays,n),this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)].groupIndex){var r=this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)];this.renderEventsHandler(r.renderDates,r.workDays,r)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var a=0,s=e;a<s.length;a++){var o=s[a];this.renderEventsHandler(o.renderDates,o.workDays,o)}},t.prototype.getSlotDates=function(e){this.slots=[];for(var t=this.dateRender.map(function(e){return+e}),i=!this.parent.activeViewOptions.showWeekend||this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays?e.length:o.e;t.length>0;)this.slots.push(t.splice(0,i))},t.prototype.createAppointmentElement=function(e,t,r){void 0===r&&(r=!1);var s=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),o=i.i(n.extend)({},e,e.data,!0),l={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(o,s)};r||(l["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(l["data-group-index"]=t.toString());var c=i.i(n.createElement)("div",{className:a.A,attrs:l});i.i(n.isNullOrUndefined)(this.cssClass)||i.i(n.addClass)([c],this.cssClass),e[this.fields.isReadonly]&&i.i(n.addClass)([c],"e-read-only");var p=i.i(n.createElement)("div",{className:a.G});c.appendChild(p);var d,h=e.data,u=this.getEventData(e);if(i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.eventTemplate)){var g=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",v=i.i(n.createElement)("div",{className:a.H});this.parent.sanitize(s+(g?"; "+g:""),v);var f=i.i(n.createElement)("div",{className:a.I+(this.parent.isAdaptive?" "+a.J:""),innerHTML:this.parent.getTimeString(h[this.fields.startTime])}),m=i.i(n.createElement)("div",{className:a.I+(this.parent.isAdaptive?" "+a.J:""),innerHTML:this.parent.getTimeString(h[this.fields.endTime])});if("Month"===this.parent.currentView)e[this.fields.isAllDay]?(d=[v],i.i(n.addClass)([v],"e-text-center")):h.count<=1&&!h.isLeft&&!h.isRight?d=[f,v]:(d=[],i.i(n.addClass)([v],"e-text-center"),h.isLeft||d.push(f),d.push(v),h.isRight||d.push(m));else{var y=void 0;if(e[this.fields.isAllDay]){y=[v,i.i(n.createElement)("div",{className:a.I,innerHTML:this.parent.localeObj.getConstant("allDay")})]}else{var T=this.parent.getTimeString(h[this.fields.startTime])+" - "+this.parent.getTimeString(h[this.fields.endTime]),D=i.i(n.createElement)("div",{className:a.I+(this.parent.isAdaptive?" "+a.J:""),innerHTML:T}),w=i.i(n.createElement)("div",{className:a.K});this.parent.sanitize(g,w),y=[v,D,w]}var b=i.i(n.createElement)("div",{className:"e-inner-wrap"});i.i(n.append)(y,b),d=[b]}}else{var C=this.parent.element.id+"_",S=this.parent.activeViewOptions.eventTemplateName,O=C+S+"eventTemplate",E="eventTemplate"+(this.isResourceEventTemplate?"_"+t:"");d=this.parent.getAppointmentTemplate()(u,this.parent,E,O,!1)}return i.i(n.append)(d,p),this.appendEventIcons(e,p),this.renderResizeHandler(c,e.data,e[this.fields.isReadonly]),c},t.prototype.appendEventIcons=function(e,t){var r=e.data;if(!i.i(n.isNullOrUndefined)(e[this.fields.recurrenceRule])||!i.i(n.isNullOrUndefined)(e[this.fields.recurrenceID])){var s=e[this.fields.id]===e[this.fields.recurrenceID]?a.L:a.M;t.appendChild(i.i(n.createElement)("div",{className:a.N+" "+s+(this.parent.isAdaptive?" "+a.J:"")}))}if(r.isLeft){var o=i.i(n.createElement)("div",{className:a.O+" "+a.N+" "+a.P});i.i(n.prepend)([o],t)}if(r.isRight){var l=i.i(n.createElement)("div",{className:a.O+" "+a.N+" "+a.Q});i.i(n.append)([l],t)}},t.prototype.renderEvents=function(e,t,r){var s=e[this.fields.startTime],l=e[this.fields.endTime],c=this.parent.getIndexOfDate(this.dateRender,o.b(s));if(!(c<0||s.getTime()<this.parent.minDate.getTime()||l.getTime()>this.parent.maxDate.getTime())){var p=this.getIndex(s);e.Index=p;var d=e.data.count;if(s.getTime()<=l.getTime()){var h=d*this.cellWidth-5,u=this.workCells[parseInt(c.toString(),10)],g=p*(this.eventHeight+0),v=this.monthHeaderHeight+(p+1)*(this.eventHeight+0)+this.moreIndicatorHeight,f=this.maxOrIndicator?p<1:this.cellHeight>v;if(this.parent.rowAutoHeight||f){this.renderedEvents.push(i.i(n.extend)({},e,null,!0));var m=void 0;if(m=this.inlineValue?this.parent.inlineModule.createInlineAppointmentElement():this.createAppointmentElement(e,t),this.applyResourceColor(m,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(m,e),i.i(n.setStyleAttribute)(m,{width:h+"px",top:g+"px"}),this.renderEventElement(e,m,u),this.parent.rowAutoHeight){var y=u.parentElement.firstElementChild;this.updateCellHeight(y,v)}}else for(var T=0;T<d;T++)if(this.workCells[c+T]){var D=this.workCells[c+T].querySelector("."+a.z);if(D){var w=parseInt(D.getAttribute("data-count"),10)+1;D.setAttribute("data-count",w.toString()),D.innerHTML=this.getMoreIndicatorText(w)}else{var b=new Date(this.dateRender[c+T].getTime()),C=o.d(this.dateRender[c+T],1),S=this.workCells[c+T].getAttribute("data-group-index"),O=this.getMoreIndicatorElement(1,b,C);i.i(n.isNullOrUndefined)(S)||O.setAttribute("data-group-index",S),O.style.top=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight+"px",O.style.width=this.cellWidth-2+"px",this.renderElement(this.workCells[c+T],O),n.EventHandler.add(O,"click",this.moreIndicatorClick,this)}}}}},t.prototype.updateCellHeight=function(e,t){t>e.offsetHeight&&i.i(n.setStyleAttribute)(e,{height:t+"px"})},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+a.B)),t=0,r=e;t<r.length;t++){var s=r[t],o=i.i(n.closest)(s,"tr");this.monthHeaderHeight=s.offsetParent.offsetTop-o.offsetTop,s.style.height=o.offsetHeight-1-this.monthHeaderHeight+"px";var l=o.firstElementChild,c=Math.round(s.offsetWidth/l.offsetWidth);s.style.width=l.offsetWidth*c+"px"}},t.prototype.getFilteredEvents=function(e,t,r,a){var s;if(i.i(n.isNullOrUndefined)(r))s=this.filterEvents(e,t);else{var o=this.parent.resourceBase.lastResourceLevel[parseInt(r,10)];s=this.filterEvents(e,t,i.i(n.isNullOrUndefined)(a)?void 0:a,o)}return s},t.prototype.getOverlapEvents=function(e,t){for(var i=[],n=o.b(e).getTime(),r=0,a=t;r<a.length;r++){var s=a[r];o.b(s[this.fields.startTime]).getTime()<=n&&o.b(s[this.fields.endTime]).getTime()>=n&&i.push(s)}return i},t.prototype.getIndex=function(e){var t=-1,i=this.renderedEvents;if(i.length>0){var n=this.getOverlapEvents(e,i),r=n.map(function(e){return e.Index});t=r.length>0?this.getSmallestMissingNumber(r):0}return-1===t?0:t},t.prototype.moreIndicatorClick=function(e){var t=this,r=i.i(n.closest)(e.target,"."+a.z),o=new Date(parseInt(r.getAttribute("data-start-date"),10)),l=new Date(parseInt(r.getAttribute("data-end-date"),10)),c=r.getAttribute("data-group-index"),p={cancel:!1,event:e,element:r,isPopupOpen:!0,startTime:o,endTime:l,viewName:this.parent.getNavigateView()};c&&(p.groupIndex=parseInt(c,10)),this.parent.trigger(s.c,p,function(i){if(!i.cancel)if(i.isPopupOpen){var n=t.getFilteredEvents(o,l,c),r={date:o,event:n,element:e.target};t.parent.quickPopup.moreEventClick(r,l,c)}else t.parent.setProperties({selectedDate:o},!0),t.parent.changeView(i.viewName,e)})},t.prototype.renderEventElement=function(e,t,i){var n=this,r=t.classList.contains(a.B)?"blockEvent":"event",o=t.classList.contains(a.A),l=this.getEventData(e),c={data:l,element:t,cancel:!1,type:r};this.parent.trigger(s.m,c,function(e){e.cancel?n.renderedEvents.pop():n.renderElement(i,t,o)})},t.prototype.getEventData=function(e){var t=i.i(n.extend)({},e,null,!0);return t[this.fields.startTime]=e.data[this.fields.startTime],t[this.fields.endTime]=e.data[this.fields.endTime],t},t.prototype.renderElement=function(e,t,r){void 0===r&&(r=!1),this.maxOrIndicator&&r&&this.setMaxEventHeight(t,e);var s=e.querySelector("."+a.D);if(s)s.appendChild(t);else{var o=i.i(n.createElement)("div",{className:a.D});o.appendChild(t),e.appendChild(o)}},t.prototype.getMoreIndicatorElement=function(e,t,r){return i.i(n.createElement)("div",{className:a.z,innerHTML:this.getMoreIndicatorText(e),attrs:{tabindex:"0","data-count":e.toString(),"data-start-date":t.getTime().toString(),"data-end-date":r.getTime().toString()}})},t.prototype.getMoreIndicatorText=function(e){return"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))},t.prototype.removeHeightProperty=function(e){for(var t=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr")),i=0,n=t;i<n.length;i++){n[i].firstElementChild.style.height=""}},t.prototype.setMaxEventHeight=function(e,t){var r=o.D(t.querySelector("."+a.o)),s=t.offsetHeight-r-(this.maxHeight?0:this.moreIndicatorHeight);i.i(n.setStyleAttribute)(e,{height:s+"px","align-items":"center"})},t.prototype.destroy=function(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),e.prototype.destroy.call(this)},t}(r.a)},function(e,i){e.exports=t},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=(i.n(n),i(3)),a=i(1),s=i(5),o=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(e){function t(t,i){var n=e.call(this,t)||this;n.startHour=n.parent.activeView.getStartHour(),n.endHour=n.parent.activeView.getEndHour(),n.slotCount=n.parent.activeViewOptions.timeScale.slotCount,n.interval=n.parent.activeViewOptions.timeScale.interval,n.day=0,n.rowIndex=0,n.cellTops=[],n.renderType=i,n.eventContainers=[].slice.call(n.element.querySelectorAll("."+r.l));var a=[].slice.call(n.element.querySelectorAll("."+r.h+" tbody tr"));return n.dayLength=0===a.length?0:a[0].children.length,n.content=n.parent.element.querySelector("."+r.h),n}return o(t,e),t.prototype.getSlotDates=function(){if(this.slots=[],this.slots.push(this.parent.activeView.renderDates.map(function(e){return+e})),this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option){this.renderType="day";var e=this.content.querySelector("."+r.n);this.cellWidth=e.getBoundingClientRect().width/+(e.getAttribute("colspan")||1),this.slotsPerDay=1}else this.slotsPerDay=this.dayLength/this.dateRender.length},t.prototype.getOverlapEvents=function(e,t){var i=[];if("day"===this.renderType)for(var n=0,r=t;n<r.length;n++){var s=r[n];a.b(s[this.fields.startTime]).getTime()<=a.b(new Date(e.getTime())).getTime()&&a.b(s[this.fields.endTime]).getTime()>=a.b(new Date(e.getTime())).getTime()&&i.push(s)}else for(var o=0,l=t;o<l.length;o++){var s=l[o],c=s.data;c.trimStartTime.getTime()<=e.getTime()&&c.trimEndTime.getTime()>e.getTime()&&i.push(s)}return i},t.prototype.getSortComparerIndex=function(e,t){var i=-1,n=this.renderedEvents;if(n.length>0){var r=this.getOverlapSortComparerEvents(e,t,n),a=r.map(function(e){return e.Index});i=a.length>0?this.getSmallestMissingNumber(a):0}return-1===i?0:i},t.prototype.getOverlapSortComparerEvents=function(e,t,i){for(var n=[],r=0,s=i;r<s.length;r++){var o=s[r];if("day"===this.renderType)a.b(o[this.fields.startTime]).getTime()<=a.b(new Date(e.getTime())).getTime()&&a.b(o[this.fields.endTime]).getTime()>=a.b(new Date(e.getTime())).getTime()&&n.push(o);else{var l=o.data;(l.trimStartTime.getTime()<=e.getTime()&&e.getTime()<l.trimEndTime.getTime()||e.getTime()<=l.trimStartTime.getTime()&&l.trimStartTime.getTime()<t.getTime())&&n.push(o)}}return n},t.prototype.renderResourceEvents=function(){this.removeHeightProperty(r.y);var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)];if(this.rowIndex=n.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,n),this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)].groupIndex){var a=this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)];this.rowIndex=a.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,a)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var t=0;t<e.length;t++)this.rowIndex=t,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,e[parseInt(t.toString(),10)])},t.prototype.renderEvents=function(e,t,s){var o=e[this.fields.startTime],l=e[this.fields.endTime];if(!(o.getTime()<this.parent.minDate.getTime()||l.getTime()>this.parent.maxDate.getTime())){var c=e.data;o=this.getStartTime(e,c),l=this.getEndTime(e,c);var p=a.w(e[this.fields.startTime],this.startHour,this.endHour),d=this.updateEventMinimumDuration(p,o,l);if(o=d.startDate,l=d.endDate,this.day=this.parent.getIndexOfDate(this.dateRender,a.b(new Date(o.getTime()))),!(this.day<0)){var h=this.getCellTd(),u=i.i(n.isNullOrUndefined)(this.parent.eventSettings.sortComparer)?this.getIndex(o):this.getSortComparerIndex(o,l);e.Index=u;var g=this.eventHeight,v=c.count,f=i.i(n.extend)({},e,null,!0);f[this.fields.startTime]=c[this.fields.startTime],f[this.fields.endTime]=c[this.fields.endTime];var m=a.b(new Date(this.dateRender[this.day].getTime())),y=a.w(m,this.startHour,this.endHour),T=!0;if(T=!(!this.isDayProcess()&&!f[this.fields.isAllDay])||this.isValidEvent(f,o,l,y),o<=l&&T){var D=this.getEventWidth(o,l,e[this.fields.isAllDay],v);D="day"===this.renderType?D-2:D;var w=0,b=0,C=this.getPosition(o,l,e[this.fields.isAllDay],this.day);D=D<=0?this.cellWidth:D,this.renderedEvents.push(i.i(n.extend)({},e,null,!0)),i.i(n.isNullOrUndefined)(this.cellTops[parseInt(t.toString(),10)])&&(this.cellTops[parseInt(t.toString(),10)]=this.getRowTop(t));var S=this.cellTops[parseInt(t.toString(),10)],O=S+(this.maxHeight?0:2)+u*(g+2);w=this.parent.enableRtl?0:C,b=this.parent.enableRtl?C:0;var E=(u+1)*(g+2)+this.moreIndicatorHeight,x=this.maxOrIndicator?u<1:this.cellHeight>E;if(this.parent.rowAutoHeight||x){var A=void 0;if(A=i.i(n.isNullOrUndefined)(this.inlineValue)?this.createAppointmentElement(e,t):this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(A,e,"backgroundColor",this.groupOrder),i.i(n.setStyleAttribute)(A,{width:D+"px",left:w+"px",right:b+"px",top:O+"px"}),this.wireAppointmentEvents(A,e),this.parent.rowAutoHeight){var V=this.parent.element.querySelector("."+r.g),I=V.getBoundingClientRect().width,M=V.offsetHeight===V.clientHeight&&V.offsetWidth===V.clientWidth;this.renderEventElement(e,A,h);var k=this.getFirstChild(t);this.updateCellHeight(k,E),M&&(V.offsetWidth>V.clientWidth||I!==V.getBoundingClientRect().width)&&this.adjustAppointments(I)}else this.renderEventElement(e,A,h)}else for(var R=0;R<v;R++){var _=h.querySelector("."+r.z),H=this.parent.enableRtl?b:w;H=Math.floor(H/this.cellWidth)*this.cellWidth;var P=this.interval/this.slotCount,j="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType||0!==R?new Date(this.dateRender[this.day+R].getTime()):new Date(o),L=a.d(this.dateRender[this.day+R],1);if("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType){var N=this.getPosition(j,L,e[this.fields.isAllDay],this.day+R);this.renderTimelineMoreIndicator(o,j,L,g,P,t,s,S,w,b,h,_,H,N)}else for(var q=(a.G(l)-a.G(o))/a.g*this.slotCount/this.interval,F=0;F<q&&(j=0===F?new Date(j.getTime()):new Date(j.getTime()+6e4*P),L=new Date(j.getTime()+6e4*P),!(L.getTime()>l.getTime()));F++){var U=this.getPosition(j,L,!1,this.day+R);if(H>U)break;H=U,this.renderTimelineMoreIndicator(o,j,L,g,P,t,s,S,w,b,h,_,H,U)}}}this.parent.renderTemplates()}}},t.prototype.renderTimelineMoreIndicator=function(e,t,r,a,s,o,l,c,p,d,h,u,g,v){if(p=this.parent.enableRtl?d=v:v,g=this.parent.enableRtl?d:p,g=Math.floor(g/this.cellWidth)*this.cellWidth,h&&i.i(n.isNullOrUndefined)(u)||!this.isAlreadyAvail(g,h)){var f="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType?new Date(+e):t,m=new Date(f.setMinutes(Math.floor(f.getMinutes()/s)*s)),y=new Date(m.getTime()+6e4*s),T=void 0;this.parent.activeViewOptions.group.resources.length>0&&!i.i(n.isNullOrUndefined)(o)&&(T=o.toString());var D=this.getFilterEvents(t,r,m,y,T,l),w=this.cellHeight-this.moreIndicatorHeight;a=this.withIndicator?w-2:a;var b=Math.floor(w/(a+2)),C=D.length-b<=0?1:D.length-b,S=void 0;S="day"===this.renderType?this.getMoreIndicatorElement(C,t,r):this.getMoreIndicatorElement(C,m,y),i.i(n.isNullOrUndefined)(T)||S.setAttribute("data-group-index",T),S.style.top=c+w+"px",S.style.width=this.cellWidth+"px",S.style.left=Math.floor(p/this.cellWidth)*this.cellWidth+"px",S.style.right=Math.floor(d/this.cellWidth)*this.cellWidth+"px",this.renderElement(h,S),n.EventHandler.add(S,"click",this.moreIndicatorClick,this)}},t.prototype.updateCellHeight=function(e,t){if(t>(""===e.style.height?this.cellHeight:parseInt(e.style.height,10))){if(i.i(n.setStyleAttribute)(e,{height:t+"px"}),this.parent.activeViewOptions.group.resources.length>0){var a=this.parent.element.querySelector("."+r.y+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');a&&i.i(n.setStyleAttribute)(a,{height:t+"px"})}var s=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");s&&i.i(n.setStyleAttribute)(s,{height:t+"px"})}},t.prototype.adjustAppointments=function(e){var t=this,i=this.parent.element.querySelector("."+r.h+" tbody tr");this.cellWidth=this.workCells[0].getBoundingClientRect().width;var n=this.cellWidth*i.children.length/(e/100);[].slice.call(this.parent.element.querySelectorAll("."+r.A)).forEach(function(e){t.parent.enableRtl&&"0px"!==e.style.right?e.style.right=parseFloat(e.style.right)/100*n+"px":"0px"!==e.style.left&&(e.style.left=parseFloat(e.style.left)/100*n+"px"),e.style.width=parseFloat(e.style.width)/100*n+"px"})},t.prototype.getFirstChild=function(e){var t="."+r.h+" tbody td",i="";return this.parent.activeViewOptions.group.resources.length>0&&(i='[data-group-index="'+e.toString()+'"]'),this.parent.element.querySelector(t+i)},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+r.B)),t=0,i=e;t<i.length;t++){var n=i[t],a=parseInt(n.getAttribute("data-group-index"),10),s=this.getFirstChild(a);n.style.height=s.offsetHeight+"px";var o=Math.round(n.offsetWidth/s.offsetWidth);n.style.width=s.offsetWidth*o+"px"}for(var l=[].slice.call(this.element.querySelectorAll("."+r.C)),c=0,p=l;c<p.length;c++){var n=p[c],a=parseInt(n.getAttribute("data-group-index"),10);n.style.top=this.getRowTop(a)+this.getFirstChild(a).offsetHeight-18+"px"}},t.prototype.getStartTime=function(e,t){var i=e[this.fields.startTime],n=a.w(i,this.startHour,this.endHour);return i=this.isDayProcess()?e[this.fields.startTime]:n.startHour.getTime()>=t[this.fields.startTime]?n.startHour:n.endHour.getTime()<=t[this.fields.startTime]?this.getNextDay(n.startHour,t):t[this.fields.startTime],t.trimStartTime=e[this.fields.isAllDay]?n.startHour:t[this.fields.startTime],i},t.prototype.getNextDay=function(e,t){for(var i,n=1;n<=this.dateRender.length;n++)if(i=a.d(e,n),-1!==this.parent.getIndexOfDate(this.dateRender,a.b(new Date(e.getTime()))))return t.count=t.count-1,i;return i},t.prototype.getEndTime=function(e,t){var i=e[this.fields.endTime],n=a.w(i,this.startHour,this.endHour);return this.isDayProcess()?i=t[this.fields.endTime]:(i=t[this.fields.endTime],(n.endHour.getTime()<=t[this.fields.endTime]||e[this.fields.isAllDay])&&(i=n.endHour),n.startHour.getTime()>=t[this.fields.endTime].getTime()&&!e[this.fields.isAllDay]&&(i=this.getPreviousDay(n.startHour,n.endHour,t))),t.trimEndTime=e[this.fields.isAllDay]?n.endHour:t[this.fields.endTime],i},t.prototype.getPreviousDay=function(e,t,i){for(var n=1;n<=this.dateRender.length;n++){var r=a.d(t,-n);if(-1!==this.parent.getIndexOfDate(this.dateRender,a.b(new Date(e.getTime())))){r=a.b(new Date(r.getTime())),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds());var s=i.count,o=i[this.fields.endTime];return i.count=0!==o.getHours()||0!==o.getMinutes()?s-1:s,r}}return i[this.fields.endTime]},t.prototype.getEventWidth=function(e,t,i,n){return"day"===this.renderType||i?n*this.slotsPerDay*this.cellWidth:this.isSameDay(e,t)?this.getSameDayEventsWidth(e,t):this.getSpannedEventsWidth(e,t,n)},t.prototype.getSameDayEventsWidth=function(e,t){return(a.G(t)-a.G(e))/a.g*(this.cellWidth*this.slotCount)/this.interval},t.prototype.getSpannedEventsWidth=function(e,t,i){var n,r=i*this.slotsPerDay*this.cellWidth,s=a.w(a.b(new Date(e.getTime())),this.startHour,this.endHour),o=this.getSameDayEventsWidth(s.startHour,e);if(-1===this.parent.getIndexOfDate(this.dateRender,a.b(new Date(t.getTime()))))n=0;else{var l=a.w(a.b(new Date(t.getTime())),this.startHour,this.endHour);n=this.getSameDayEventsWidth(t,l.endHour),n=this.slotsPerDay*this.cellWidth===n?0:n}var c=o+n;return r>c?r-c:r-o},t.prototype.isSameDay=function(e,t){return this.parent.getIndexOfDate(this.dateRender,a.b(new Date(e.getTime())))===this.parent.getIndexOfDate(this.dateRender,a.b(new Date(t.getTime())))},t.prototype.getAppointmentLeft=function(e,t,i){var n=this.isSameDay(t,e.startHour)?(a.G(t)-a.G(e.startHour))/(a.g*this.interval)*this.slotCount:0;return 0===i?n:Math.round((a.G(e.endHour)-a.G(e.startHour))/a.g/this.interval*this.slotCount)*i+n},t.prototype.getPosition=function(e,t,i,n){if("day"===this.renderType||i)return n*this.slotsPerDay*this.cellWidth;var r=a.b(new Date(this.dateRender[parseInt(n.toString(),10)].getTime())),s=a.w(r,this.startHour,this.endHour);return(s.endHour.getTime()<=t.getTime()&&s.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(s,s.startHour,n):s.endHour.getTime()<=t.getTime()?this.getAppointmentLeft(s,e,n):s.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(s,s.startHour,n):this.getAppointmentLeft(s,e,n))*this.cellWidth},t.prototype.getFilterEvents=function(e,t,i,n,r,a){return"day"===this.renderType?this.getFilteredEvents(e,t,r,a):this.getFilteredEvents(i,n,r,a)},t.prototype.isAlreadyAvail=function(e,t){for(var i=[].slice.call(t.querySelectorAll("."+r.z)),n=0;n<i.length;n++){var a=void 0;if(i&&(a=this.parent.enableRtl?i[parseInt(n.toString(),10)].style.right:i[parseInt(n.toString(),10)].style.left),parseInt(a,10)===Math.floor(e))return!0}return!1},t.prototype.getRowTop=function(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+r.g+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0},t.prototype.getCellTd=function(){var e=this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex;return this.eventContainers[parseInt(e.toString(),10)]},t.prototype.renderBlockIndicator=function(e,t,a){if(!(this.parent.headerRows.length>0&&("Hour"!==this.parent.headerRows[this.parent.headerRows.length-1].option||"Date"!==this.parent.headerRows[this.parent.headerRows.length-1].option)||(t=Math.floor(t/this.cellWidth)*this.cellWidth+this.cellWidth-22,this.isAlreadyAvail(t,e)))){var s=i.i(n.createElement)("div",{className:"e-icons "+r.C});this.parent.activeViewOptions.group.resources.length>0&&s.setAttribute("data-group-index",a.toString()),this.parent.enableRtl?s.style.right=t+"px":s.style.left=t+"px",s.style.top=this.getRowTop(a)+this.cellHeight-18+"px",this.renderElement(e,s)}},t.prototype.setMaxEventHeight=function(e,t){i.i(n.setStyleAttribute)(e,{height:this.cellHeight-(this.maxHeight?0:2)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})},t.prototype.isDayProcess=function(){return"TimelineMonth"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option},t.prototype.destroy=function(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,e.prototype.destroy.call(this),this.parent=null},t}(s.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(3)),a=i(2),s=i(1),o=function(){function e(e){this.previousNextAction="next",this.parent=e}return e.prototype.isTimelineView=function(){return-1!==this.parent.currentView.indexOf("Timeline")},e.prototype.getContentRows=function(){return[]},e.prototype.refreshHeader=function(){},e.prototype.refreshResourceHeader=function(){i.i(n.remove)(this.element.querySelector("tbody").lastElementChild.firstElementChild);var e=i.i(n.createElement)("td");e.appendChild(this.parent.resourceBase.createResourceColumn()),i.i(n.prepend)([e],this.element.querySelector("tbody").lastElementChild),this.parent.notify(a.G,{})},e.prototype.getDayName=function(e){return this.parent.getDayNames("abbreviated")[e.getDay()]},e.prototype.getDate=function(e){return this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})},e.prototype.getTime=function(e){return this.parent.isAdaptive?"HH:mm"===this.parent.activeViewOptions.timeFormat||"HH.mm"===this.parent.activeViewOptions.timeFormat?this.parent.globalize.formatDate(e,{format:"H",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e,{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(e)},e.prototype.getTimelineDate=function(e){var t=this.parent.globalize.formatDate(e,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[e.getDay()];return s.a(t,"multiple")},e.prototype.createEventTable=function(e){var t=i.i(n.createElement)("div",{className:r.i});return i.i(n.append)(this.getEventRows(e),t),t},e.prototype.getEventRows=function(e){for(var t,a=[],s=0;s<e;s++)t=i.i(n.createElement)("div",{className:r.l}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&t.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[parseInt(s.toString(),10)].groupIndex.toString()),a.push(t);return a},e.prototype.collapseRows=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(e.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(e.querySelector("."+r.i)))},e.prototype.createTableLayout=function(e){var t=e||"",a=i.i(n.createElement)("table",{className:r.j+" "+t}),s=i.i(n.createElement)("tbody");return a.appendChild(s),a},e.prototype.setAriaAttributes=function(e){e.setAttribute("role","grid"),e.setAttribute("aria-label",this.getLabelText(this.parent.currentView))},e.prototype.createColGroup=function(e,t){var r=t.length;t[0]&&t[0].colSpan&&(r=t.map(function(e){return e.colSpan}).reduce(function(e,t){return e+t}));for(var a=i.i(n.createElement)("colgroup"),s=0;s<r;s++)a.appendChild(i.i(n.createElement)("col"));i.i(n.prepend)([a],e)},e.prototype.getScrollXIndent=function(e){return e.offsetHeight-e.clientHeight>0?s.A():0},e.prototype.scrollTopPanel=function(e){this.getDatesHeaderElement().firstElementChild.scrollLeft=e.scrollLeft},e.prototype.scrollHeaderLabels=function(e){for(var t=this.element.querySelector(".e-date-header-wrap table"),r=t.offsetWidth/t.querySelectorAll("colgroup col").length,a=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"],s=0,o=a;s<o.length;s++){var l=o[s],c=[].slice.call(this.element.querySelectorAll(l));if(c.length>0){for(var p=0,d=c;p<d.length;p++){d[p].children[0].style[this.parent.enableRtl?"right":"left"]=""}!function(t,a){for(var s,o=0,l=0,c=a?-e.scrollLeft:e.scrollLeft,p=0,d=t;p<d.length;p++){var h=d[p];if((l+=parseInt(h.getAttribute("colSpan"),10))>Math.floor(c/r)){s=h;break}o+=h.offsetWidth}i.i(n.isNullOrUndefined)(s)||(s.children[0].style[a?"right":"left"]=c-o+"px")}(c,this.parent.enableRtl)}}},e.prototype.addAttributes=function(e,t){e.template&&i.i(n.append)(e.template,t),e.colSpan&&t.setAttribute("colspan",e.colSpan.toString()),e.className&&i.i(n.addClass)([t],e.className)},e.prototype.getHeaderBarHeight=function(){var e=2;if(this.parent.headerModule&&(e+=s.D(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var t=this.parent.element.querySelector("."+r._38);t&&(e+=t.offsetHeight)}return e},e.prototype.renderPanel=function(e){e===r._58?i.i(n.prepend)([this.element],this.parent.element.querySelector("."+r._54)):this.parent.element.querySelector("."+r._54).appendChild(this.element)},e.prototype.setPanel=function(e){this.element=e},e.prototype.getPanel=function(){return this.element},e.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+r.c)},e.prototype.getDateSlots=function(e,t){return[]},e.prototype.generateColumnLevels=function(){return[]},e.prototype.getColumnLevels=function(){return this.colLevels},e.prototype.highlightCurrentTime=function(){},e.prototype.getStartDate=function(){return this.renderDates[0]},e.prototype.getEndDate=function(){return this.renderDates[this.renderDates.length-1]},e.prototype.startDate=function(){return this.renderDates[0]},e.prototype.endDate=function(){return s.d(this.renderDates[this.renderDates.length-1],1)},e.prototype.getStartHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return i.i(n.isNullOrUndefined)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.getEndHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return i.i(n.isNullOrUndefined)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.isCurrentDate=function(e){return e.setHours(0,0,0,0)===new Date(this.parent.currentTimezoneDate).setHours(0,0,0,0)},e.prototype.isCurrentMonth=function(e){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():e.getFullYear()===this.parent.getCurrentTime().getFullYear()&&e.getMonth()===this.parent.getCurrentTime().getMonth()},e.prototype.isWorkDay=function(e,t){return void 0===t&&(t=this.parent.activeViewOptions.workDays),t.indexOf(e.getDay())>=0},e.prototype.isWorkHour=function(e,t,r,a){return!i.i(n.isNullOrUndefined)(t)&&!i.i(n.isNullOrUndefined)(r)&&(t.setMilliseconds(0),r.setMilliseconds(0),!(s.s(e)<s.s(t)||s.s(e)>=s.s(r)||!this.isWorkDay(e,a)))},e.prototype.getRenderDates=function(e){var t=[];if("Week"===this.parent.currentView||"TimelineWeek"===this.parent.currentView)for(var i=s.b(this.parent.selectedDate),n=s.l(i,this.parent.activeViewOptions.firstDayOfWeek),r=0,a=s.e*this.parent.activeViewOptions.interval;r<a;r++)this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1);else if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)for(var n=s.l(s.b(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),r=0,o=s.e*this.parent.activeViewOptions.interval;r<o;r++)this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1);else{var l="Agenda"===this.parent.currentView?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval,n=s.b(this.parent.selectedDate);do{this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1)}while(l!==t.length)}return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},e.prototype.getNextPreviousDate=function(e){if(this.previousNextAction=e,"Day"===this.parent.currentView||"TimelineDay"===this.parent.currentView){if(this.parent.activeViewOptions.showWeekend){var t=this.parent.activeViewOptions.interval;return s.d(this.parent.selectedDate,"next"===e?t:-t)}var i=void 0;if("next"===e)for(i=s.d(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=s.d(i,1);else{i=s.d(this.renderDates[0],-1);var n=0;do{this.isWorkDay(i)&&(n+=1),this.parent.activeViewOptions.interval!==n&&(i=s.d(i,-1))}while(this.parent.activeViewOptions.interval!==n)}return i}var r="next"===e?s.e:-s.e;return s.d(this.parent.selectedDate,r*this.parent.activeViewOptions.interval)},e.prototype.getLabelText=function(e){var t=e.charAt(0).toLowerCase()+e.substring(1);return this.parent.localeObj.getConstant(t)+" of "+s.a(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDateRangeText=function(){if(this.parent.isAdaptive){var e=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.a(this.parent.globalize.formatDate(this.parent.selectedDate,{format:e,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])},e.prototype.formatDateRange=function(e,t){var r=this.parent.globalize,a=this.parent.getCalendarMode();if(e===t&&(t=null),!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.dateFormat)){var o="";return t?(o=r.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:a})+" - "+r.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:a}),s.a(o,"multiple")):(o=r.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:a}),s.a(o,"multiple"))}var l,c;if(c="en"===this.parent.locale||"en-US"===this.parent.locale?i.i(n.getValue)("dateFormats.long",i.i(n.getDefaultDateObject)(a)):i.i(n.getValue)("main."+this.parent.locale+".dates.calendars."+a+".dateFormats.long",n.cldrData),!t)return s.a(r.formatDate(e,{format:c,calendar:a}),"single");var p=c.trim().toLocaleLowerCase();return l="d"===p.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?r.formatDate(e,{format:"dd",calendar:a})+" - "+r.formatDate(t,{format:"dd MMMM yyyy",calendar:a}):r.formatDate(e,{format:"dd MMM",calendar:a})+" - "+r.formatDate(t,{format:"dd MMM yyyy",calendar:a}):r.formatDate(e,{format:"dd MMM yyyy",calendar:a})+" - "+r.formatDate(t,{format:"dd MMM yyyy",calendar:a}):"m"===p.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?r.formatDate(e,{format:"MMMM dd",calendar:a})+" - "+r.formatDate(t,{format:"dd, yyyy",calendar:a}):r.formatDate(e,{format:"MMM dd",calendar:a})+" - "+r.formatDate(t,{format:"MMM dd, yyyy",calendar:a}):r.formatDate(e,{format:"MMM dd, yyyy",calendar:a})+" - "+r.formatDate(t,{format:"MMM dd, yyyy",calendar:a}):r.formatDate(e,{format:c,calendar:a})+" - "+r.formatDate(t,{format:c,calendar:a}),s.a(l,"multiple")},e.prototype.getMobileDateElement=function(e,t){return i.i(n.createElement)("div",{className:t,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+s.a(this.parent.globalize.formatDate(e,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"})},e.prototype.setResourceHeaderContent=function(e,t,a){if(void 0===a&&(a=r._59),this.parent.activeViewOptions.resourceHeaderTemplate){var s={resource:t.resource,resourceData:t.resourceData},o=this.parent.element.id+"_",l=this.parent.activeViewOptions.resourceHeaderTemplateName,c=o+l+"resourceHeaderTemplate",p=[].slice.call(this.parent.getResourceHeaderTemplate()(s,this.parent,"resourceHeaderTemplate",c,!1));i.i(n.append)(p,e)}else{var d=i.i(n.createElement)("div",{className:a});this.parent.sanitize(t.resourceData[t.resource.textField],d),e.appendChild(d)}},e.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},e.prototype.addAutoHeightClass=function(e){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&i.i(n.addClass)([e],r.k)},e.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+r.g+" col, ."+r.d+" col"))},e.prototype.setColWidth=function(e){if(this.isTimelineView()){var t=this.getColElements(),a=this.element.querySelector("."+r.h+" tbody"),s=a.getBoundingClientRect().width/(t.length/2);if(e.offsetHeight!==e.clientHeight){var o=this.parent.element.querySelector("."+r.x);i.i(n.isNullOrUndefined)(o)||i.i(n.setStyleAttribute)(o,{height:i.i(n.formatUnit)(e.clientHeight)})}var l="."+r.e+",."+r._11+",."+r._60+",."+r._61+",."+r._62;[].slice.call(this.element.querySelectorAll(l)).forEach(function(e){var t=i.i(n.isNullOrUndefined)(e.getAttribute("colspan"))?"1":e.getAttribute("colspan"),r=parseInt(t,10);i.i(n.setStyleAttribute)(e,{width:i.i(n.formatUnit)(s*r)})})}},e.prototype.resetColWidth=function(){for(var e=this.getColElements(),t=0,i=e;t<i.length;t++){i[t].style.width=""}},e.prototype.getContentAreaElement=function(){return this.element.querySelector("."+r.g)},e.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var e=[].slice.call(this.element.querySelectorAll("."+r._63)),t=0,i=e;t<i.length;t++){var a=i[t];n.EventHandler.clearEvents(a),n.EventHandler.add(a,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},e.prototype.scrollToDate=function(e){if(-1!==["Month","TimelineMonth"].indexOf(this.parent.currentView)&&!i.i(n.isNullOrUndefined)(e)){var t=this.getContentAreaElement(),a=new Date(s.b(new Date(+e)).getTime()).getTime(),o=t.querySelector("."+r.n+'[data-date="'+a+'"]');"Month"===this.parent.currentView&&o&&(t.scrollWidth>t.clientWidth&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-o.offsetLeft-o.offsetWidth):t.scrollLeft=o.offsetLeft),t.scrollTop=o.offsetTop),"TimelineMonth"===this.parent.currentView&&o&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-o.offsetLeft-o.offsetWidth):t.scrollLeft=o.offsetLeft)}},e.prototype.setPersistence=function(){if(this.parent.enablePersistence){var e=this.element.querySelector(".e-content-wrap");i.i(n.isNullOrUndefined)(e)||(this.parent.scrollLeft=e.scrollLeft,this.parent.scrollTop=e.scrollTop)}},e.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var e=this.parent.element.querySelector(".e-content-wrap");i.i(n.isNullOrUndefined)(e)||i.i(n.isNullOrUndefined)(this.parent.scrollLeft)||i.i(n.isNullOrUndefined)(this.parent.scrollTop)||(e.scrollTop=this.parent.scrollTop,e.scrollLeft=this.parent.scrollLeft)}},e.prototype.getViewStartDate=function(){var e=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=this.parent.resourceBase.getResourceRenderDates()[0]),e},e.prototype.getViewEndDate=function(){var e=s.d(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=s.d(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),e},e.prototype.getAdjustedDate=function(e){return!this.parent.activeViewOptions.timeScale.enable||"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView&&0===this.parent.activeViewOptions.group.resources.length?new Date(e.setHours(0,0,0,0)):"TimelineYear"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0?(e.setHours(0,0,0,0),new Date(e.setDate(1))):null},e.prototype.resetColLevels=function(){this.parent.resourceBase.expandedResources=[];for(var e=this.parent.virtualScrollModule.getRenderedCount(),t=this.parent.activeViewOptions.group.byDate?this.colLevels[0]:this.parent.resourceBase.renderedResources,i=0,n=0;n<t.length&&!(i>=e);n++)i+=t[parseInt(n.toString(),10)].colSpan,this.parent.resourceBase.expandedResources.push(t[parseInt(n.toString(),10)]);this.parent.activeViewOptions.group.byDate?(this.colLevels[0]=this.parent.resourceBase.expandedResources,this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources)):(this.colLevels[this.colLevels.length-2]=this.parent.resourceBase.expandedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources),"Month"!==this.parent.currentView&&(this.colLevels[this.colLevels.length-1]=this.colLevels[this.colLevels.length-1].slice(0,i),this.parent.resourceBase.expandedResources=this.colLevels[this.colLevels.length-1])},e.prototype.destroy=function(){this.element&&this.element.parentNode&&i.i(n.remove)(this.element),this.element=null,this.renderDates=null,this.colLevels=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(8)),a=i(5),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.dayNameFormat="wide",i.viewClass="e-month-view",i.isInverseTableSelect=!1,i.monthEvent=null,i.monthDates={},i}return c(t,e),t.prototype.addEventListener=function(){this.parent.on(o.J,this.onScrollUIUpdate,this),this.parent.on(o.E,this.onDataReady,this),this.parent.on(o.a,this.onCellClick,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(o.J,this.onScrollUIUpdate),this.parent.off(o.E,this.onDataReady),this.parent.off(o.a,this.onCellClick))},t.prototype.onDataReady=function(e){this.monthEvent=new a.a(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(o.F,{})},t.prototype.onCellClick=function(e){},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement(),this.parent.notify(o.I,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.parent.uiStateValues.top=e.target.scrollTop,this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence()},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();t&&(t.scrollTop=e.scrollTop)},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+l.F)},t.prototype.onScrollUIUpdate=function(e){var t=this.getHeaderBarHeight(),i=this.getDatesHeaderElement(),n=this.getContentAreaElement(),r=this.parent.element.offsetHeight-t-i.offsetHeight,a=this.getLeftPanelElement();"auto"!==this.parent.height&&this.setContentHeight(n,a,r);var o=s.A();if(i.firstElementChild.style[e.cssProperties.rtlBorder]="",i.style[e.cssProperties.rtlPadding]="",n.offsetWidth-n.clientWidth>0?(i.firstElementChild.style[e.cssProperties.border]=o>0?"1px":"0px",i.style[e.cssProperties.padding]=o>0?o-1+"px":"0px"):(i.firstElementChild.style[e.cssProperties.border]="",i.style[e.cssProperties.padding]=""),this.setColWidth(n),e.scrollPosition||!e.isPreventScrollUpdate&&"TimelineMonth"===this.parent.currentView){var l="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.top:e.scrollPosition.top;a&&(a.scrollTop=l),n.scrollTop=l,this.parent.uiStateValues.isInitial?(this.scrollToSelectedDate(),this.parent.uiStateValues.isInitial=!1):n.scrollLeft="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.left:e.scrollPosition.left}else this.scrollToSelectedDate();this.retainScrollPosition()},t.prototype.scrollToSelectedDate=function(){var e=this.element.querySelector("."+l.e+'[data-date="'+this.parent.selectedDate.getTime().toString()+'"]'),t=this.getContentAreaElement();i.i(n.isNullOrUndefined)(e)?t.scrollLeft=0:t.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft,0===t.scrollLeft&&this.parent.uiStateValues.isInitial&&(this.parent.uiStateValues.left=0)},t.prototype.setContentHeight=function(e,t,r){e.style.height="auto","Month"===this.parent.currentView&&(e.style.height=i.i(n.formatUnit)(r)),t&&("MonthAgenda"===this.parent.currentView&&(r=this.parent.activeViewOptions.interval>1?this.getContentAreaElement().firstElementChild.offsetHeight:this.element.querySelector("."+l.h).offsetHeight),t.style.height="auto",t.style.height=i.i(n.formatUnit)(r-this.getScrollXIndent(e)))},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),"MonthAgenda"===this.parent.currentView&&(e=[t]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=this.getDateSlots(i.renderDates,i.workDays);if(this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays){var r=n.findIndex(function(e,t){return 0!==t&&e.date.getDay()===n[0].date.getDay()});n=r>-1?n.slice(0,r):n}e=[n]}}else e.push(t);return this.colLevels=e,e},t.prototype.getDateSlots=function(e,t){for(var i=this.parent.activeViewOptions.showWeekend?s.e:t.length,n=[],r=this.isCurrentMonth(this.parent.selectedDate),a=0;a<i;a++){var o=[l.e],c=e.slice(0,i).map(function(e){return e.getDay()});r&&c.indexOf(this.parent.currentTimezoneDate.getDay())===a&&o.push(l.s),n.push({date:e[parseInt(a.toString(),10)],type:"monthDay",className:o,colSpan:1,workDays:t})}return n},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"},t.prototype.renderLayout=function(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel(i.i(n.createElement)("div",{className:l._19}));var t=[this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&(t.push("e-by-date"),"Month"!==this.parent.currentView&&(this.parent.activeViewOptions.group.hideNonWorkingDays=!1)),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(l._21),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(l._22),i.i(n.addClass)([this.element],t),this.renderPanel(e),this.element.appendChild(this.createTableLayout(l._23)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();var r="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!r.querySelector("."+l._24)&&this.renderResourceMobileLayout(),this.parent.notify(o.G,{}),this.parent.uiStateValues.isCustomMonth&&(this.parent.uiStateValues.isCustomMonth=!1)},t.prototype.refreshHeader=function(){i.i(n.remove)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(o.G,{})},t.prototype.wireCellEvents=function(e){n.EventHandler.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),n.EventHandler.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.EventHandler.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderHeader=function(){var e=i.i(n.createElement)("tr");this.renderLeftIndent(e);var t=i.i(n.createElement)("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),i.i(n.prepend)([e],this.element.querySelector("tbody"))},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild(i.i(n.createElement)("td",{className:"e-left-indent"}))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=i.i(n.extend)([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=i.i(n.createElement)("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());var t=i.i(n.createElement)("td"),r=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var a=i.i(n.createElement)("div",{className:l.g}),s=this.renderContentArea();if("Month"===this.parent.currentView)a.appendChild(s);else{var o=i.i(n.createElement)("div",{className:l._54});o.appendChild(s),a.appendChild(o)}n.EventHandler.add(a,"scroll",this.onContentScroll,this),t.appendChild(a),e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=r,this.parent.virtualScrollModule.renderVirtualTrack(a)),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()},t.prototype.renderWeekNumberContent=function(){var e=this.renderDates.map(function(e){return new Date(+e)}),t=i.i(n.createElement)("td"),r=i.i(n.createElement)("div",{className:l.F});t.appendChild(r);var a=this.createTableLayout();r.appendChild(a);for(var o=this.parent.activeViewOptions.showWeekend?s.e:this.parent.activeViewOptions.workDays.length,c=0,p=this.renderDates.length/o;c<p;c++){var d=e.splice(0,o),h=this.parent.getWeekNumberContent(d);a.querySelector("tbody").appendChild(this.createWeekNumberElement(h))}return t},t.prototype.renderAppointmentContainer=function(){},t.prototype.renderDatesHeader=function(){var e=i.i(n.createElement)("div",{className:l.c}),t=i.i(n.createElement)("div",{className:l.d});e.appendChild(t);var r=this.createTableLayout();if("Month"===this.parent.currentView){var a=i.i(n.createElement)("thead");a.appendChild(i.i(n.createElement)("tr")),i.i(n.prepend)([a],r)}this.createColGroup(r,this.colLevels[this.colLevels.length-1]);for(var s=i.i(n.createElement)("tr"),o=0;o<this.colLevels.length;o++){for(var c=this.colLevels[parseInt(o.toString(),10)],p=s.cloneNode(),d=0;d<c.length;d++){var h=c[parseInt(d.toString(),10)];p.appendChild(this.createHeaderCell(h))}r.querySelector("tbody").appendChild(p)}return t.appendChild(r),e},t.prototype.createHeaderCell=function(e){var t=i.i(n.createElement)("td");if(this.addAttributes(e,t),"monthDay"===e.type){var r=i.i(n.createElement)("span",{innerHTML:s.a(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});t.appendChild(r)}if("resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type){if(i.i(n.addClass)([t],l.o),t.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){var a={date:e.date,type:e.type},c=this.parent.element.id+"_",p=this.parent.activeViewOptions.dateHeaderTemplateName,d=c+p+"dateHeaderTemplate",h=[].slice.call(this.parent.getDateHeaderTemplate()(a,this.parent,"dateHeaderTemplate",d,!1));h&&h.length&&i.i(n.append)(h,t)}else{var r=i.i(n.createElement)("span",{className:l.p}),u=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});r.setAttribute("title",s.a(u,"multiple"));var g=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});r.innerHTML=s.a(g,"single"),t.appendChild(r)}this.wireCellEvents(t)}var v={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(o.j,v),t},t.prototype.getContentSlots=function(){if(!this.colLevels[this.colLevels.length-1]||!this.colLevels[this.colLevels.length-1][0])return[];var e=[],t=function(t,i,n,r){var a={date:new Date(+i),groupIndex:n.groupIndex,workDays:n.workDays,type:"monthCells",className:r||[l.n]};e[parseInt(t.toString(),10)]||(e[parseInt(t.toString(),10)]=[]),e[parseInt(t.toString(),10)].push(a)},i="MonthAgenda"!==this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0;if(!i||this.parent.uiStateValues.isGroupAdaptive||this.parent.activeViewOptions.group.byDate)for(var n=this.renderDates.map(function(e){return new Date(+e)}),r=this.parent.activeViewOptions.showWeekend?s.e:this.parent.activeViewOptions.workDays.length,a=this.colLevels.slice(0,1)[0],o=this.renderDates.map(Number).indexOf(+a[0].date),c=0;c<this.renderDates.length/r;c++)for(var p,d=n.splice(0,r),h=o,u=this,g=o;g<this.colLevels[0].length+o&&g<d.length;g++)!function(e){var n=d[parseInt(h.toString(),10)];if(h++,i){var a=u.colLevels[u.colLevels.length-1],s=a.length/r,o=a.slice(0,s);if(u.parent.activeViewOptions.group.hideNonWorkingDays&&(o=a.filter(function(e){return e.date.getDay()===n.getDay()}),0===o.length))return e-=1,p=e,"continue";for(var g=0;g<o.length;g++){var v=void 0;0!==g&&(v=[l.n,l._56]),t(c,n,o[parseInt(g.toString(),10)],v)}}else t(c,n,u.colLevels[u.colLevels.length-1][0]);p=e}(g),g=p;else for(var v=0,f=this.colLevels[this.colLevels.length-2];v<f.length;v++)for(var m=f[v],n=m.renderDates.map(function(e){return new Date(+e)}),r=this.parent.activeViewOptions.showWeekend?s.e:m.workDays.length,c=0;c<m.renderDates.length/r;c++)for(var d=n.splice(0,r),y=0,T=d;y<T.length;y++){var D=T[y];t(c,D,m)}return e},t.prototype.updateClassList=function(e){!this.isCustomMonth()&&this.isOtherMonth(e.date)&&e.className.push(l.t),this.parent.isMinMaxDate(e.date)||e.className.push(l.r),this.updateSelectedCellClass(e)},t.prototype.updateSelectedCellClass=function(e){},t.prototype.isOtherMonth=function(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()},t.prototype.renderContentArea=function(){var e=this.createTableLayout(l.h);this.setAriaAttributes(e),this.addAutoHeightClass(e),"TimelineMonth"===this.parent.currentView&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);var t=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(t),end:this.parent.calendarUtil.lastDateOfMonth(s.u(t,this.parent.activeViewOptions.interval-1))};var r=e.querySelector("tbody");return i.i(n.append)(this.getContentRows(),r),this.wireCellEvents(r),e},t.prototype.getContentRows=function(){for(var e=[],t=i.i(n.createElement)("tr"),r=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),a=this.getContentSlots(),s=0;s<a.length;s++){for(var o=t.cloneNode(),l=0;l<a[parseInt(s.toString(),10)].length;l++){var c=this.createContentTd(a[parseInt(s.toString(),10)][parseInt(l.toString(),10)],r);o.appendChild(c)}e.push(o)}return e},t.prototype.createContentTd=function(e,t){var r=t.cloneNode();e.colSpan&&r.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);var a=e.type;if(-1!==e.className.indexOf(l.u)&&(e.className.push(l.v),a="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push(l.q),this.isCurrentDate(e.date)&&e.className.push(l._57),i.i(n.addClass)([r],e.className),r.setAttribute("data-date",e.date.getTime().toString()),!i.i(n.isNullOrUndefined)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var s=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;r.setAttribute("data-group-index",""+s)}if(this.renderDateHeaderElement(e,r),this.parent.activeViewOptions.cellTemplate){var c={date:e.date,type:a,groupIndex:e.groupIndex},p=this.parent.element.id+"_",d=this.parent.activeViewOptions.cellTemplateName,h=p+d+"cellTemplate",u=[].slice.call(this.parent.getCellTemplate()(c,this.parent,"cellTemplate",h,!1));i.i(n.append)(u,r)}var g={elementType:a,element:r,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(o.j,g),r},t.prototype.renderDateHeaderElement=function(e,t){if("TimelineMonth"!==this.parent.currentView){var r=i.i(n.createElement)("div",{className:l.o});if(this.parent.activeViewOptions.cellHeaderTemplate){var a={date:e.date,type:e.type,groupIndex:e.groupIndex},o=this.parent.element.id+"_",c=this.parent.activeViewOptions.cellHeaderTemplateName,p=o+c+"cellHeaderTemplate",d=[].slice.call(this.parent.getCellHeaderTemplate()(a,this.parent,"cellHeaderTemplate",p,!1));i.i(n.append)(d,r)}else{var h=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});r.innerHTML=s.a(h,"single")}if(t.appendChild(r),"month"===this.getModuleName()){i.i(n.addClass)([r],l.p);var u=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});t.setAttribute("aria-label",u)}}},t.prototype.getMonthStart=function(e){var t="Month"===this.parent.currentView&&!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)&&(this.parent.uiStateValues.isCustomMonth||this.isCustomRange()),r=t?this.parent.activeViewOptions.displayDate:this.parent.uiStateValues.isCustomMonth||this.isCustomRange()||!this.isCustomMonth()?this.parent.calendarUtil.firstDateOfMonth(e):e,a=s.l(r,this.parent.activeViewOptions.firstDayOfWeek);return new Date(a.getFullYear(),a.getMonth(),a.getDate())},t.prototype.getMonthEnd=function(e){if(this.isCustomMonth()){var t=this.getMonthStart(e),i=s.e*(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:s.f);return s.d(t,i-1)}var n=s.u(e,this.parent.activeViewOptions.interval-1),r=s.l(this.parent.calendarUtil.lastDateOfMonth(n),this.parent.activeViewOptions.firstDayOfWeek);return s.d(r,s.e-1)},t.prototype.isCustomRange=function(){var e=this.parent.getCurrentViewDates();if(e&&e.length>0){var t=s.b(this.parent.selectedDate).getTime(),i=s.l(e[e.length-1],this.parent.activeViewOptions.firstDayOfWeek);return!(t>=s.l(e[0],this.parent.activeViewOptions.firstDayOfWeek).getTime()&&t<=s.d(i,6).getTime())}return!1},t.prototype.getRenderDates=function(e){var t=[],i=s.b(this.parent.selectedDate),n=this.getMonthStart(i),r=this.getMonthEnd(i);do{this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.d(n,1),n.getHours()>0&&(n=s.b(n))}while(n.getTime()<=r.getTime());return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},t.prototype.getNextPreviousDate=function(e){if(this.isCustomMonth()){var t=this.parent.getCurrentViewDates(),i=s.l("next"===e?t[t.length-1]:t[0],this.parent.activeViewOptions.firstDayOfWeek);return s.d(i,"next"===e?s.e:-(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:s.f)*s.e)}return s.u(this.parent.selectedDate,("next"===e?1:-1)*this.parent.activeViewOptions.interval)},t.prototype.getStartDate=function(){return this.getMonthStart(this.parent.selectedDate)},t.prototype.getEndDate=function(){return this.getMonthEnd(this.parent.selectedDate)},t.prototype.getEndDateFromStartDate=function(e){return s.d(new Date(e.getTime()),1)},t.prototype.getDateRangeText=function(){if(this.parent.isAdaptive||i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.dateFormat)){var e=this.parent.selectedDate,t=void 0,r=!1;if(this.isCustomMonth()){var a=this.parent.getCurrentViewDates();r=a[0].getMonth()!==a[a.length-1].getMonth()||a[0].getFullYear()!==a[a.length-1].getFullYear(),r&&(e=a[0],t=a[a.length-1])}var o="Month"!==this.parent.currentView||!this.isCustomMonth();if(this.parent.activeViewOptions.interval>1&&o||r){if(t=t||s.u(s.o(e),this.parent.activeViewOptions.interval-1),e.getFullYear()===t.getFullYear()){var l=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return s.a(l,"single")}var c=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+e.getFullYear()+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return s.a(c,"single")}var p=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.a(this.parent.globalize.formatDate(e,{format:p,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.parent.selectedDate)},t.prototype.getLabelText=function(e){return this.parent.localeObj.getConstant(e)+" of "+s.a(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")},t.prototype.createWeekNumberElement=function(e){var t=i.i(n.createElement)("tr"),r=i.i(n.createElement)("td",{className:l.E,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});t.appendChild(r);var a={elementType:"weekNumberCell",element:r};return this.parent.trigger(o.j,a),t},t.prototype.unWireEvents=function(){var e=this.element.querySelector("."+l.g);e&&n.EventHandler.remove(e,"scroll",this.onContentScroll)},t.prototype.isCustomMonth=function(){return"Month"===this.parent.currentView&&(!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0)},t.prototype.getModuleName=function(){return"month"},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(8)),a=i(15),s=i(5),o=i(1),l=i(2),c=i(3),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i.isInverseTableSelect=!0,i.baseCssClass="e-vertical-view",i.appointment=null,i}return p(t,e),t.prototype.getModuleName=function(){return"verticalView"},t.prototype.addEventListener=function(){this.parent.on(l.J,this.scrollUiUpdate,this),this.parent.on(l.E,this.renderEvents,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(l.J,this.scrollUiUpdate),this.parent.off(l.E,this.renderEvents))},t.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new a.a(this.parent):new s.a(this.parent),this.appointment.renderAppointments(),this.parent.notify(l.F,{})},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var t=e.target;this.parent.notify(l.I,e),this.scrollLeftPanel(t),this.scrollTopPanel(t),this.parent.isAdaptive||(this.parent.uiStateValues.top=t.scrollTop),this.parent.uiStateValues.left=t.scrollLeft,i.i(n.isNullOrUndefined)(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()},t.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},t.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();i.i(n.isNullOrUndefined)(t)||(t.scrollTop=e.scrollTop)},t.prototype.scrollUiUpdate=function(e){if(this.parent){var t=this.parent.element.querySelector("."+c.d),i=this.getHeaderBarHeight(),n=this.getLeftPanelElement(),r=this.getScrollableElement(),a=this.getDatesHeaderElement(),s=this.parent.element.offsetHeight-i-a.offsetHeight;this.setContentHeight(r,n,s),this.setColWidth(r);var l=o.A();a.firstElementChild.style[e.cssProperties.rtlBorder]="",a.style[e.cssProperties.rtlPadding]="";var p=!this.parent.enableAllDayScroll||!(r.offsetWidth-r.clientWidth<=t.offsetWidth-t.clientWidth&&t.classList.contains("e-all-day-scroll"));r.offsetWidth-r.clientWidth>0&&p?(a.firstElementChild.style[e.cssProperties.border]=l>0?"1px":"0px",a.style[e.cssProperties.padding]=l>0?l-1+"px":"0px"):(a.firstElementChild.style[e.cssProperties.border]="",a.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.currentView.indexOf("Timeline")>-1&&(r.scrollTop=this.parent.uiStateValues.top),this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(n&&(n.scrollTop=this.parent.uiStateValues.top),r.scrollTop=this.parent.uiStateValues.top,r.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}},t.prototype.setContentHeight=function(e,t,r){this.parent.isAdaptive&&!this.isTimelineView()?e.style.height="auto"===this.parent.height?"auto":i.i(n.formatUnit)(r):(i.i(n.isNullOrUndefined)(t)||(t.style.height="auto"===this.parent.height?"auto":i.i(n.formatUnit)(r-this.getScrollXIndent(e))),e.style.height="auto"===this.parent.height?"auto":i.i(n.formatUnit)(r))},t.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+c._16);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},t.prototype.scrollToHour=function(e,t){var r=this.parent.getStartEndTime(e);if(!i.i(n.isNullOrUndefined)(t)){var a=this.element.querySelector("."+c.e+'[data-date="'+new Date(o.b(t)).getTime()+'"]');if(a)if(this.parent.enableRtl){var s=this.element.querySelector("."+c.h);this.getScrollableElement().scrollLeft=-(s.offsetWidth-a.offsetLeft-a.offsetWidth)}else this.getScrollableElement().scrollLeft=a.offsetLeft}i.i(n.isNullOrUndefined)(r)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(r))},t.prototype.scrollToDate=function(e){this.scrollToHour(null,e)},t.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=[];if(this.parent.activeViewOptions.group.resources.length>0){if(t=this.parent.resourceBase.generateResourceLevels(e),this.parent.activeViewOptions.group.hideNonWorkingDays)for(;0===t[0].length;)this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(this.previousNextAction)},!0),this.parent.activeView.getRenderDates(),this.parent.headerModule&&(this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.headerModule.updateDateRange()),e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=this.parent.resourceBase.generateResourceLevels(e);if(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=i.resourceData[i.resource.startHourField],r=i.resourceData[i.resource.endHourField];t=[this.getDateSlots(i.renderDates,i.workDays,n,r)]}}else t.push(e);return this.colLevels=t,t},t.prototype.getDateSlots=function(e,t,i,n){void 0===i&&(i=this.parent.workHours.start),void 0===n&&(n=this.parent.workHours.end);for(var r=[],a=this.parent.getStartEndTime(i),s=this.parent.getStartEndTime(n),o=0,l=e;o<l.length;o++){var p=l[o],d=[c.e];this.isCurrentDate(p)&&d.push(c.s),r.push({date:p,type:"dateHeader",className:d,colSpan:1,workDays:t,startHour:new Date(+a),endHour:new Date(+s)})}return r},t.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},t.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option)){var t=this.parent.getCurrentTime();if(this.parent.showTimeIndicator&&this.isWorkHourRange(t)){if(this.getCurrentTimeIndicatorIndex().length>0){if([].slice.call(this.element.querySelectorAll("."+c.n)).length>0&&this.changeCurrentTimePosition(),i.i(n.isNullOrUndefined)(this.currentTimeIndicatorTimer)){var r=o.g-(1e3*t.getSeconds()+t.getMilliseconds());r<=o.g-1e3&&window.setTimeout(function(){i.i(n.isNullOrUndefined)(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())},r),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer()}else this.clearCurrentTimeIndicatorTimer()}},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if(!i.i(n.isNullOrUndefined)(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=0,r=o.b(this.parent.getCurrentTime());if(this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.byDate)for(var a=0,s=this.parent.resourceBase.expandedResources;a<s.length;a++){var l=s[a];o.b(l.date).getTime()===r.getTime()&&e.push(t),t+=1}else for(var c=0,p=this.parent.resourceBase.renderedResources;c<p.length;c++){var l=p[c],d=this.parent.getIndexOfDate(l.renderDates,r);if(d>=0){var h=this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*d+t:t+d;e.push(h)}t+=this.parent.activeViewOptions.group.byDate?1:l.renderDates.length}}else{var u=this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,d=this.parent.getIndexOfDate(u,o.b(this.parent.getCurrentTime()));d>=0&&e.push(d)}return e},t.prototype.clearCurrentTimeIndicatorTimer=function(){i.i(n.isNullOrUndefined)(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},t.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval(function(){e.changeCurrentTimePosition()},o.g)},t.prototype.removeCurrentTimeIndicatorElements=function(){for(var e="."+c._17+",."+c._13+",."+c._14,t=[].slice.call(this.element.querySelectorAll(e)),r=0,a=t;r<a.length;r++){var s=a[r];i.i(n.remove)(s)}},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.parent.getContentTable().rows[0],r=this.getTopFromDateTime(this.parent.getCurrentTime()),a=i.i(n.formatUnit)(r),s=Math.floor(r/t.cells[0].offsetHeight),o=this.getLeftPanelElement(),l=[].slice.call(o.querySelectorAll("tr"));if(!i.i(n.isNullOrUndefined)(s)&&!isNaN(s)&&s!==l.length){for(var p=[].slice.call(this.element.querySelectorAll("."+c._7)),d=0,h=e[0];d<h;d++)p[parseInt(d.toString(),10)].appendChild(i.i(n.createElement)("div",{className:c._17,styles:"top:"+a}));for(var u=0,g=e;u<g.length;u++){var v=g[u];p[parseInt(v.toString(),10)].appendChild(i.i(n.createElement)("div",{className:c._13,styles:"top:"+a}))}var f=i.i(n.createElement)("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:c._14,styles:"top:"+a});s<=l.length&&(i.i(n.removeClass)(o.querySelectorAll("."+c._18),c._18),l[parseInt(s.toString(),10)]&&i.i(n.addClass)([l[parseInt(s.toString(),10)].lastElementChild],c._18),i.i(n.prepend)([f],o),f.style.top=i.i(n.formatUnit)(f.offsetTop-f.offsetHeight/2))}}},t.prototype.getTopFromDateTime=function(e){var t=this.getStartHour();return(60*(e.getHours()-t.getHours())+(e.getMinutes()-t.getMinutes()))*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellHeight=function(){return parseFloat(this.element.querySelector("."+c.n).getBoundingClientRect().height.toFixed(2))},t.prototype.getTdContent=function(e,t,r){var a,s=i.i(n.createElement)("div"),l="",c=this.parent.element.id+"_";switch(t){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){l="dateHeaderTemplate";var p={date:e,type:t},d=this.parent.activeViewOptions.dateHeaderTemplateName;a=[].slice.call(this.parent.getDateHeaderTemplate()(p,this.parent,l,c+d+l,!1))}else s.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+o.a(this.getDayName(e),"single")+'</div><div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>",a=[].slice.call(s.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){l="majorSlotTemplate";var p={date:e,type:t};a=[].slice.call(this.parent.getMajorSlotTemplate()(p,this.parent,l,c+l,!1))}else s.innerHTML="<span>"+this.getTime(e)+"</span>",a=[].slice.call(s.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){l="minorSlotTemplate";var p={date:e,type:t};a=[].slice.call(this.parent.getMinorSlotTemplate()(p,this.parent,l,c+l,!1))}else a=[].slice.call(s.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){var d=this.parent.activeViewOptions.cellTemplateName;l="cellTemplate";var p={date:e,type:t,groupIndex:r};a=[].slice.call(this.parent.getCellTemplate()(p,this.parent,l,c+d+l,!1))}}return a},t.prototype.refreshHeader=function(){i.i(n.remove)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(l.G,{})},t.prototype.renderLayout=function(e){this.setPanel(i.i(n.createElement)("div",{className:c._19}));var t=[this.baseCssClass,this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||i.i(n.addClass)([this.element],[c._20,this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(c._21),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(c._22),this.renderPanel(e),i.i(n.addClass)([this.element],t),this.element.appendChild(this.createTableLayout(c._23)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+c._24)&&this.renderResourceMobileLayout(),this.parent.notify(l.G,{})},t.prototype.renderHeader=function(){var e=i.i(n.createElement)("tr"),t=i.i(n.createElement)("td");if(t.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var r=i.i(n.createElement)("td",{className:c.a});r.appendChild(this.renderLeftIndent()),e.appendChild(r)}e.appendChild(t),i.i(n.prepend)([e],this.element.querySelector("tbody"))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=i.i(n.extend)([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=i.i(n.createElement)("tr"),t=i.i(n.createElement)("td");if(this.parent.isAdaptive){t.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var r=i.i(n.createElement)("div",{className:c.w});this.parent.activeViewOptions.timeScale.enable&&r.appendChild(this.renderTimeCells()),r.appendChild(this.renderContentArea()),t.appendChild(r),n.EventHandler.add(r,"scroll",this.onAdaptiveScroll,this),n.EventHandler.add(r,n.Browser.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(t)}else{var a=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var s=this.renderContentArea();if(t.appendChild(s),this.parent.activeViewOptions.timeScale.enable){var o=i.i(n.createElement)("td");o.appendChild(this.renderTimeCells()),e.appendChild(o)}e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=a,this.parent.virtualScrollModule.renderVirtualTrack(s))}this.element.querySelector("tbody").appendChild(e)},t.prototype.renderLeftIndent=function(){for(var e,t=i.i(n.createElement)("div",{className:c.b}),r=this.createTableLayout(),a=i.i(n.createElement)("tr"),s=this.colLevels.length,o=0;o<s;o++){var l=a.cloneNode(),p={className:[this.colLevels[parseInt(o.toString(),10)][0]&&this.colLevels[parseInt(o.toString(),10)][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&-1!==p.className.indexOf(c.e)){p.className.push(c.E);var d=this.parent.getWeekNumberContent(this.renderDates);p.template=[i.i(n.createElement)("span",{innerHTML:""+d,attrs:{title:this.parent.localeObj.getConstant("week")+" "+d}})]}e=this.createTd(p),this.parent.renderHeaderIndentTemplate(p,e),l.appendChild(e),r.querySelector("tbody").appendChild(l)}var h=a.cloneNode(),u=i.i(n.createElement)("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:c._25+" "+c._26+" "+c.N+" "+c.J}),g={className:[c._4],type:"emptyCells"};return e=this.createTd(g),e.appendChild(u),this.parent.renderHeaderIndentTemplate(g,e),h.appendChild(e),r.querySelector("tbody").appendChild(h),t.appendChild(r),t},t.prototype.renderDatesHeader=function(){var e=i.i(n.createElement)("div",{className:c.c}),t=i.i(n.createElement)("div",{className:c.d});e.appendChild(t);for(var r=this.createTableLayout(),a=i.i(n.createElement)("tr",{className:c._3}),s=this.colLevels.length,o=this.colLevels[s-1],l=0;l<s;l++){for(var p=a.cloneNode(),d=this.colLevels[parseInt(l.toString(),10)],h=0;h<d.length;h++)p.appendChild(this.createTd(d[parseInt(h.toString(),10)]));r.querySelector("tbody").appendChild(p)}return this.createAllDayRow(r,o),this.createColGroup(r,o),t.appendChild(r),e},t.prototype.createAllDayRow=function(e,t){for(var r=i.i(n.createElement)("tr",{className:c._27}),a=0;a<t.length;a++){var s=i.i(n.extend)({},t[parseInt(a.toString(),10)]);s.className=[c._4],s.type="alldayCells";var o=this.createTd(s);o.setAttribute("data-date",s.date.getTime().toString()),i.i(n.isNullOrUndefined)(s.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&o.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):o.setAttribute("data-group-index",""+s.groupIndex),this.wireCellEvents(o),r.appendChild(o)}e.querySelector("tbody").appendChild(r);var l=i.i(n.createElement)("thead");l.appendChild(this.parent.eventBase.createEventWrapper("allDay")),i.i(n.prepend)([l],e)},t.prototype.createTd=function(e){var t=i.i(n.createElement)("td");if(this.addAttributes(e,t),e.date&&e.type){var r=this.getTdContent(e.date,e.type,e.groupIndex);r&&r.length&&i.i(n.append)(r,t)}this.parent.isMinMaxDate(o.b(new Date(""+e.date)))||i.i(n.addClass)([t],c.r),"resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type&&e.className.indexOf(c.e)>=0&&(t.setAttribute("data-date",e.date.getTime().toString()),i.i(n.isNullOrUndefined)(e.groupIndex)||t.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(t));var a={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(l.j,a),t},t.prototype.wireCellEvents=function(e){n.EventHandler.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},t.prototype.wireMouseEvents=function(e){n.EventHandler.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.EventHandler.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderTimeCells=function(){var e=this,t=i.i(n.createElement)("div",{className:c._28}),r=this.createTableLayout(),a=i.i(n.createElement)("tr"),s=function(t){t.type=t.first?"majorSlot":"minorSlot",t.className=t.last?[c._12,c._11]:[c._11];var i=a.cloneNode(),n={date:t.date,type:t.type,className:t.className};return i.appendChild(e.createTd(n)),r.querySelector("tbody").appendChild(i),t};return this.getTimeSlotRows(s),t.appendChild(r),t},t.prototype.renderContentArea=function(){var e=i.i(n.createElement)("div",{className:c.g}),t=this.createTableLayout(c.h);return this.setAriaAttributes(t),this.addAutoHeightClass(t),this.renderContentTable(t),this.createColGroup(t,this.colLevels.slice(-1)[0]),e.appendChild(t),this.wireCellEvents(t.querySelector("tbody")),n.EventHandler.add(e,"scroll",this.onContentScroll,this),n.EventHandler.add(e,n.Browser.touchMoveEvent,this.onAdaptiveMove,this),e},t.prototype.renderContentTable=function(e){var t=e.querySelector("tbody");i.i(n.append)(this.getContentRows(),t),this.renderContentTableHeader(e)},t.prototype.getContentRows=function(){var e=this,t=[],r=i.i(n.createElement)("tr"),a=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),s=function(i){for(var n=r.cloneNode(),s=0,o=e.colLevels[e.colLevels.length-1];s<o.length;s++){var l=o[s],c=e.createContentTd(l,i,a);n.appendChild(c)}return t.push(n),i};return this.getTimeSlotRows(s),t},t.prototype.createContentTd=function(e,t,r){var a=r.cloneNode();e.colSpan&&a.setAttribute("colspan",e.colSpan.toString());var s=this.getContentTdClass(t),p=o.b(e.date);this.parent.isMinMaxDate(p)||s.push(c.r),o.r(p,o.s(t.date));var d="workCells";if(-1!==e.className.indexOf(c.u)&&(s.push(c.v),d="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(p,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(p,e.workDays))&&s.push(c._16),i.i(n.addClass)([a],s),this.parent.activeViewOptions.cellTemplate){var h={date:p,type:d,groupIndex:e.groupIndex},u=this.parent.element.id+"_",g=this.parent.activeViewOptions.cellTemplateName,v=u+g+"cellTemplate",f=[].slice.call(this.parent.getCellTemplate()(h,this.parent,"cellTemplate",v,!1));i.i(n.append)(f,a)}if(a.setAttribute("data-date",p.getTime().toString()),!i.i(n.isNullOrUndefined)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var m=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;a.setAttribute("data-group-index",""+m)}var y={elementType:d,element:a,date:p,groupIndex:e.groupIndex};return this.parent.trigger(l.j,y),a},t.prototype.getContentTdClass=function(e){return e.last?[c.n]:[c.n,c._15]},t.prototype.renderContentTableHeader=function(e){var t=i.i(n.createElement)("thead");t.appendChild(this.parent.eventBase.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&t.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),i.i(n.prepend)([t],e)},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+c.w):this.getContentAreaElement()},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+c._28)},t.prototype.getEndDateFromStartDate=function(e){var t=this.parent.activeViewOptions.timeScale.interval*o.g,i=t/this.parent.activeViewOptions.timeScale.slotCount,n=new Date(e.getTime());return n.setMilliseconds(n.getMilliseconds()+i),n},t.prototype.getTimeSlotRows=function(e){var t=[],i=this.getStartHour(),n=this.getEndHour(),r=this.parent.activeViewOptions.timeScale.interval*o.g,a=r/this.parent.activeViewOptions.timeScale.slotCount,s=Math.round(o.c/a),l=i.getTime(),c=n.getTime();if(l!==c){var p=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount;s=Math.abs(c-l)/a-(new Date(c).getTimezoneOffset()-new Date(l).getTimezoneOffset())/p}this.parent.activeViewOptions.timeScale.enable||(s=1);for(var d=this.parent.getStartEndTime(this.parent.workHours.start),h=this.parent.getStartEndTime(this.parent.workHours.end),u=0;u<s;u++){var g=new Date(l+a*u);if(o.F(g)||new Date(l).getTimezoneOffset()!==g.getTimezoneOffset()){var v=new Date(l).getTimezoneOffset()-g.getTimezoneOffset();g=new Date(g.getTime()-6e4*v)}var f=u%(r/a),m={date:new Date(""+g),startHour:d,endHour:h,first:0===f,middle:f<this.parent.activeViewOptions.timeScale.slotCount-1,last:f===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(m),t.push(m)}return t},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var t=this.getTimeSlotRows(),i=new Date(new Date(t[0].date.getTime()).setHours(e.getHours(),e.getMinutes(),e.getMilliseconds())),n=0;n<t.length;n++)if(t[parseInt(n.toString(),10)].date.getTime()>i.getTime())return e.setHours(t[n-1].date.getHours(),t[n-1].date.getMinutes(),t[n-1].date.getMilliseconds()),new Date(e);return null},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);var t=this.getContentAreaElement();t&&(n.EventHandler.remove(t,"scroll",this.onContentScroll),n.EventHandler.remove(t,n.Browser.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this)}},t}(r.a)},function(e,t){e.exports=i},function(e,t){e.exports=n},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a});var n=i(0),r=(i.n(n),function(){function e(){}return e.prototype.firstDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth())},e.prototype.lastDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},e.prototype.isMonthStart=function(e){return 1===e.getDate()},e.prototype.getLeapYearDaysCount=function(){return 366},e.prototype.getYearDaysCount=function(e,t){return(e.getFullYear()+t)%4==0?366:365},e.prototype.getDate=function(e){return e.getDate()},e.prototype.getMonth=function(e){return e.getMonth()+1},e.prototype.getFullYear=function(e){return e.getFullYear()},e.prototype.getYearLastDate=function(e,t){return new Date(e.getFullYear()+t,0,0)},e.prototype.getMonthDaysCount=function(e){return this.lastDateOfMonth(e).getDate()},e.prototype.getMonthStartDate=function(e){return new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){return e.setDate(1),new Date(e.setMonth(e.getMonth()+1))},e.prototype.getExpectedDays=function(e,t){return t},e.prototype.setDate=function(e,t){e.setDate(t)},e.prototype.setValidDate=function(e,t,r,a,s){i.i(n.isNullOrUndefined)(s)?e.setMonth(e.getMonth()+t,r):e.setMonth((s?a:e.getMonth())+t)},e.prototype.setMonth=function(e,t,i){e.setDate(1),e.setFullYear(e.getFullYear()),e.setMonth(t-1);var n=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(Math.min(i,n))},e.prototype.addYears=function(e,t){e.setFullYear(e.getFullYear()+t)},e.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()},e.prototype.checkMonth=function(e,t){return-1===t.indexOf(e.getMonth()+1)},e.prototype.compareMonth=function(e,t){return e.getMonth()>t.getMonth()},e.prototype.isSameYear=function(e,t){return e.getFullYear()===t.getFullYear()},e.prototype.isLastMonth=function(e){return 11===e.getMonth()},e.prototype.isLeapYear=function(e,t){return(e+t)%4==0},e}()),a=function(){function e(){}return e.prototype.firstDateOfMonth=function(e){var t=this.getHijriDate(e);return n.HijriParser.toGregorian(t.year,t.month,1)},e.prototype.lastDateOfMonth=function(e){var t=this.getHijriDate(e),i=this.getDaysInMonth(t.month,t.year),r=n.HijriParser.toGregorian(t.year,t.month,i),a=new Date(r.getTime());a=new Date(a.setDate(a.getDate()+1));var s=this.getHijriDate(a);return t.month===s.month?a:(s=this.getHijriDate(r),t.month===s.month?r:new Date(r.setDate(r.getDate()-1)))},e.prototype.isMonthStart=function(e){return 1===this.getHijriDate(e).date},e.prototype.getLeapYearDaysCount=function(){return 355},e.prototype.getYearDaysCount=function(e,t){var i=this.getHijriDate(e);return this.isLeapYear(i.year,t)?355:354},e.prototype.getDate=function(e){return this.getHijriDate(e).date},e.prototype.getMonth=function(e){return this.getHijriDate(e).month},e.prototype.getFullYear=function(e){return this.getHijriDate(e).year},e.prototype.getYearLastDate=function(e,t){var i=this.getHijriDate(e);return n.HijriParser.toGregorian(i.year+t,1,0)},e.prototype.getMonthDaysCount=function(e){var t=this.lastDateOfMonth(e);return this.getHijriDate(t).date},e.prototype.getMonthStartDate=function(e){var t=this.firstDateOfMonth(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){var t=this.lastDateOfMonth(e);return t.setDate(t.getDate()+1),new Date(t.setMonth(t.getMonth()))},e.prototype.getExpectedDays=function(e,t){for(var i=this.getHijriDate(e),r=[],a=0;a<t.length;a++){var s=n.HijriParser.toGregorian(i.year,i.month,t[parseInt(a.toString(),10)]);r.push(s.getDate())}return r},e.prototype.setDate=function(e,t){var i=this.getHijriDate(e),r=n.HijriParser.toGregorian(i.year,i.month,t);this.updateDateObj(e,r)},e.prototype.setValidDate=function(e,t,r,a,s){var o=i.i(n.isNullOrUndefined)(s)?e:this.firstDateOfMonth(s),l=this.getHijriDate(o),c=n.HijriParser.toGregorian(l.year,l.month+t,r);this.updateDateObj(e,c)},e.prototype.setMonth=function(e,t,i){var r=this.getHijriDate(e),a=n.HijriParser.toGregorian(r.year,t,i);this.updateDateObj(e,a)},e.prototype.addYears=function(e,t,i){var r=this.getHijriDate(e),a=n.HijriParser.toGregorian(r.year+t,i,1);this.updateDateObj(e,a)},e.prototype.isSameMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month===n.month},e.prototype.checkMonth=function(e,t){var i=this.getHijriDate(e);return-1===t.indexOf(i.month)},e.prototype.compareMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month>n.month},e.prototype.isSameYear=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.year===n.year},e.prototype.isLastMonth=function(e){return 12===this.getHijriDate(e).month},e.prototype.updateDateObj=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())},e.prototype.isLeapYear=function(e,t){return(14+11*(e+t))%30<11},e.prototype.getDaysInMonth=function(e,t){var i=0;return i=29+(e+1)%2,11===e&&this.isLeapYear(t,0)&&i++,i},e.prototype.getHijriDate=function(e){return n.HijriParser.getHijriDate(e)},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(11)),a=(i.n(r),i(4)),s=i(1),o=i(3),l=i(2),c=function(){function e(e){this.slots=[],this.isDoubleTapped=!1,this.parent=e}return e.prototype.processData=function(e,t,r){var a=this,o=this.parent.activeView.startDate(),l=this.parent.activeView.endDate(),c=this.parent.eventFields,p=[],d=1,h=!1,u=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];e.length>0&&i.i(n.isNullOrUndefined)(e[0][c.id])&&(h=!0);for(var g=this,v=0,f=e;v<f.length;v++){var m=f[v];!function(e){h&&(e[c.id]=d++),e=g.updateEventDateTime(e),t?g.processTimezoneChange(e,r):g.parent.isPrinting||g.parent.uiStateValues.isPreventTimezone||(e=g.processTimezone(e));for(var s=0;s<u.length;s++)null!==e[u[parseInt(s.toString(),10)].field]&&0!==e[u[parseInt(s.toString(),10)].field]||(e[u[parseInt(s.toString(),10)].field]=void 0);if(i.i(n.isNullOrUndefined)(e[c.recurrenceRule])||""!==e[c.recurrenceRule]||(e[c.recurrenceRule]=null),i.i(n.isNullOrUndefined)(e[c.recurrenceRule])||!i.i(n.isNullOrUndefined)(e[c.recurrenceID])||g.parent.crudModule&&g.parent.crudModule.crudObj.isCrudAction)if(g.parent.crudModule&&g.parent.crudModule.crudObj.isCrudAction)if(!i.i(n.isNullOrUndefined)(e[c.recurrenceRule])&&i.i(n.isNullOrUndefined)(e[c.recurrenceID]))for(var o=g.generateOccurrence(e,null,!0),l=0,v=o;l<v.length;l++){var f=v[l];!function(e){var t=g.parent.eventsProcessed.filter(function(t){return t[c.startTime].getTime()-e[c.startTime].getTime()==0&&t[c.id]===e[c.id]});e.Guid=t.length>0?t[0].Guid:g.generateGuid(),p.push(e)}(f)}else{var m=g.parent.eventsProcessed.filter(function(t){return t[a.parent.eventFields.id]===e[a.parent.eventFields.id]});e.Guid=m.length>0?m[0].Guid:g.generateGuid(),p.push(e)}else e.Guid=g.generateGuid(),p.push(e);else p=p.concat(g.generateOccurrence(e,null,!0))}(m)}this.parent.eventsProcessed=[];var y=p.filter(function(e){return!e[a.parent.eventFields.isBlock]});this.parent.eventsProcessed=this.filterEvents(o,l,y);for(var T=p.filter(function(e){return e[a.parent.eventFields.isBlock]}),D=0,w=T;D<w.length;D++){var b=w[D];if(b[c.isAllDay]){s.b(new Date(b[c.startTime].getTime()))<s.b(new Date(b[c.endTime].getTime()))||(b[c.startTime]=s.b(b[c.startTime]),b[c.endTime]=s.d(s.b(b[c.endTime]),1))}}return this.parent.blockProcessed=T,y},e.prototype.updateEventDateTime=function(e){return"string"==typeof e[this.parent.eventFields.startTime]&&(e[this.parent.eventFields.startTime]=s.z(e[this.parent.eventFields.startTime])),"string"==typeof e[this.parent.eventFields.endTime]&&(e[this.parent.eventFields.endTime]=s.z(e[this.parent.eventFields.endTime])),e},e.prototype.getProcessedEvents=function(e){void 0===e&&(e=this.parent.eventsData);for(var t=[],r=0,a=e;r<a.length;r++){var s=a[r];!i.i(n.isNullOrUndefined)(s[this.parent.eventFields.recurrenceRule])&&i.i(n.isNullOrUndefined)(s[this.parent.eventFields.recurrenceID])?t=t.concat(this.generateOccurrence(s)):t.push(s)}return t},e.prototype.timezonePropertyChange=function(e){var t=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(t,!0,e);this.parent.notify(l.E,{processedData:i})},e.prototype.timezoneConvert=function(e){var t=this.parent.eventFields;if(e[t.startTimezone]=e[t.startTimezone]||e[t.endTimezone],e[t.endTimezone]=e[t.endTimezone]||e[t.startTimezone],this.parent.timezone){var i=e[t.startTimezone],n=e[t.endTimezone];e[t.startTime]=this.parent.tzModule.convert(e[t.startTime],this.parent.timezone,i),e[t.endTime]=this.parent.tzModule.convert(e[t.endTime],this.parent.timezone,n)}},e.prototype.processTimezoneChange=function(e,t){var i=this.parent.eventFields;e[i.isAllDay]||(t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],t,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],t,this.parent.timezone)):!t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)):t&&!this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],t),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],t)))},e.prototype.processTimezone=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventFields;if(e[i.startTimezone]||e[i.endTimezone]){var n=e[i.startTimezone]||e[i.endTimezone],r=e[i.endTimezone]||e[i.startTimezone];t?this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone),e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],r)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],r),this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone)))}else this.parent.timezone&&(t?(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)));return e},e.prototype.filterBlockEvents=function(e){var t,r=this.parent.eventFields,a=e[r.startTime],o=e[r.endTime];if(this.parent.activeViewOptions.group.resources.length>0){var l=this.getGroupIndexFromEvent(e);t=this.parent.resourceBase.lastResourceLevel[parseInt(l.toString(),10)]}for(var c=i.i(n.extend)([],this.parent.blockProcessed,null,!0),p=0,d=c;p<d.length;p++){var h=d[p];if(h[r.isAllDay]){h[r.endTime].getTime()>s.b(new Date(h[r.endTime].getTime())).getTime()&&(h[r.startTime]=s.b(h[r.startTime]),h[r.endTime]=s.d(s.b(h[r.endTime]),1))}}return this.filterEvents(a,o,c,t)},e.prototype.filterEvents=function(e,t,i,n){void 0===i&&(i=this.parent.eventsProcessed);var a=this.parent.dataModule.getStartEndQuery(e,t),s=new r.DataManager({json:i}).executeLocal((new r.Query).where(a));return n&&(s=this.filterEventsByResource(n,s)),this.sortByTime(s)},e.prototype.filterEventsByRange=function(e,t,i){var n=this,r=[];return r=t&&i?this.filterEvents(t,i,e):t&&!i?e.filter(function(e){return e[n.parent.eventFields.startTime]>=t}):!t&&i?e.filter(function(e){return e[n.parent.eventFields.endTime]<=i}):e,this.sortByTime(r)},e.prototype.filterEventsByResource=function(e,t){void 0===t&&(t=this.parent.eventsProcessed);for(var i={},n=this.parent.resourceBase.resourceCollection,r=0;r<n.length;r++)i[n[parseInt(r.toString(),10)].field]=e.groupOrder[parseInt(r.toString(),10)];var a=Object.keys(i);return t.filter(function(e){return a.every(function(t){return e[""+t]instanceof Array?e[""+t].indexOf(i[""+t])>-1:e[""+t]===i[""+t]})})},e.prototype.sortByTime=function(e){if(!this.parent.eventSettings.sortComparer||"function"!=typeof this.parent.eventSettings.sortComparer&&"string"!=typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventFields;e.sort(function(e,i){var n=e[t.startTime],r=i[t.startTime];return n.getTime()-r.getTime()})}else e=this.customSorting(e);return e},e.prototype.sortByDateTime=function(e){if(!this.parent.eventSettings.sortComparer||"function"!=typeof this.parent.eventSettings.sortComparer&&"string"!=typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventFields;e.sort(function(e,i){var n=e[t.startTime],r=i[t.startTime],a=e[t.endTime],s=i[t.endTime],o=a.getTime()-n.getTime(),l=s.getTime()-r.getTime();return n.getTime()-r.getTime()||l-o})}else e=this.customSorting(e);return e},e.prototype.customSorting=function(e){if("function"==typeof this.parent.eventSettings.sortComparer)return this.parent.eventSettings.sortComparer.call(this.parent,e);if("string"==typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventSettings.sortComparer.split("."),r=void 0;if(i.i(n.isNullOrUndefined)(window)||(r=window[t[t.length-1]]),r)return r(e)}return e},e.prototype.getSmallestMissingNumber=function(e){for(var t=Math.max.apply(Math,e),i=0;i<t;i++)if(-1===e.indexOf(i))return i;return t+1},e.prototype.splitEventByDay=function(e){var t=this.parent.eventFields,r=[],a=e[t.startTime],o=e[t.endTime];if(s.b(new Date(a.getTime()))<s.b(new Date(o.getTime())))for(var l=new Date(a.getTime()),c=s.d(s.b(new Date(a.getTime())),1),p=0===o.getHours()&&0===o.getMinutes()?o:s.d(o,1),d=1,h=s.y(a.getTime(),p.getTime());c<=o&&l.getTime()!==c.getTime();){var u=i.i(n.extend)({},e);u[t.startTime]=l,u[t.endTime]=c,u.data={index:d,count:h},u.Guid=this.generateGuid(),u.isSpanned=!0,r.push(u),l=c,s.b(new Date(l.getTime())).getTime()===s.b(new Date(o.getTime())).getTime()&&c.getTime()!==o.getTime()?(c=new Date(l.getTime()),c=new Date(c.setHours(o.getHours(),o.getMinutes(),o.getSeconds()))):c=s.d(s.b(new Date(l.getTime())),1),d++}else r.push(e);return r},e.prototype.splitEvent=function(e,t){var r=this.parent.eventFields,a=s.b(e[r.startTime]).getTime(),o=s.b(e[r.endTime]).getTime();if(s.s(e[r.endTime])<=0){var l=s.d(s.b(e[r.endTime]),-1).getTime();o=a>l?a:l}var c=a,p=o,d=[];if(a!==o){a<t[0].getTime()&&(a=t[0].getTime()),o>t[t.length-1].getTime()&&(o=t[t.length-1].getTime());for(var h=a,u=0;u<this.slots.length;u++){var g=this.slots[parseInt(u.toString(),10)];if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){for(var v=[],f=0,m=g;f<m.length;f++){var y=m[f];v.push(new Date(y))}var T=this.getRenderedDates(v);if(!i.i(n.isNullOrUndefined)(T)&&T.length>0){g=[];for(var D=0,w=T;D<w.length;D++){var b=w[D];g.push(b.getTime())}}}if("number"==typeof g){var l=g;g=[],g.push(l)}var C=g[0];if((h=h<=C&&o>=C?C:h)>o||C>o)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&"WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView){var S=g.indexOf(h);if(-1!==S){var O=g.indexOf(o),E=-1!==O;O=E?O:g.length-1;var x=O-S+1,A=g[parseInt(S.toString(),10)]!==c,V=g[parseInt(O.toString(),10)]!==p;if(d.push(this.cloneEventObject(e,g[parseInt(S.toString(),10)],g[parseInt(O.toString(),10)],x,A,V)),E)break}}else if(this.dateInRange(h,g[0],g[g.length-1])){for(var I=[],M=0;M<g.length;M++)this.dateInRange(g[parseInt(M.toString(),10)],c,p)&&I.push(g[parseInt(M.toString(),10)]);if(I.length>0)if(this.parent.activeViewOptions.group.byDate)for(var k=0,R=I;k<R.length;k++){var _=R[k];d.push(this.cloneEventObject(e,_,_,1,_!==c,_!==p))}else{var A=I[0]!==c,V=I[I.length-1]!==p;d.push(this.cloneEventObject(e,I[0],I[I.length-1],I.length,A,V))}}}}else d.push(this.cloneEventObject(e,a,o,1,!1,!1));return d},e.prototype.cloneEventObject=function(e,t,r,a,s,o){var l=this.parent.eventFields,c=i.i(n.extend)({},e,null,!0),p={count:a,isLeft:s,isRight:o};return p[l.startTime]=e[l.startTime],p[l.endTime]=e[l.endTime],c.data=p,c[l.startTime]=new Date(t),c[l.endTime]=new Date(r),c},e.prototype.dateInRange=function(e,t,i){return t<=e&&e<=i},e.prototype.getSelectedEventElements=function(e){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(e);else{if(this.parent.selectedElements.filter(function(t){return t.getAttribute("data-guid")===e.getAttribute("data-guid")}).length<=0)for(var t='div[data-guid="'+e.getAttribute("data-guid")+'"]',i=[].slice.call(this.parent.element.querySelectorAll(t)),n=0,r=i;n<r.length;n++){var a=r[n];this.parent.selectedElements.push(a)}else{var s=this.parent.selectedElements.filter(function(t){return t.getAttribute("data-guid")!==e.getAttribute("data-guid")});this.parent.selectedElements=s}}return e&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements,!1),this.parent.selectedElements},e.prototype.getSelectedEvents=function(){var e=this,t=[],i=[];return[].slice.call(this.parent.element.querySelectorAll("."+o.R)).filter(function(n){0===t.filter(function(e){return e.Guid===n.getAttribute("data-guid")}).length&&t.push(e.getEventByGuid(n.getAttribute("data-guid"))),i.push(n)}),{event:t.length>1?t:t[0],element:i.length>1?i:i[0]}},e.prototype.removeSelectedAppointmentClass=function(){var e=this.getSelectedAppointments();i.i(n.removeClass)(e,o.R),"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||i.i(n.removeClass)(e,o.S)},e.prototype.addSelectedAppointments=function(e,t){"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass(),i.i(n.addClass)(e,o.R),e.length>0&&!t&&e[e.length-1].focus()},e.prototype.getSelectedAppointments=function(){return[].slice.call(this.parent.element.querySelectorAll("."+o.R+",."+o.A+":focus"))},e.prototype.focusElement=function(e){if(!this.parent.eventWindow.dialogObject||!this.parent.eventWindow.dialogObject.visible){var t=document.activeElement,r=this.parent.getSelectedCells();if(!(r.length>0&&(t&&(this.parent.element.contains(t)||-1!==r.indexOf(t))||e))){var a=this.getSelectedAppointments();return a.length>0?this.parent.activeEventData&&this.parent.activeEventData.element&&a.indexOf(this.parent.activeEventData.element)>-1?void this.parent.activeEventData.element.focus():void a[a.length-1].focus():void 0}if(this.parent.keyboardInteractionModule){var s=!i.i(n.isNullOrUndefined)(this.parent.activeCellsData)&&this.parent.activeCellsData.element||r[r.length-1];this.parent.keyboardInteractionModule.selectCells(s instanceof Array,s)}}},e.prototype.selectWorkCellByTime=function(e){var t;if("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)return t;if(e.length>0){var i=e[e.length-1],n=i[this.parent.eventFields.startTime],r=new Date(+n).setMinutes(0,0,0),a=this.isAllDayAppointment(i);("Month"===this.parent.currentView||a)&&(r=new Date(+n).setHours(0,0,0,0));var s=void 0;s=a&&-1!==["Day","Week","WorkWeek"].indexOf(this.parent.currentView)?this.parent.getAllDayRow():this.parent.getContentTable();var o='[data-date="'+new Date(r).getTime()+'"]';if(this.parent.activeViewOptions.group.resources.length>0&&(o+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),t=s.querySelector(o))return this.parent.activeCellsData=this.parent.getCellDetails(t),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,t),t}return t},e.prototype.getGroupIndexFromEvent=function(e){for(var t,r,a,s,o=this.parent.resourceBase.resourceCollection.length-1;o>=0;o--){var l=e[this.parent.resourceBase.resourceCollection[parseInt(o.toString(),10)].field];if(!i.i(n.isNullOrUndefined)(l)){r=this.parent.resourceBase.resourceCollection[parseInt(o.toString(),10)],t=o,a=r.name,s=r.field;break}}i.i(n.isNullOrUndefined)(a)&&i.i(n.isNullOrUndefined)(t)&&(a=this.parent.resourceCollection.slice(-1)[0].name,t=this.parent.resourceCollection.length-1,s=this.parent.resourceCollection.slice(-1)[0].field,r=this.parent.resourceCollection.filter(function(e,i){return e.name===a?(t=i,e):null})[0]);var c=e[""+s]instanceof Array?e[""+s][0]:e[""+s];if(t>0){var p=this.parent.resourceCollection[t-1].field;return this.parent.resourceBase.getIndexFromResourceId(c,a,r,e,p)}return this.parent.resourceBase.getIndexFromResourceId(c,a,r)},e.prototype.isAllDayAppointment=function(e){var t=this.parent.eventFields,i=e[t.isAllDay],n=(s.G(e[t.endTime])-s.G(e[t.startTime]))/s.c>=1;return!!(i||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement&&n)},e.prototype.addEventListener=function(){this.parent.on(l.L,this.appointmentBorderRemove,this)},e.prototype.removeEventListener=function(){this.parent.off(l.L,this.appointmentBorderRemove)},e.prototype.appointmentBorderRemove=function(e){var t=e.event.target;i.i(n.closest)(t,"."+o.A)?"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass():i.i(n.closest)(t,"."+o.T)||(this.removeSelectedAppointmentClass(),this.parent.selectedElements=[])},e.prototype.wireAppointmentEvents=function(e,t,r){void 0===r&&(r=!1);var a=!i.i(n.isNullOrUndefined)(t)&&t[this.parent.eventFields.isReadonly];n.EventHandler.add(e,"click",this.eventClick,this),this.parent.isAdaptive||this.parent.activeViewOptions.readonly||a||(n.EventHandler.add(e,"touchstart",this.eventTouchClick,this),n.EventHandler.add(e,"dblclick",this.eventDoubleClick,this)),this.parent.activeViewOptions.readonly||a||r||(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(e),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(e))},e.prototype.eventTouchClick=function(e){var t=this;setTimeout(function(){return t.isDoubleTapped=!1},250),e.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(e):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(e))},e.prototype.renderResizeHandler=function(e,t,r){if(this.parent.resizeModule&&this.parent.allowResizing&&!this.parent.activeViewOptions.readonly&&!r)for(var a=0,s=Object.keys(t);a<s.length;a++){var l=s[a],c=i.i(n.createElement)("div",{className:o.U});switch(l){case"isLeft":t.isLeft||(c.appendChild(i.i(n.createElement)("div",{className:"e-left-right-resize"})),i.i(n.addClass)([c],this.parent.enableRtl?o.V:o.W),i.i(n.prepend)([c],e));break;case"isRight":t.isRight||(c.appendChild(i.i(n.createElement)("div",{className:"e-left-right-resize"})),i.i(n.addClass)([c],this.parent.enableRtl?o.W:o.V),i.i(n.append)([c],e));break;case"isTop":t.isTop||(c.appendChild(i.i(n.createElement)("div",{className:"e-top-bottom-resize"})),i.i(n.addClass)([c],o.X),i.i(n.prepend)([c],e));break;case"isBottom":t.isBottom||(c.appendChild(i.i(n.createElement)("div",{className:"e-top-bottom-resize"})),i.i(n.addClass)([c],o.Y),i.i(n.append)([c],e))}}},e.prototype.eventClick=function(e){var t=this,r=e.target;if(!(r.classList.contains(o.Z)||r.classList.contains(o._0)||r.classList.contains(o._1)))if((e.ctrlKey||e.metaKey)&&1===e.which&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+o.R));var a=i.i(n.closest)(e.target,"."+o.A);this.getSelectedEventElements(a),this.activeEventData(e,!1);var s={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(l.d,s);var c=i.i(n.extend)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(l.k,c)}else{this.removeSelectedAppointmentClass(),this.activeEventData(e,!0);var p={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(l.d,p);var c=i.i(n.extend)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(l.k,c,function(e){if(e.cancel)t.removeSelectedAppointmentClass(),t.parent.selectedElements=[],t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if("Agenda"!==t.parent.currentView&&"MonthAgenda"!==t.parent.currentView||i.i(n.addClass)([t.parent.activeEventData.element],o.S),t.parent.allowInline){var r={data:e.event,element:e.element,type:"Event"};t.parent.notify(l.x,r)}else t.parent.notify(l.k,e)})}},e.prototype.eventDoubleClick=function(e){var t=this;if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),"touchstart"===e.type&&this.activeEventData(e,!0),this.removeSelectedAppointmentClass(),this.parent.selectedElements=[],!this.parent.activeEventData.element.classList.contains(o._2)&&!this.parent.activeEventData.element.querySelector("."+o._1)){var r=i.i(n.extend)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(l.l,r,function(e){e.cancel||(!i.i(n.isNullOrUndefined)(t.parent.activeEventData.event)&&i.i(n.isNullOrUndefined)(t.parent.activeEventData.event[t.parent.eventFields.recurrenceID])?t.parent.eventWindow.openEditor(t.parent.activeEventData.event,"Save"):(t.parent.currentAction="EditOccurrence",t.parent.quickPopup.openRecurrenceAlert()))})}},e.prototype.getEventByGuid=function(e){return this.parent.eventsProcessed.filter(function(t){return t.Guid===e})[0]},e.prototype.getEventById=function(e){var t=this;return this.parent.eventsData.filter(function(i){return i[t.parent.eventFields.id]===e})[0]},e.prototype.generateGuid=function(){return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.prototype.getEventIDType=function(){return 0!==this.parent.eventsData.length?typeof this.parent.eventsData[0][this.parent.eventFields.id]:0!==this.parent.blockData.length?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"},e.prototype.getEventMaxID=function(e){var t=this;if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;var r,a=this.getEventIDType();if("string"===a&&(r=this.generateGuid()),"number"===a){var s=this.parent.eventsData.concat(this.parent.blockData),o=s.map(function(e){return e[t.parent.eventFields.id]}),l=o.reduce(function(e,t){return Math.max(e,t)});l=i.i(n.isNullOrUndefined)(e)?l:l+e,r=l+1}return r},e.prototype.activeEventData=function(e,t){var r=this,a=i.i(n.closest)(e.target,"."+o.A),s=a.getAttribute("data-guid");t&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+s+'"]')),!0),a.focus());var l=this.getEventByGuid(s);l&&l.isSpanned&&(l=this.parent.eventsData.filter(function(e){return e[r.parent.eventFields.id]===l[r.parent.eventFields.id]})[0]),this.parent.activeEventData={event:l,element:a}},e.prototype.generateOccurrence=function(e,t,r){var o=e[this.parent.eventFields.startTime],l=e[this.parent.eventFields.endTime],c=e[this.parent.eventFields.recurrenceRule],p=l.getTimezoneOffset()-o.getTimezoneOffset(),d=l.getTime()-o.getTime()-6e4*p;t=new Date((t||this.parent.activeView.startDate()).getTime()-d);var h,u=e[this.parent.eventFields.recurrenceException];"Agenda"!==this.parent.currentView&&r&&(h=s.t(t,this.parent.activeView.endDate())+1);var g=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),v=this.parent.activeViewOptions.firstDayOfWeek,f=this.parent.calendarMode,m=i.i(a.b)(o,c,u,v,h,t,f,g);"Agenda"===this.parent.currentView&&-1===c.indexOf("COUNT")&&-1===c.indexOf("UNTIL")&&(i.i(n.isNullOrUndefined)(e.generatedDates)?e.generatedDates={start:new Date(m[0]),end:new Date(m[m.length-1])}:(m[0]<e.generatedDates.start.getTime()&&(e.generatedDates.start=new Date(m[0])),m[m.length-1]>e.generatedDates.end.getTime()&&(e.generatedDates.end=new Date(m[m.length-1]))));for(var y=[],T=0,D=m;T<D.length;T++){var w=D[T],b=i.i(n.extend)({},e,null,!0);w=this.getDSTAdjustedTime(w,b),b[this.parent.eventFields.startTime]=new Date(w),b[this.parent.eventFields.endTime]=new Date(new Date(w).setMilliseconds(d)),b[this.parent.eventFields.recurrenceID]=b[this.parent.eventFields.id],delete b[this.parent.eventFields.recurrenceException],delete b[this.parent.eventFields.followingID],b.Guid=this.generateGuid(),y.push(b)}return y},e.prototype.getDSTAdjustedTime=function(e,t){var i=e;if(this.parent.timezone&&(t[this.parent.eventFields.startTimezone]||t[this.parent.eventFields.endTimezone])){var n=this.getDSTDiff(t[this.parent.eventFields.startTime],new Date(e),t[this.parent.eventFields.startTimezone]),r=this.getDSTDiff(t[this.parent.eventFields.startTime],new Date(e),this.parent.timezone);i=new Date(e).getTime()-6e4*(n-r)}return i},e.prototype.getDSTDiff=function(e,t,i){return this.parent.tzModule.offset(new Date(e),i)-this.parent.tzModule.offset(new Date(t),i)},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);var r;do{(e=this.getFollowingEvent(e))&&(r=i.i(n.extend)({},e,null,!0))}while(e&&t);if(t&&r){var a=this.getEventCollections(r),s=a.follow.slice(-1)[0];a.occurrence.length>0&&!r[this.parent.eventFields.recurrenceException]&&(s=a.occurrence.slice(-1)[0]),s&&(r[this.parent.eventFields.recurrenceRule]=s[this.parent.eventFields.recurrenceRule])}return r},e.prototype.getEventCollections=function(e,t){var i=[],n=[],r=e;do{r=this.getFollowingEvent(r,!0),r&&i.push(r),n=n.concat(this.getOccurrenceEvent(r||e))}while(r);var a={};if(t){var s=this.parent.eventFields;a={follow:i.filter(function(e){return e[s.startTime]>=t[s.startTime]}),occurrence:n.filter(function(e){return e[s.startTime]>=t[s.startTime]})}}else a={follow:i,occurrence:n};return a},e.prototype.getFollowingEvent=function(e,t){var i,n=this.parent.eventFields;return i=t?e[n.id]:e[n.recurrenceID]||e[n.followingID],this.parent.eventsData.filter(function(e){return e[t?n.followingID:n.id]===i}).shift()},e.prototype.isFollowingEvent=function(e,t){var i=e[this.parent.eventFields.startTime],n=t[this.parent.eventFields.startTime];return i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes()&&i.getSeconds()===n.getSeconds()},e.prototype.getOccurrenceEvent=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=t?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,r=t?"Guid":this.parent.eventFields.id;return(t?this.parent.eventsProcessed:this.parent.eventsData).filter(function(t){return t[""+n]===e[""+r]})},e.prototype.getOccurrencesByID=function(e){for(var t=this.parent.eventFields,r=[],a=this.parent.eventsData.filter(function(i){return i[t.id]===e}),s=0,o=a;s<o.length;s++){var l=o[s];i.i(n.isNullOrUndefined)(l[t.recurrenceRule])||(r=r.concat(this.generateOccurrence(l)))}return r},e.prototype.getOccurrencesByRange=function(e,t){for(var r=this.parent.eventFields,a=[],s=0,o=this.parent.eventsData;s<o.length;s++){var l=o[s];i.i(n.isNullOrUndefined)(l[r.recurrenceRule])||(a=a.concat(this.generateOccurrence(l)))}return a.filter(function(a){return a[r.startTime]>=e&&a[r.endTime]<=t&&!i.i(n.isNullOrUndefined)(a[r.recurrenceID])})},e.prototype.getDeletedOccurrences=function(e){var t,r=this.parent.eventFields,s=[];if(t="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(function(t){return t[r.id]===e})[0]:i.i(n.extend)({},e,null,!0),t[r.recurrenceException])for(var o=t[r.recurrenceException].split(","),l=this,c=0,p=o.length;c<p;c++)!function(c,p){if(0===l.parent.eventsData.filter(function(e){return e[r.recurrenceID]===t[r.id]&&e[r.recurrenceException]===o[parseInt(c.toString(),10)]}).length){var d=i.i(a.c)(o[parseInt(c.toString(),10)]),h=i.i(n.extend)({},e,null,!0);h[r.recurrenceID]=t[r.id],delete h[r.followingID],h[r.recurrenceException]=o[parseInt(c.toString(),10)];var u=new Date(d.getTime()),g=t[r.endTime].getTime()-t[r.startTime].getTime(),v=new Date(u.getTime());v.setMilliseconds(g),h[r.startTime]=new Date(u.getTime()),h[r.endTime]=new Date(v.getTime()),s.push(h)}}(c);return s},e.prototype.applyResourceColor=function(e,t,r,a,s){if(this.parent.resourceBase){var o=this.parent.resourceBase.getResourceColor(t,a);o&&(e.style[r]=i.i(n.isNullOrUndefined)(s)?o:function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,e.length/3),16)+", "+parseInt(e.substring(e.length/3,2*e.length/3),16)+", "+parseInt(e.substring(2*e.length/3,3*e.length/3),16)+", "+t+")"}(o,s))}},e.prototype.createBlockAppointmentElement=function(e,t,r){var a,s=e[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,l=i.i(n.createElement)("div",{className:o.B,attrs:{"data-id":"Appointment_"+e[this.parent.eventFields.id],"aria-disabled":"true"}});if(i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.eventTemplate)){var c=i.i(n.createElement)("div",{className:o.H});this.parent.sanitize(s,c),a=[c]}else{var p=this.parent.element.id+"_",d=this.parent.activeViewOptions.eventTemplateName,h=p+d+"eventTemplate",u="eventTemplate"+(r&&-1===this.parent.currentView.indexOf("Year")?"_"+t:"");a=this.parent.getAppointmentTemplate()(e,this.parent,u,h,!1)}return i.i(n.append)(a,l),this.setWrapperAttributes(l,t),l},e.prototype.setWrapperAttributes=function(e,t){i.i(n.isNullOrUndefined)(this.cssClass)||i.i(n.addClass)([e],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&e.setAttribute("data-group-index",t.toString())},e.prototype.getReadonlyAttribute=function(e){return(e[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()},e.prototype.isBlockRange=function(e){for(var t=e instanceof Array?e:[e],r=!1,a=this.parent.eventFields,s=0,o=t;s<o.length;s++){var l=o[s],c=[];i.i(n.isNullOrUndefined)(l[a.recurrenceRule])||!i.i(n.isNullOrUndefined)(l[a.recurrenceID])&&l[a.id]!==l[a.recurrenceID]?c.push(l):c=this.generateOccurrence(l);for(var p=0,d=c;p<d.length;p++){var h=d[p];if(this.filterBlockEvents(h).length>0){r=!0;break}}}return this.parent.uiStateValues.isBlock=r,r},e.prototype.getFilterEventsList=function(e,t){return new r.DataManager(e).executeLocal((new r.Query).where(t))},e.prototype.getSeriesEvents=function(e,t){var a=this.parent.eventFields;t=i.i(n.isNullOrUndefined)(t)?e[a.startTime]:t;var s,o,l,c=[],p=e[a.id],d=e[a.followingID],h="EditSeries"===this.parent.currentAction?"greaterthan":"greaterthanorequal";do{l=new r.Predicate(a.followingID,"equal",p).and(new r.Predicate(a.startTime,h,t)),o=this.getFilterEventsList(this.parent.eventsData,l),s=o.slice(-1)[0],i.i(n.isNullOrUndefined)(s)||s[a.id]===d?d=null:(c.push(s),p=s[a.id],d=s[a.followingID])}while(1===o.length&&!i.i(n.isNullOrUndefined)(s[a.followingID]));return c},e.prototype.getEditedOccurrences=function(e,t){for(var i,n=this.parent.eventFields,a=[],s=0,o=e;s<o.length;s++){var l=o[s],c=new r.Predicate(n.recurrenceID,"equal",l[n.id]).or(new r.Predicate(n.recurrenceID,"equal",l[n.followingID]).and(new r.Predicate(n.recurrenceID,"notequal",void 0)).and(new r.Predicate(n.recurrenceID,"notequal",null)));"EditFollowingEvents"!==this.parent.currentAction&&"DeleteFollowingEvents"!==this.parent.currentAction||(c=c.and(new r.Predicate(n.startTime,"greaterthanorequal",t))),i=this.getFilterEventsList(this.parent.eventsData,c),a=a.concat(i)}return a},e.prototype.getRenderedDates=function(e){var t,i=0,n=e.length;if(e[0]<this.parent.minDate&&e[e.length-1]>this.parent.maxDate){for(var r=0;r<e.length;r++)s.b(e[parseInt(r.toString(),10)]).getTime()===s.b(new Date(this.parent.minDate)).getTime()&&(i=r),s.b(e[parseInt(r.toString(),10)]).getTime()===s.b(new Date(this.parent.maxDate)).getTime()&&(n=r);t=e.filter(function(t){return t>=e[parseInt(i.toString(),10)]&&t<=e[parseInt(n.toString(),10)]})}return t},e.prototype.isValidEvent=function(e,t,i,n){var r=i.getTime()>n.startHour.getTime()&&t.getTime()<n.endHour.getTime(),a=n.startHour.getTime()<=t.getTime()&&e[this.parent.eventFields.startTime].getTime()>=n.startHour.getTime()&&e[this.parent.eventFields.endTime].getTime()<n.endHour.getTime()&&t.getTime()===i.getTime();return r||a},e.prototype.allDayExpandScroll=function(e){var t=0;[].slice.call(this.parent.element.querySelectorAll("."+o._3)).forEach(function(e){[].slice.call(e.children).forEach(function(e){e.style.top=t+"px"}),t+=e.offsetHeight}),t=e.offsetHeight-t,this.parent.element.querySelector("."+o._4).style.height=t/12+"em",this.parent.uiStateValues.expand?i.i(n.addClass)([e],o._5):i.i(n.removeClass)([e],o._5)},e.prototype.updateEventMinimumDuration=function(e,t,i){if(t.getTime()<i.getTime()){if((s.G(i)-s.G(t))/s.g<this.parent.eventSettings.minimumEventDuration){var n=new Date(t);if(n.setMinutes(n.getMinutes()+this.parent.eventSettings.minimumEventDuration),i=n,i.getTime()>e.endHour.getTime()){var r=new Date(e.endHour.getTime());r.setMinutes(r.getMinutes()-this.parent.eventSettings.minimumEventDuration),t=r,i=e.endHour}}}return{startDate:t,endDate:i}},e.prototype.createEventWrapper=function(e,t){void 0===e&&(e=""),void 0===t&&(t=0);for(var r=i.i(n.createElement)("tr"),a=this.parent.activeView.colLevels.slice(-1)[0],s=0,l=a.length;s<l;s++){var c=a[parseInt(s.toString(),10)],p=i.i(n.createElement)("td",{className:"allDay"===e?o._6:"timeIndicator"===e?o._7:o._8,attrs:{"data-date":c.date.getTime().toString()}});if(i.i(n.isNullOrUndefined)(c.groupIndex)||p.setAttribute("data-group-index",c.groupIndex.toString()),""===e){var d=i.i(n.createElement)("div",{id:o.D+"-"+t.toString(),className:o.D});p.appendChild(d)}r.appendChild(p),t+=1}return r},e.prototype.getPageCoordinates=function(e){if(i.i(n.isNullOrUndefined)(e))return e;var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},e.prototype.renderSpannedIcon=function(e,t){var r=i.i(n.createElement)("div",{className:o.O+" "+o.N});if(t.isLeft){var a=r.cloneNode();i.i(n.addClass)([a],o.P),i.i(n.prepend)([a],e)}if(t.isRight){var s=r.cloneNode();i.i(n.addClass)([s],o.Q),i.i(n.append)([s],e)}if(t.isTop){var l=r.cloneNode();i.i(n.addClass)([l],o._9),i.i(n.prepend)([l],e)}if(t.isBottom){var c=r.cloneNode();i.i(n.addClass)([c],o._10),i.i(n.append)([c],e)}},e.prototype.unWireEvents=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.A)),t=0,i=e;t<i.length;t++){var r=i[t];n.EventHandler.clearEvents(r)}},e.prototype.destroy=function(){this.unWireEvents(),this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(14)),a=i(1),s=i(2),o=i(3),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.dateRender=[],i.renderedEvents=[],i.renderedAllDayEvents=[],i.overlapEvents=[],i.moreEvents=[],i.overlapList=[],i.allDayEvents=[],i.slotCount=i.parent.activeViewOptions.timeScale.slotCount,i.interval=i.parent.activeViewOptions.timeScale.interval,i.allDayLevel=0,i.startHour=i.parent.activeView.getStartHour(),i.endHour=i.parent.activeView.getEndHour(),i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.animation=new n.Animation({progress:i.animationUiUpdate.bind(i)}),i.addEventListener(),i}return l(t,e),t.prototype.renderAppointments=function(){if(!i.i(n.isNullOrUndefined)(this.parent)){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.B+",."+o.A+",."+o._29)),t=!(!this.parent.crudModule||!this.parent.crudModule.crudObj.isCrudAction),r=0,a=e;r<a.length;r++){var l=a[r];if(!t||l.classList.contains(o._30)||l.classList.contains(o._29))i.i(n.remove)(l);else for(var c=parseInt(l.getAttribute("data-group-index"),10),p=0,d=this.parent.crudModule.crudObj.sourceEvent.length;p<d;p++)c!==this.parent.crudModule.crudObj.sourceEvent[parseInt(p.toString(),10)].groupIndex&&c!==this.parent.crudModule.crudObj.targetEvent[parseInt(p.toString(),10)].groupIndex||i.i(n.remove)(l)}if(this.element.querySelector("."+o.n)&&(this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell(),this.allDayElement=[].slice.call(this.element.querySelectorAll("."+o._4)),this.setAllDayRowHeight(0),0!==this.parent.eventsProcessed.length||0!==this.parent.blockProcessed.length)){var h=this.element.querySelector("."+o._25);n.EventHandler.remove(h,"click",this.rowExpandCollapse),n.EventHandler.add(h,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter(function(e,t,i){return t===i.map(function(e){return e.Guid}).indexOf(e.Guid)}),i.i(n.removeClass)(this.allDayElement,o._31),this.slots.push(this.parent.activeView.renderDates.map(function(e){return+e})),this.renderEvents("allDayEvents"),this.animation.animate(this.allDayElement[0])),this.parent.notify(s.G,{}),i.i(n.addClass)(this.allDayElement,o._31),t&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates()}}},t.prototype.initializeValues=function(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.resources.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.virtualScrollModule&&(this.resources=this.parent.resourceBase.renderedResources),this.cellHeight=parseFloat(this.parent.element.querySelector(".e-content-wrap tbody tr").getBoundingClientRect().height.toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,t=this.resources.length;e<t;e++)this.dateRender[parseInt(e.toString(),10)]=this.resources[parseInt(e.toString(),10)].renderDates},t.prototype.getHeight=function(e,t){var i=(a.G(t)-a.G(e))/a.g*(this.cellHeight*this.slotCount)/this.interval;return i=i<=0?this.cellHeight:i},t.prototype.appendEvent=function(e,t,r,a){var l=this.element.querySelector("."+o.D+'[id="'+o.D+"-"+r+'"]');this.parent.enableRtl?i.i(n.setStyleAttribute)(t,{right:a}):i.i(n.setStyleAttribute)(t,{left:a});var c=t.classList.contains(o.B)?"blockEvent":"event",p={data:i.i(n.extend)({},e,null,!0),element:t,cancel:!1,type:c};this.parent.trigger(s.m,p,function(e){e.cancel||l.appendChild(t)})},t.prototype.processBlockEvents=function(){for(var e=this.getResourceList(),t=this.getStartCount(),i=0,n=e;i<n.length;i++)for(var r=n[i],s=this.dateRender[parseInt(r.toString(),10)],o=0,l=s.length;o<l;o++){for(var c=new Date(s[parseInt(o.toString(),10)].getTime()),p=a.d(s[parseInt(o.toString(),10)],1),d=this.filterEvents(c,p,this.parent.blockProcessed,this.resources[parseInt(r.toString(),10)]),h=0,u=d;h<u.length;h++){var g=u[h];this.parent.resourceBase&&this.setValues(g,r),this.renderBlockEvents(g,o,r,t),this.cssClass=null,this.groupOrder=null}t+=1}},t.prototype.renderBlockEvents=function(e,t,r,s){var l=this.isSpannedEvent(e,t,r),c=l[this.fields.startTime],p=l[this.fields.endTime],d=a.b(new Date(this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)].getTime())),h=a.w(d,this.startHour,this.endHour);if(c<=p&&this.isValidEvent(e,c,p,h)&&this.isWorkDayAvailable(r,c)){var u=void 0,g=void 0;if(l[this.fields.isAllDay]){var v=this.parent.element.querySelector("."+o.g+" table");g=i.i(n.formatUnit)(v.offsetHeight),u=i.i(n.formatUnit)(0)}else g=i.i(n.formatUnit)(this.getHeight(c,p)),u=i.i(n.formatUnit)(this.getTopValue(c,t,r));var f=this.createBlockAppointmentElement(e,r,this.isResourceEventTemplate);i.i(n.setStyleAttribute)(f,{width:"100%",height:g,top:u});var m=this.getDayIndex(t,r,s);this.appendEvent(e,f,m,"0px")}},t.prototype.renderEvents=function(e){i.i(n.removeClass)(this.allDayElement,o._31);for(var t,r="allDayEvents"===e?this.sortByDateTime(this.allDayEvents):void 0,s=this.getResourceList(),l=this.getStartCount(),c="allDayEvents"===e?a.h(this.element.querySelector("."+o._6),o.A):0,p="allDayEvents"===e&&this.allDayElement.length>0?this.allDayElement[0].offsetTop:0,d=this,h=0,u=s;h<u.length;h++){var g=u[h];!function(s){t=!0,d.parent.crudModule&&d.parent.crudModule.crudObj.isCrudAction&&"allDayEvents"!==e&&!d.parent.uiStateValues.isGroupAdaptive&&0===d.parent.crudModule.crudObj.sourceEvent.filter(function(e){return e.groupIndex===s}).length&&0===d.parent.crudModule.crudObj.targetEvent.filter(function(e){return e.groupIndex===s}).length&&(t=!1),d.slots=[];var o=d.dateRender[parseInt(s.toString(),10)],h=d.getRenderedDates(o)||o;d.slots.push(o.map(function(e){return+e}));for(var u=0,g=o.length;u<g&&o[parseInt(u.toString(),10)]<=h[h.length-1];u++){d.renderedEvents=[];var v=new Date(o[parseInt(u.toString(),10)].getTime()),f=a.d(o[parseInt(u.toString(),10)],1),m=d.filterEvents(v,f,r,d.resources[parseInt(s.toString(),10)]);if(t)for(var y=0,T=m;y<T.length;y++){var D=T[y];if(d.parent.resourceBase&&d.setValues(D,s),"allDayEvents"===e)d.renderAllDayEvents(D,u,s,l,!1,p,c);else if(d.isAllDayAppointment(D))d.allDayEvents.push(i.i(n.extend)({},D,null,!0));else{if(d.parent.eventSettings.enableMaxHeight&&d.getOverlapIndex(D,u,!1,s)>0)continue;d.renderNormalEvents(D,u,s,l)}d.cssClass=null,d.groupOrder=null}else for(var w=0,b=m;w<b.length;w++){var C=b[w];d.isAllDayAppointment(C)&&d.allDayEvents.push(i.i(n.extend)({},C,null,!0))}l+=1}}(g)}},t.prototype.getStartCount=function(){return this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.timeScale.enable?parseInt(this.element.querySelector("."+o.D).getAttribute("id").split("-").slice(-1)[0],10):0},t.prototype.getDayIndex=function(e,t,i){var n=this;if(!this.parent.activeViewOptions.group.byDate)return i;if(this.parent.activeViewOptions.group.byDate&&!this.parent.activeViewOptions.group.hideNonWorkingDays){var r=this.parent.resourceBase.lastResourceLevel[0].renderDates.indexOf(this.dateRender[parseInt(t.toString(),10)][parseInt(e.toString(),10)]);return this.resources.length*r+t}for(var a=0,s=this.parent.activeView.colLevels[0],o=this.dateRender[parseInt(t.toString(),10)][parseInt(e.toString(),10)].getTime(),l=[],c=0;c<s.length&&(l=this.parent.resourceBase.resourceDateTree[parseInt(c.toString(),10)],o!==s[parseInt(c.toString(),10)].date.getTime());c++)a+=s[parseInt(c.toString(),10)].colSpan;var p=l.findIndex(function(e){return e.groupOrder.toString()===n.resources[parseInt(t.toString(),10)].groupOrder.toString()});return p<0?a:a+p},t.prototype.setValues=function(e,t){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[parseInt(t.toString(),10)].cssClass,this.groupOrder=this.resources[parseInt(t.toString(),10)].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)},t.prototype.getResourceList=function(){return Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map(function(e,t){return t})},t.prototype.createAppointmentElement=function(e,t,r,a){var s=this.parent.eventFields,l=e[s.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),c=i.i(n.createElement)("div",{className:o.A,attrs:{"data-id":"Appointment_"+e[s.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&i.i(n.addClass)([c],"e-read-only");var p=i.i(n.createElement)("div",{className:o.G});if(c.appendChild(p),this.parent.activeViewOptions.group.resources.length>0){var d=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:a;c.setAttribute("data-group-index",d.toString())}var h,u=r;if(i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.eventTemplate)){var g=i.i(n.createElement)("div",{className:o.H});if(this.parent.sanitize(l,g),t)if(e[s.isAllDay])h=[g];else{h=[];var v=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(e[s.startTime])}),f=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(e[s.endTime])});i.i(n.addClass)([g],"e-text-center"),u.isLeft||h.push(v),h.push(g),u.isRight||h.push(f)}else{var m=this.parent.getTimeString(e[s.startTime])+" - "+this.parent.getTimeString(e[s.endTime]),y=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:m}),T=i.i(n.createElement)("div",{className:o.K});this.parent.sanitize(e[s.location]||this.parent.eventSettings.fields.location.default||"",T),h=[g,y,T]}}else{var D=this.parent.element.id+"_",w=this.parent.activeViewOptions.eventTemplateName,b=D+w+"eventTemplate",C=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:a,S="eventTemplate"+(this.isResourceEventTemplate?"_"+C:"");h=this.parent.getAppointmentTemplate()(e,this.parent,S,b,!1)}if(i.i(n.append)(h,p),!(this.parent.isAdaptive||i.i(n.isNullOrUndefined)(e[s.recurrenceRule])&&i.i(n.isNullOrUndefined)(e[s.recurrenceID]))){var O=e[s.id]===e[s.recurrenceID]?o.L:o.M,E=i.i(n.createElement)("div",{className:o.N+" "+O});t?p.appendChild(E):c.appendChild(E)}return this.parent.eventBase.renderSpannedIcon(t?p:c,u),i.i(n.isNullOrUndefined)(this.cssClass)||i.i(n.addClass)([c],this.cssClass),this.applyResourceColor(c,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(c,u,e[this.fields.isReadonly]),c},t.prototype.createMoreIndicator=function(e,t,r){var a=r+t,s=e[parseInt(a.toString(),10)];if(s.childElementCount<=0){var l=i.i(n.createElement)("div",{className:o._29,id:o._29+"-"+a.toString()}),c=i.i(n.createElement)("div",{className:o.z,attrs:{tabindex:"0","data-index":a.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});l.appendChild(c),s.appendChild(l),n.EventHandler.add(c,"click",this.rowExpandCollapse,this)}else{var p=s.querySelector("."+o.z),d=parseInt(p.getAttribute("data-count"),10)+1;p.setAttribute("data-count",d.toString()),p.innerHTML="+"+this.parent.globalize.formatNumber(d)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}},t.prototype.isSpannedEvent=function(e,t,r){var s=a.b(this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)]),o=this.getRenderedDates(this.dateRender[parseInt(r.toString(),10)])||[s];0===o.filter(function(e){return e.getDay()===t}).length&&(s=a.b(o[0]));var l=this.parent.eventFields,c=a.w(s,this.startHour,this.endHour),p=i.i(n.extend)({},e,null,!0);p.isSpanned={isBottom:!1,isTop:!1},e[l.startTime].getTime()<c.startHour.getTime()&&(p[l.startTime]=c.startHour,p.isSpanned.isTop=!0),e[l.endTime].getTime()>c.endHour.getTime()&&(p[l.endTime]=c.endHour,p.isSpanned.isBottom=!0);var d=this.updateEventMinimumDuration(c,p[l.startTime],p[l.endTime]);return p[l.startTime]=d.startDate,p[l.endTime]=d.endDate,p},t.prototype.isWorkDayAvailable=function(e,t){if(this.parent.activeViewOptions.group.hideNonWorkingDays&&this.resources.length>0){var i=this.resources[parseInt(e.toString(),10)].resourceData[this.resources[parseInt(e.toString(),10)].resource.workDaysField]||this.parent.activeViewOptions.workDays;return i&&i.indexOf(t.getDay())>=0}return!0},t.prototype.renderAllDayEvents=function(e,t,r,l,c,p,d){var h=this,u=this.getRenderedDates(this.dateRender[parseInt(r.toString(),10)])||this.dateRender[parseInt(r.toString(),10)];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)].getTime()],u=[this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)]]);var g=this.splitEvent(e,u)[0],v=new Date(g[this.parent.eventFields.startTime].getTime()),f=new Date(g[this.parent.eventFields.endTime].getTime()),m=0,y=1,T=u[0].getTime()<=v.getTime()&&a.d(u.slice(-1)[0],1).getTime()>=v.getTime();if(v<=f&&T&&this.isWorkDayAvailable(r,v)){var D=[];if(this.renderedAllDayEvents[parseInt(r.toString(),10)]&&(D=this.renderedAllDayEvents[parseInt(r.toString(),10)].filter(function(t){return t.Guid===e.Guid}),this.parent.activeViewOptions.group.byDate&&(D=D.filter(function(e){return e[h.parent.eventFields.startTime]>=u[parseInt(t.toString(),10)]&&e[h.parent.eventFields.endTime]<=a.d(new Date(+u[parseInt(t.toString(),10)]),1)}))),0===D.length){var w=g.data.count,b=this.getOverlapIndex(g,t,!0,r);g.Index=b,this.allDayLevel=this.allDayLevel<b?b:this.allDayLevel;var C=g.data.isRight?0:"Day"===this.parent.currentView?4:7;w>=0&&(m=100*w-C),i.i(n.isNullOrUndefined)(this.renderedAllDayEvents[parseInt(r.toString(),10)])&&(this.renderedAllDayEvents[parseInt(r.toString(),10)]=[]),this.renderedAllDayEvents[parseInt(r.toString(),10)].push(i.i(n.extend)({},g,null,!0));var S,O=[].slice.call(this.element.querySelector("."+o._27).children),E=this.getDayIndex(t,r,l),x=this.element.querySelector("."+o._6+":nth-child("+(E+1)+")");S=c?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!0,g.data,r),i.i(n.addClass)([S],o._30);var A=i.i(n.extend)({},g.data,null,!0);e.data=A;var V={data:e,element:S,cancel:!1};this.parent.trigger(s.m,V,function(t){if(!t.cancel){if(x.appendChild(S),y+=(0===b?p:p+b*d)+1,i.i(n.setStyleAttribute)(S,{width:m+"%",top:i.i(n.formatUnit)(y)}),b>1){h.moreEvents.push(S);for(var r=0,a=w;r<a;r++)h.createMoreIndicator(O,r,E)}h.allDayElement[0].setAttribute("data-count",h.allDayLevel.toString());var s=4+(!h.parent.uiStateValues.expand&&h.allDayLevel>2?3*d:(h.allDayLevel+1)*d);h.setAllDayRowHeight(s),h.addOrRemoveClass(),h.wireAppointmentEvents(S,e)}})}}},t.prototype.renderNormalEvents=function(e,t,r,s,l){var c=this.isSpannedEvent(e,t,r),p=c[this.fields.startTime],d=c[this.fields.endTime],h="0%",u=0,g=a.b(new Date(this.dateRender[parseInt(r.toString(),10)][parseInt(t.toString(),10)].getTime())),v=a.w(g,this.startHour,this.endHour),f=this.isValidEvent(e,p,d,v);if(!(p.getTime()<this.parent.minDate.getTime()||d.getTime()>this.parent.maxDate.getTime())&&p<=d&&f&&this.isWorkDayAvailable(r,p)){var m=this.getHeight(p,d);p.getTime()>v.startHour.getTime()&&(u=this.getTopValue(p,t,r));var y=this.getOverlapIndex(c,t,!1,r);c.Index=y,this.overlapList.push(c),this.overlapList.length>1?(i.i(n.isNullOrUndefined)(this.overlapEvents[parseInt(y.toString(),10)])&&(this.overlapEvents[parseInt(y.toString(),10)]=[]),this.overlapEvents[parseInt(y.toString(),10)].push(c)):(this.overlapEvents=[],this.overlapEvents.push([c])),h=this.getEventWidth();var T={index:y,left:"0%",width:h,day:s,dayIndex:t,record:c,resource:r},D=this.adjustOverlapElements(T);h=D.appWidth,i.i(n.isNullOrUndefined)(this.renderedEvents[parseInt(r.toString(),10)])&&(this.renderedEvents[parseInt(r.toString(),10)]=[]),this.renderedEvents[parseInt(r.toString(),10)].push(i.i(n.extend)({},c,null,!0));var w=void 0;w=l?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!1,c.isSpanned,r),i.i(n.setStyleAttribute)(w,{width:this.parent.eventSettings.enableMaxHeight?"100%":D.appWidth,height:m+"px",top:u+"px"});var b=15*w.querySelectorAll("."+o.O).length,C=m-40-b,S=w.querySelector("."+o.H);!this.parent.isAdaptive&&S&&(S.style.maxHeight=i.i(n.formatUnit)(C));var O=this.getDayIndex(t,r,s),E={};E[this.fields.startTime]=e[this.fields.startTime],E[this.fields.endTime]=e[this.fields.endTime],c.data=E,this.appendEvent(c,w,O,D.appLeft),this.wireAppointmentEvents(w,e)}},t.prototype.getEventWidth=function(){var e="Day"===this.parent.currentView?97:94,t=(e-this.overlapEvents.length)/this.overlapEvents.length;return(t<0?0:t)+"%"},t.prototype.getEventLeft=function(e,t){var i=(parseFloat(e)+1)*t;return(i>99?99:i)+"%"},t.prototype.getTopValue=function(e,t,i){var n=a.w(a.b(this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)]),this.startHour,this.endHour),r=n.startHour,s=60*(e.getHours()-r.getHours())+(e.getMinutes()-r.getMinutes());return this.parent.activeViewOptions.timeScale.enable?s*this.cellHeight*this.slotCount/this.interval:0},t.prototype.getOverlapIndex=function(e,t,r,s){var o=this,l=this.parent.eventFields,c=[],p=-1;if(this.overlapEvents=[],r){if(!i.i(n.isNullOrUndefined)(this.renderedAllDayEvents[parseInt(s.toString(),10)])){var d=a.b(new Date(this.dateRender[parseInt(s.toString(),10)][parseInt(t.toString(),10)].getTime()));c=this.renderedAllDayEvents[parseInt(s.toString(),10)].filter(function(e){return a.b(e[l.startTime]).getTime()<=d.getTime()&&a.b(e[l.endTime]).getTime()>=d.getTime()}),this.parent.activeViewOptions.group.resources.length>0&&(c=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],c))}}else{var h=i.i(n.isNullOrUndefined)(this.renderedEvents[parseInt(s.toString(),10)])?[]:this.renderedEvents[parseInt(s.toString(),10)],u=[],g=e[l.startTime],v=e[l.endTime];this.overlapList=h.filter(function(e){return e[l.endTime]>g&&e[l.startTime]<=v||e[l.startTime]>=v&&e[l.endTime]<=g||e[l.endTime].getTime()===e[l.startTime].getTime()&&e[l.startTime].getTime()===g.getTime()&&e[l.endTime]<v}),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],this.overlapList)),this.overlapList.forEach(function(e){var t=h.filter(function(t){return t[l.endTime]>e[l.startTime]&&t[l.startTime]<=e[l.endTime]});o.parent.activeViewOptions.group.resources.length>0&&(t=o.filterEventsByResource(o.resources[parseInt(s.toString(),10)],t));var i=t.filter(function(e){return-1===o.overlapList.indexOf(e)});i.length>0&&(u=u.concat(i))});for(var f=0;f<u.length-1;f++)for(var m=f+1;m<u.length;m++)u[parseInt(f.toString(),10)][l.id]===u[parseInt(m.toString(),10)][l.id]&&(u.splice(m,1),m--);this.overlapList=this.overlapList.concat(u),c=this.overlapList;for(var y=0,T=c;y<T.length;y++){var D=T[y],w=D,b=w.Index;i.i(n.isNullOrUndefined)(this.overlapEvents[parseInt(b.toString(),10)])?this.overlapEvents[parseInt(b.toString(),10)]=[D]:this.overlapEvents[parseInt(b.toString(),10)].push(D)}}if(r||(c=c.filter(function(t){return t[l.startTime]===e[l.startTime]&&t[l.endTime]>e[l.endTime]||t[l.endTime]>e[l.startTime]&&t[l.startTime]<e[l.endTime]||t[l.endTime]===e[l.startTime]&&t[l.startTime]===e[l.endTime]||t[l.startTime].getTime()===e[l.startTime].getTime()&&t[l.endTime].getTime()===e[l.endTime].getTime()||t[l.startTime].getTime()===e[l.startTime].getTime()&&t[l.endTime].getTime()<e[l.endTime].getTime()||t[l.endTime].getTime()>e[l.endTime].getTime()})),c.length>0){var C=c.map(function(e){return e.Index});p=C.length>0?this.getSmallestMissingNumber(C):0}return-1===p?0:p},t.prototype.adjustOverlapElements=function(e){for(var t={appWidth:e.width,appLeft:e.left},r=0,a=this.overlapEvents.length;r<a;r++)if(!i.i(n.isNullOrUndefined)(this.overlapEvents[parseInt(r.toString(),10)]))for(var s=0,o=this.overlapEvents[parseInt(r.toString(),10)].length;s<o;s++){var l=this.getDayIndex(e.dayIndex,e.resource,e.day),c=this.element.querySelector("#e-appointment-wrapper-"+l);if(c&&c.childElementCount>0){var p=this.overlapEvents[parseInt(r.toString(),10)][parseInt(s.toString(),10)].Guid;if(c.querySelectorAll('div[data-guid="'+p+'"]').length>0&&p!==e.record.Guid){var d=c.querySelector('div[data-guid="'+p+'"]');parseFloat(e.width)<=parseFloat(d.style.width)?(this.parent.enableRtl?d.style.right=this.getEventLeft(e.width,r):d.style.left=this.getEventLeft(e.width,r),d.style.width=parseFloat(e.width)+"%",t.appWidth=d.style.width):t.appWidth=d.style.width}else{var h=e.width;i.i(n.isNullOrUndefined)(this.overlapEvents[r-1])&&(h=this.getEventWidth()),t.appWidth=h,t.appLeft=this.getEventLeft(h,e.index)}}}return t},t.prototype.setAllDayRowHeight=function(e){var t=this.parent.element.querySelector("."+o.d);"auto"!==this.parent.height&&this.parent.enableAllDayScroll||i.i(n.addClass)([t],o._32);var r=this.parent.element.querySelector("."+o._27);if(r.style.height="",this.parent.uiStateValues.expand&&"auto"!==this.parent.height&&this.parent.enableAllDayScroll)r.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(t);else{for(var a=0,s=this.allDayElement;a<s.length;a++){s[a].style.height=e/12+"em"}i.i(n.removeClass)([t],o._5)}},t.prototype.addOrRemoveClass=function(){var e=this;this.moreEvents.filter(function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?(i.i(n.addClass)([t],o._33),t.setAttribute("tabindex","-1")):(i.i(n.removeClass)([t],o._33),t.setAttribute("tabindex","0"))});var t=this.element.querySelector("."+o._25);this.parent.uiStateValues.expand?(i.i(n.removeClass)([t],o._26),i.i(n.addClass)([t],o._34)):(i.i(n.removeClass)([t],o._34),i.i(n.addClass)([t],o._26)),this.allDayLevel>2?i.i(n.removeClass)([t],o.J):i.i(n.addClass)([t],o.J),[].slice.call(this.element.querySelectorAll("."+o._29)).forEach(function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?i.i(n.removeClass)([t],o.J):i.i(n.addClass)([t],o.J)})},t.prototype.getEventHeight=function(){var e=i.i(n.createElement)("div",{className:o.A,styles:"visibility:hidden"});this.element.querySelector("."+o._6+":first-child").appendChild(e);var t=e.offsetHeight;return i.i(n.remove)(e),t},t.prototype.rowExpandCollapse=function(){var e=this.element.querySelector("."+o._25);this.parent.uiStateValues.expand=e.classList.contains(o._26);var t;this.parent.uiStateValues.expand?(e.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),e.setAttribute("aria-label","Collapse section"),t=(this.allDayLevel+1)*this.getEventHeight()+4):(e.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),e.setAttribute("aria-label","Expand section"),t=3*this.getEventHeight()+4,this.parent.element.querySelector("."+o.d).scrollTop=0),this.setAllDayRowHeight(t),this.animation.animate(this.allDayElement[0]),this.addOrRemoveClass(),this.animation.animate(e)},t.prototype.animationUiUpdate=function(){this.parent.notify(s.G,{})},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(8)),a=i(25),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-year-view",i.isInverseTableSelect=!1,i.yearEventModule=null,i}return c(t,e),t.prototype.getModuleName=function(){return"year"},t.prototype.renderLayout=function(e){this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.setPanel(i.i(n.createElement)("div",{className:l._19}));var t="Horizontal"===this.parent.activeViewOptions.orientation?"e-horizontal":"e-vertical";i.i(n.addClass)([this.element],[this.viewClass,t,e]),this.renderPanel(e),this.parent.activeViewOptions.allowVirtualScrolling&&i.i(n.addClass)([this.element],[l._21]);var r=this.createTableLayout(l._23);this.element.appendChild(r),this.element.querySelector("table").setAttribute("role","presentation");var a=r.querySelector("tbody");this.rowCount=this.getRowColumnCount("row"),this.columnCount=this.getRowColumnCount("column"),this.renderHeader(a),this.renderContent(a),"Year"!==this.parent.currentView&&this.parent.uiStateValues.isGroupAdaptive&&(this.generateColumnLevels(),this.renderResourceMobileLayout()),n.EventHandler.add(this.element.querySelector("."+l.g),"scroll",this.onContentScroll,this),this.parent.notify(o.G,{})},t.prototype.renderHeader=function(e){},t.prototype.renderContent=function(e){var t=i.i(n.createElement)("tr");e.appendChild(t);var r=i.i(n.createElement)("td");t.appendChild(r),this.element.querySelector("tbody").appendChild(t);var a=i.i(n.createElement)("div",{className:l.g});r.appendChild(a);var s=this.createTableLayout("e-calendar-table");a.appendChild(s);var o=i.i(n.createElement)("tr");s.querySelector("tbody").appendChild(o);var c=i.i(n.createElement)("td");o.appendChild(c);var p=i.i(n.createElement)("div",{className:"e-calendar-wrapper"});c.appendChild(p);for(var d=this.getMonths(),h=0,u=d;h<u.length;h++){var g=u[h],v=new Date(this.parent.selectedDate.getFullYear(),g,1),f=i.i(n.createElement)("div",{className:"e-month-calendar e-calendar",attrs:{"data-role":"calendar"}});f.appendChild(this.renderCalendarHeader(v)),f.appendChild(this.renderCalendarContent(v)),p.appendChild(f)}this.renderDates.splice(0,1)},t.prototype.renderCalendarHeader=function(e){var t=i.i(n.createElement)("div",{className:"e-header e-month"}),r=i.i(n.createElement)("div",{className:"e-day e-title"});if(this.parent.activeViewOptions.monthHeaderTemplate){var a={date:e,type:"monthHeader"};this.renderTemplates(this.parent.getMonthHeaderTemplate(),a,"monthHeaderTemplate",this.parent.activeViewOptions.monthHeaderTemplateName,r)}else r.innerHTML=this.getMonthName(e);return t.appendChild(r),this.parent.trigger(o.j,{elementType:"headerCells",element:r,date:e}),t},t.prototype.renderCalendarContent=function(e){var t=this.getMonthDates(e),r=i.i(n.createElement)("div",{className:"e-content e-month"}),a=this.createTableLayout("e-calendar-table "+l.h);r.appendChild(a),this.setAriaAttributes(a);var c=i.i(n.createElement)("thead",{className:"e-week-header"}),p=i.i(n.createElement)("tr"),d=s.l(s.n(e),this.parent.firstDayOfWeek);this.parent.activeViewOptions.showWeekNumber&&p.appendChild(i.i(n.createElement)("th"));for(var h=0;h<s.e;h++){if(this.parent.activeViewOptions.dayHeaderTemplate){var u=i.i(n.createElement)("th"),g={date:d,type:"dayHeader"};this.renderTemplates(this.parent.getDayHeaderTemplate(),g,"dayHeaderTemplate",this.parent.activeViewOptions.dayHeaderTemplateName,u),p.appendChild(u)}else p.appendChild(i.i(n.createElement)("th",{innerHTML:this.parent.getDayNames("narrow")[d.getDay()]}));d=new Date(d.getTime()+s.c)}c.appendChild(p),i.i(n.prepend)([c],a);for(var v=a.querySelector("tbody");t.length>0;){var f=t.splice(0,s.e),m=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.showWeekNumber){var y=this.parent.getWeekNumberContent(f),T=i.i(n.createElement)("td",{className:"e-week-number",attrs:{title:this.parent.localeObj.getConstant("week")+" "+y},innerHTML:y});m.appendChild(T),this.parent.trigger(o.j,{elementType:"weekNumberCells",element:T})}for(var D=0,w=f;D<w.length;D++){var b=w[D],T=i.i(n.createElement)("td",{className:"e-cell "+l.n,attrs:{"data-date":b.getTime().toString()}});if(this.parent.activeViewOptions.cellHeaderTemplate){var g={date:b,type:"monthCells"};this.renderTemplates(this.parent.getCellHeaderTemplate(),g,"cellHeaderTemplate",this.parent.activeViewOptions.cellHeaderTemplateName,T)}else{var C=i.i(n.createElement)("span",{className:"e-day",innerHTML:this.parent.globalize.formatDate(b,{skeleton:"d",calendar:this.parent.getCalendarMode()}),attrs:{title:this.parent.globalize.formatDate(b,{type:"date",skeleton:"full"})}});T.appendChild(C)}if(this.parent.activeViewOptions.cellTemplate){var g={date:b,type:"monthCells"};this.renderTemplates(this.parent.getCellTemplate(),g,"cellTemplate",this.parent.activeViewOptions.cellTemplateName,T)}var S=[];e.getMonth()!==b.getMonth()&&S.push(l.t),this.isCurrentDate(b)&&e.getMonth()===b.getMonth()&&(S=S.concat(["e-today","e-selected"])),S.length>0&&i.i(n.addClass)([T],S),m.appendChild(T),e.getMonth()===b.getMonth()&&this.renderDates.push(new Date(b)),this.parent.isMinMaxDate(b)?(n.EventHandler.add(T,"click",this.onCellClick,this),this.parent.isAdaptive||n.EventHandler.add(T,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)):i.i(n.addClass)([T],l.r),this.parent.trigger(o.j,{elementType:"workCells",element:T,date:b})}v.appendChild(m)}return r},t.prototype.createTableColGroup=function(e){for(var t=i.i(n.createElement)("colgroup"),r=0;r<e;r++)t.appendChild(i.i(n.createElement)("col"));return t},t.prototype.getMonthName=function(e){var t=this.parent.globalize.formatDate(e,{format:this.parent.activeViewOptions.dateFormat||"MMMM y",calendar:this.parent.getCalendarMode()});return s.a(t,"multiple")},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots([this.parent.selectedDate],this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),this.parent.uiStateValues.isGroupAdaptive){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];e=[this.getDateSlots([this.parent.selectedDate],i.workDays)]}}else e.push(t);return e.pop(),this.colLevels=e,e},t.prototype.getDateSlots=function(e,t,i,n){return void 0===i&&(i=this.parent.workHours.start),void 0===n&&(n=this.parent.workHours.end),[{date:e[0],type:"dateHeader",className:[l.e],colSpan:1,workDays:t,startHour:new Date(+this.parent.globalize.parseDate(i,{skeleton:"Hm"})),endHour:new Date(+this.parent.globalize.parseDate(n,{skeleton:"Hm"}))}]},t.prototype.getMonthDates=function(e){for(var t=s.l(s.n(e),this.parent.firstDayOfWeek),i=s.d(new Date(+t),6*s.e),n=[],r=t;r.getTime()<i.getTime();r=s.d(r,1))n.push(s.b(new Date(r)));return n},t.prototype.getRowColumnCount=function(e){for(var t=this.getMonths(),i=this.parent.selectedDate.getFullYear(),n=[],r=0,a=t;r<a.length;r++){var s=a[r];n.push(new Date(i,s,1).getDay()+new Date(i,s+1,0).getDate())}var o=Math.max.apply(Math,n);return"row"===e?"Horizontal"===this.parent.activeViewOptions.orientation?t.length:o:"Horizontal"===this.parent.activeViewOptions.orientation?o:t.length},t.prototype.isCurrentDate=function(e){return s.b(new Date).getTime()===s.b(new Date(e.getTime())).getTime()},t.prototype.getMonths=function(){var e=this;return Array.apply(null,{length:this.parent.activeViewOptions.monthsCount}).map(function(t,i){return e.parent.firstMonthOfYear+i})},t.prototype.renderTemplates=function(e,t,r,a,s){var o=this.parent.element.id+"_"+a+r,l=[].slice.call(e(t,this.parent,r,o,!1));i.i(n.append)(l,s)},t.prototype.onCellClick=function(e){var t=i.i(n.closest)(e.target,"."+l.n),r=this.parent.getDateFromElement(t);this.parent.activeCellsData=this.parent.getCellDetails(t);var a=r.getTime()<this.getStartDate().getTime();if(a||r.getTime()>this.getEndDate().getTime()){this.parent.changeDate(this.parent.activeView.getNextPreviousDate(a?"previous":"next"),e);var c=this.parent.activeCellsData.startTime.getTime(),p=c>=this.getStartDate().getTime()&&c<=this.getEndDate().getTime(),d=p?c:(a?this.getEndDate():this.getStartDate()).getTime(),h=this.parent.element.querySelector(":not(."+l.t+')[data-date="'+d+'"]');this.parent.selectCell(h),this.parent.activeCellsData=this.parent.getCellDetails(h)}else{var u=s.d(new Date(r.getTime()),1),g=this.parent.eventBase.filterEvents(r,u),v={date:r,event:g,element:e.target};t.classList.contains(l.t)&&(t=this.parent.element.querySelector(":not(."+l.t+')[data-date="'+t.getAttribute("data-date")+'"]')),this.parent.activeCellsData=this.parent.getCellDetails(t);var f=i.i(n.extend)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.trigger(o.a,f),this.parent.quickPopup.moreEventClick(v,u)}},t.prototype.onContentScroll=function(e){var t=e.target,i=this.getDatesHeaderElement();this.parent.notify(o.I,e),i&&(i.firstElementChild.scrollLeft=t.scrollLeft);var n="."+l.f+",."+l.x,r=this.element.querySelector(n);r&&(r.scrollTop=t.scrollTop),this.parent.isAdaptive||(this.parent.uiStateValues.top=e.target.scrollTop),this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence()},t.prototype.onScrollUiUpdate=function(e){var t=this.parent.element.offsetHeight-this.getHeaderBarHeight(),r=this.element.querySelector("."+l.c);r&&(t-=r.offsetHeight);var a=this.element.querySelector("."+l.g);if(a&&(a.style.height=i.i(n.formatUnit)(t)),!this.parent.isAdaptive&&r){var o=s.A();a.offsetWidth-a.clientWidth>0?(r.firstElementChild.style[e.cssProperties.border]=o>0?"1px":"0px",r.style[e.cssProperties.padding]=o>0?o-1+"px":"0px"):(r.firstElementChild.style[e.cssProperties.border]="",r.style[e.cssProperties.padding]="")}this.setColWidth(this.getContentAreaElement());var c="."+l.f+",."+l.x,p=this.element.querySelector(c);if(p){var d=a.scrollWidth>a.clientWidth;p.style.height=i.i(n.formatUnit)(t-(d?17:0))}e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.uiStateValues.isInitial=!1,this.parent.uiStateValues.top=this.parent.uiStateValues.left=0):(p&&(p.scrollTop=this.parent.uiStateValues.top),a.scrollTop=this.parent.uiStateValues.top,a.scrollLeft=this.parent.uiStateValues.left)),this.retainScrollPosition()},t.prototype.getStartDate=function(){return new Date(this.parent.selectedDate.getFullYear(),this.parent.firstMonthOfYear%12,1)},t.prototype.getEndDate=function(){return s.d(s.u(this.getStartDate(),this.parent.monthsCount),-1)},t.prototype.startDate=function(){return"Year"===this.parent.currentView?s.l(this.getStartDate(),this.parent.firstDayOfWeek):this.getStartDate()},t.prototype.endDate=function(){return"Year"===this.parent.currentView?s.d(s.m(this.getEndDate(),this.parent.firstDayOfWeek),1):s.d(this.getEndDate(),1)},t.prototype.getEndDateFromStartDate=function(e){var t=new Date(e.getTime());return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(t=s.o(t)),s.d(new Date(t.getTime()),1)},t.prototype.getNextPreviousDate=function(e){return s.v(this.parent.selectedDate,"next"===e?1:-1)},t.prototype.getDateRangeText=function(){var e=this.getStartDate(),t=this.getEndDate();return e.getFullYear()!==t.getFullYear()?this.parent.globalize.formatDate(e,{skeleton:"yMMM"})+" - "+this.parent.globalize.formatDate(t,{skeleton:"yMMM"}):this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"y"})},t.prototype.addEventListener=function(){this.parent.on(o.J,this.onScrollUiUpdate,this),this.parent.on(o.E,this.onDataReady,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(o.J,this.onScrollUiUpdate),this.parent.off(o.E,this.onDataReady))},t.prototype.onDataReady=function(e){this.yearEventModule=new a.a(this.parent),this.yearEventModule.renderAppointments(),this.parent.notify(o.F,e)},t.prototype.scrollToDate=function(e){var t=+new Date(s.b(e)),r=this.element.querySelector("."+l.n+":not(."+l.t+')[data-date="'+t+'"]');r&&(r=i.i(n.closest)(r,".e-month-calendar"),this.getContentAreaElement().scrollTop=r.offsetTop)},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&this.element){var t=this.element.querySelector("."+l.g);t&&n.EventHandler.remove(t,"scroll",this.onContentScroll),this.yearEventModule&&(this.yearEventModule.destroy(),this.yearEventModule=null),this.parent.resourceBase&&this.parent.resourceBase.destroy(),e.prototype.destroy.call(this)}},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r});var n=function(){function e(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}return e.prototype.offset=function(e,t){var i=e.getTimezoneOffset();try{var n=new Date(e.toLocaleString("en-US",{timeZone:t}));return isNaN(n.getTime())?0:(e.getTime()-n.getTime())/6e4+i}catch(e){return 0}},e.prototype.convert=function(e,t,i){"string"==typeof t&&(t=this.offset(e,t)),"string"==typeof i&&(i=this.offset(e,i));var n=e.getTimezoneOffset();e=new Date(e.getTime()+6e4*(t-i));var r=e.getTimezoneOffset();return new Date(e.getTime()+6e4*(r-n))},e.prototype.add=function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},e.prototype.remove=function(e,t){return this.convert(e,t,e.getTimezoneOffset())},e.prototype.removeLocalOffset=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},e.prototype.getLocalTimezoneName=function(){return window.Intl?Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC":"UTC"},e.prototype.getTimezoneData=function(){return r},e}(),r=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}]},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t,i){"use strict";i.d(t,"a",function(){return A});var n=i(0),r=(i.n(n),i(38)),a=(i.n(r),i(12)),s=(i.n(a),i(19)),o=(i.n(s),i(18)),l=(i.n(o),i(4)),c=i(1),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},h="e-input-wrapper",u="e-repeat-element",g="e-form-left",v="e-recurrence-count",f="e-hide-recurrence-element",m="e-primary",y={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},T={sun:"SU",mon:"MO",tue:"TU",wed:"WE",thu:"TH",fri:"FR",sat:"SA"},D=["e-days","e-non-week","e-end-on","e-interval","e-year-expander","e-month-expander"],w=["e-non-week"],b=["e-days","e-year-expander"],C=["e-days"],S=["e-days","e-non-week","e-year-expander","e-month-expander"],O=["e-end-on-date","e-end-on-count"],E=["e-end-on-date"],x=["e-end-on-count"],A=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},n.renderStatus=!1,n.dayButtons=[],n.monthButtons=[],n}return p(t,e),t.prototype.startState=function(e,t,i){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(t),this.selectMonthDay(i),this.updateUntilDate(i),this.onMonthDay.setProperties({checked:!0})},t.prototype.preRender=function(){this.localeObj=new n.L10n(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=i.i(l.e)(this.calendarMode)},t.prototype.applyCustomClass=function(e){e&&i.i(n.addClass)([this.element],e.split(" "))},t.prototype.initialize=function(){i.i(n.addClass)([this.element],"e-"+this.getModuleName()),this.renderComponent(),i.i(n.isNullOrUndefined)(this.value)||""===this.value?(i.i(n.isNullOrUndefined)(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),this.endTypes[0],this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)):this.setRecurrenceRule(this.value),this.applyCustomClass(this.cssClass)},t.prototype.triggerChangeEvent=function(){var e=this;if(this.renderStatus){var t=this.getRecurrenceRule();this.trigger("change",{value:t},function(t){return e.setProperties({value:t.value},!1)})}},t.prototype.resetDayButton=function(){[].slice.call(this.element.querySelectorAll(".e-days button")).forEach(function(e){return i.i(n.removeClass)([e],["e-active",m])})},t.prototype.daySelection=function(e){this.resetDayButton();var t=[0,1,2,3,4,5,6];this.rotateArray(t,this.firstDayOfWeek);var r=this.element.querySelector('.e-days button[data-index="'+t.indexOf(e)+'"]');r&&i.i(n.addClass)([r],["e-active",m])},t.prototype.rtlClass=function(e){e?i.i(n.addClass)([this.element],"e-rtl"):i.i(n.removeClass)([this.element],"e-rtl")},t.prototype.updateUntilDate=function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+60),this.untilDateObj.setProperties({value:t})},t.prototype.selectMonthDay=function(e){var t=["sun","mon","tue","wed","thu","fri","sat"];this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:T[t[e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())},t.prototype.updateForm=function(e){var t=this;this.repeatType.setProperties({value:e});var r=this.element.querySelector(".e-end-on");switch("daily"===e?i.i(n.classList)(r,[g],["e-form-right"]):i.i(n.classList)(r,["e-form-right"],[g]),e){case"none":D.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"weekly":w.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"monthly":b.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"yearly":C.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"daily":S.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)})}},t.prototype.updateEndOnForm=function(e){var t=this;switch(this.endType.setProperties({value:e}),e){case"never":O.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"until":x.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)});break;case"count":E.forEach(function(e){return i.i(n.addClass)([t.element.querySelector("."+e)],f)})}},t.prototype.freshOnEndForm=function(){var e=this;O.forEach(function(t){var r=e.element.querySelector("."+t);r&&i.i(n.removeClass)([r],f)})},t.prototype.showFormElement=function(){var e=this;D.forEach(function(t){var r=e.element.querySelector("."+t);r&&i.i(n.removeClass)([r],f)})},t.prototype.renderDropdowns=function(){var e=this,t=this;this.repeatType=new r.DropDownList({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:"text",value:"value"},placeholder:this.localeObj.getConstant("repeat"),htmlAttributes:{title:this.localeObj.getConstant("repeat")},change:function(i){t.setProperties({selectedType:e.frequencies.indexOf(i.value)},!1),t.element.querySelector(".e-repeat-content").innerHTML=t.localeObj.getConstant(y[i.value]),t.showFormElement(),t.updateForm(i.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+u)),this.endType=new r.DropDownList({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,index:1,fields:{text:"text",value:"value"},change:function(e){t.freshOnEndForm(),t.updateEndOnForm(e.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector(".e-end-on-element"));var i=function(i){return new r.DropDownList({dataSource:i,popupWidth:e.getPopupWidth(),enableRtl:e.enableRtl,fields:{text:"text",value:"value"},index:1,change:function(e){t.onWeekDay.setProperties({checked:!0}),t.resetFormValues(),t.triggerChangeEvent()}})};this.monthWeekPos=i(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector(".e-month-pos")),this.monthWeekDays=i(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector(".e-month-week")),this.monthValue=new r.DropDownList({dataSource:this.getMonthData(),fields:{text:"text",value:"value"},enableRtl:this.enableRtl,index:7,change:function(e){t.resetFormValues(),t.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector(".e-year-expander-element"))},t.prototype.setDefaultValue=function(){for(var e=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox")),t=0,i=e;t<i.length;t++){var n=i[t],r=n.ej2_instances[0];r.element.classList.contains("e-repeat-interval")?(r.value=1,r.dataBind()):r.element.classList.contains(v)&&(r.value=10,r.dataBind())}},t.prototype.resetFormValues=function(){for(var e=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]')),t=0,i=e;t<i.length;t++){var n=i[t],r=void 0;if(n.classList.contains("e-datepicker"))r=n.ej2_instances[0],r.value?(r.value=r.value,r.dataBind()):this.updateUntilDate(this.startDate);else if(n.classList.contains("e-dropdownlist"))r=n.ej2_instances[0],r.index=r.index||0,r.dataBind();else if(n.classList.contains("e-numerictextbox")){r=n.ej2_instances[0];var a=void 0;a=r.element.classList.contains("e-repeat-interval")?1:r.element.classList.contains(v)?10:this.startDate.getDate(),r.value=r.value||a,r.dataBind()}}},t.prototype.getPopupWidth=function(){return n.Browser.isDevice?"100%":"auto"},t.prototype.renderDatePickers=function(){var e=this;this.untilDateObj=new s.DatePicker({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:i.i(n.isNullOrUndefined)(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:function(t){t.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector(".e-until-date"))},t.prototype.getFormat=function(e){return"en"===this.locale||"en-US"===this.locale?i.i(n.getValue)(e+".short",i.i(n.getDefaultDateObject)(this.getCalendarMode())):i.i(n.getValue)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",n.cldrData)},t.prototype.dayButtonRender=function(){for(var e=this,t=[].slice.call(this.element.querySelectorAll(".e-days button")),r=this,a=0,s=t;a<s.length;a++){var l=s[a],c=new o.Button({isToggle:!0,enableRtl:this.enableRtl},l);this.dayButtons.push(c),n.EventHandler.add(l,"click",function(t){var a=[].slice.call(e.element.querySelectorAll(".e-days button."+m)),s=t.target;s.classList.contains(m)?a.length>1&&(i.i(n.removeClass)([s],m),r.triggerChangeEvent()):(i.i(n.addClass)([s],m),r.triggerChangeEvent())})}},t.prototype.radioButtonRender=function(){var e=this;this.onMonthDay=new o.RadioButton({label:this.localeObj.getConstant("onDay"),enableRtl:this.enableRtl,name:"monthType",value:"day",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector(".e-month-expander-element")),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new o.RadioButton({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector(".e-month-expander-wrapper")),this.monthButtons.push(this.onWeekDay)},t.prototype.numericTextboxRender=function(){var e=this;this.recurrenceCount=new a.NumericTextBox({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:function(){e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+v)),this.monthDate=new a.NumericTextBox({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:function(){e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector(".e-month-day")),this.repeatInterval=new a.NumericTextBox({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant("repeatEvery"),change:function(){e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector(".e-repeat-interval"))},t.prototype.renderComponent=function(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()},t.prototype.rotateArray=function(e,t){for(var i,n=0;n<t;n++)i=e.shift(),e.push(i)},t.prototype.getEndData=function(){var e=this,t=[];return this.endTypes.forEach(function(i){t.push({text:e.localeObj.getConstant(i),value:i})}),t},t.prototype.getDayPosition=function(e){var t=new Date(e.getTime()),i=new Date(e.getTime()),n=e.getDay(),r=[];for(t=this.calendarUtil.getMonthStartDate(t),i=this.calendarUtil.getMonthEndDate(i);t<i;)t.getDay()===n&&r.push(t.getTime()),t.setDate(t.getDate()+1);return r.indexOf(e.getTime())===r.length-1?-1:r.indexOf(e.getTime())+1},t.prototype.getRepeatData=function(){var e=[],t=this;return this.frequencies.forEach(function(i){var n="none"===i?"never":i;e.push({text:t.localeObj.getConstant(n),value:i})}),e},t.prototype.getMonthPosData=function(){var e=["first","second","third","fourth","last"],t={first:1,second:2,third:3,fourth:4,last:-1},i=this,n=[];return e.forEach(function(e){n.push({text:i.localeObj.getConstant(e),value:t[""+e]})}),n},t.prototype.getDayData=function(e){var t,r=["sun","mon","tue","wed","thu","fri","sat"],a=[];if(this.rotateArray(r,this.firstDayOfWeek),"en"===this.locale||"en-US"===this.locale){var s="days.stand-alone.";t=i.i(n.getValue)(s+e,i.i(n.getDefaultDateObject)(this.getCalendarMode()))}else{var s="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e;t=i.i(n.getValue)(s,n.cldrData)}for(var o=0,l=r;o<l.length;o++){var p=l[o],d=i.i(n.getValue)(p,t);a.push({text:"narrow"===e?d:i.i(c.a)(d,"single"),value:T[""+p]})}return a},t.prototype.getMonthData=function(){var e,t=[];if("en"===this.locale||"en-US"===this.locale){var r="months.stand-alone.wide";e=i.i(n.getValue)(r,i.i(n.getDefaultDateObject)(this.getCalendarMode()))}else{var r="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide";e=i.i(n.getValue)(r,n.cldrData)}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];t.push({text:i.i(c.a)(i.i(n.getValue)(o,e),"single"),value:o})}return t},t.prototype.setTemplate=function(){var e=this.getDayData("narrow"),t=this.getDayData("wide");this.element.innerHTML='<div class="e-editor"><div class="e-input-wrapper e-form-left"><input type="text" tabindex="0" class="'+u+'"label="'+u.substr(2)+'" /></div><div class="'+h+' e-interval e-form-right"><table  class="e-recurrence-table e-repeat-content-wrapper"  role="none"><tr><td><input type="text" tabindex="0" id="'+this.element.id+'_e-repeat-interval" class="e-repeat-interval"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="e-repeat-content"></span></td></tr></table></div><div class="e-input-wrapper-side e-days '+g+'"><div class=e-week-expander-label>'+this.localeObj.getConstant("on")+'</div><button type="button" class="e-round" data-index="0" title="'+t[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+t[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+t[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+t[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+t[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+t[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+t[6].text+'">'+e[6].text+'</button></div><div class="e-input-wrapper-side e-non-week '+g+'"><div class=e-month-expander-label>'+this.localeObj.getConstant("on")+'</div><div class="e-year-expander"><input class="e-year-expander-element" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="e-month-expander"><table class="e-recurrence-table e-month-expand-wrapper" role="none"><tr><td><div class="'+h+' e-month-expander-checkbox-wrapper"><input class="e-month-expander-element"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+h+' e-monthday-element"><input type="text" tabindex="0" id="'+this.element.id+'_e-month-day" class="e-month-day"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+h+' e-month-expander-checkbox-wrapper" style="min-width: 30px;margin-bottom:18px;"><input class="e-month-expander-wrapper"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+h+' e-week-position" ><input type="text" tabindex="0" class="e-month-pos"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+h+' e-day-position"><input type="text" tabindex="0" class="e-month-week"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="e-input-wrapper-side e-end-on e-form-right"><div class=e-end-on-label>'+this.localeObj.getConstant("end")+'</div><div class="'+h+' e-end-on-left"><input type="text" tabindex="0" class="e-end-on-element"title="'+this.localeObj.getConstant("end")+'" /></div><div class="'+h+' e-end-on-date" ><input type="text" tabindex="0" class="e-until-date"title="'+this.localeObj.getConstant("until")+'" /></div><div class="'+h+' e-end-on-count"><input type="text" tabindex="0" id="'+this.element.id+"_"+v+'" class="'+v+'"title="'+this.localeObj.getConstant("count")+'" /></div></div></div></div>'},t.prototype.getSelectedDaysData=function(){var e="BYDAY=",t=[].slice.call(this.element.querySelectorAll(".e-days button."+m)),i=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(i,this.firstDayOfWeek);for(var n=0;n<t.length;n++)e+=i[parseInt(t[parseInt(n.toString(),10)].getAttribute("data-index"),10)]+(n===t.length-1?"":",");return e+";"},t.prototype.getSelectedMonthData=function(){return this.onWeekDay.checked?"BYDAY="+this.monthWeekDays.value+";BYSETPOS="+this.monthWeekPos.value+";":"BYMONTHDAY="+this.monthDate.value+";"},t.prototype.getIntervalData=function(){return"INTERVAL="+this.repeatInterval.value+";"},t.prototype.getEndOnCount=function(){return"COUNT="+this.recurrenceCount.value+";"},t.prototype.getYearMonthRuleData=function(){return"BYMONTH="+this.monthValue.value+";"},t.prototype.updateWeekButton=function(e){var t=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(t,this.firstDayOfWeek);for(var i=0,n=this.dayButtons;i<n.length;i++){var r=n[i],a=parseInt(r.element.getAttribute("data-index"),10);-1!==e.indexOf(t[parseInt(a.toString(),10)])?r.setProperties({isPrimary:!0}):r.setProperties({isPrimary:!1})}},t.prototype.updateMonthUI=function(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(var e=0,t=Object.keys(T);e<t.length;e++){var i=t[e];if(T[""+i]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}}},t.prototype.updateUI=function(e,t){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),t){case"until":this.untilDateObj.setProperties({value:this.ruleObject.until});break;case"count":this.recurrenceCount.setProperties({value:this.ruleObject.count})}switch(e){case"weekly":this.updateWeekButton(this.ruleObject.day);break;case"yearly":this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case"monthly":this.updateMonthUI()}},t.prototype.getUntilData=function(){return this.untilDateObj.value?"UNTIL="+i.i(l.f)(this.untilDateObj.value)+";":""},t.prototype.destroyComponents=function(){this.recurrenceCount.isDestroyed||(this.recurrenceCount.destroy(),this.recurrenceCount=null),this.monthDate.isDestroyed||(this.monthDate.destroy(),this.monthDate=null),this.repeatInterval.isDestroyed||(this.repeatInterval.destroy(),this.repeatInterval=null),this.untilDateObj.isDestroyed||(this.untilDateObj.destroy(),this.untilDateObj=null),this.repeatType.isDestroyed||(this.repeatType.destroy(),this.repeatType=null),this.endType.isDestroyed||(this.endType.destroy(),this.endType=null),this.monthWeekPos.isDestroyed||(this.monthWeekPos.destroy(),this.monthWeekPos=null),this.monthWeekDays.isDestroyed||(this.monthWeekDays.destroy(),this.monthWeekDays=null),this.monthValue.isDestroyed||(this.monthValue.destroy(),this.monthValue=null),this.onMonthDay.isDestroyed||(this.onMonthDay.destroy(),this.onMonthDay=null),this.onWeekDay.isDestroyed||(this.onWeekDay.destroy(),this.onWeekDay=null),this.dayButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.dayButtons=[],this.monthButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.monthButtons=[]},t.prototype.resetFields=function(){this.startState("none",this.endTypes[0],this.startDate),this.setDefaultValue()},t.prototype.updateRuleUntilDate=function(e){if(this.untilDateObj.value&&e){var t=this.untilDateObj.value,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:i})}},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getRuleSummary=function(e){return void 0===e&&(e=this.getRecurrenceRule()),i.i(l.a)(e,this.localeObj,this.locale,this.calendarMode)},t.prototype.getRecurrenceDates=function(e,t,r,a,s){return s=i.i(n.isNullOrUndefined)(s)?this.startDate:s,i.i(l.b)(e,t,r,this.firstDayOfWeek,a,s,this.calendarMode)},t.prototype.getRecurrenceRule=function(){var e="FREQ=";switch(this.repeatType.value){case"daily":e+="DAILY;";break;case"weekly":e+="WEEKLY;"+this.getSelectedDaysData();break;case"monthly":e+="MONTHLY;"+this.getSelectedMonthData();break;case"yearly":e+="YEARLY;"+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case"none":return""}switch(e+=this.getIntervalData(),this.endType.value){case"until":e+=this.getUntilData();break;case"count":e+=this.getEndOnCount()}return e},t.prototype.setRecurrenceRule=function(e,t){if(void 0===t&&(t=this.startDate),!e)return void this.repeatType.setProperties({value:"none"});this.renderStatus=!1,this.ruleObject=i.i(l.d)(e);var n=this.ruleObject.count?"count":this.ruleObject.until?"until":"never";switch(this.ruleObject.freq){case"DAILY":this.startState("daily",n,t),this.updateUI("daily",n);break;case"WEEKLY":this.startState("weekly",n,t),this.updateUI("weekly",n);break;case"MONTHLY":this.startState("monthly",n,t),this.updateUI("monthly",n);break;case"YEARLY":this.startState("yearly",n,t),this.updateUI("yearly",n)}this.renderStatus=!0,this.triggerChangeEvent()},t.prototype.detachInputs=function(){for(var e=[].slice.call(this.element.querySelectorAll("input")),t=0,r=e;t<r.length;t++){var a=r[t];i.i(n.detach)(a)}},t.prototype.destroy=function(){if(!this.isDestroyed){this.destroyComponents(),e.prototype.destroy.call(this);var t=["e-"+this.getModuleName()];for(this.cssClass&&(t=t.concat(this.cssClass.split(" "))),i.i(n.removeClass)([this.element],t),this.detachInputs();this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)}},t.prototype.getModuleName=function(){return"recurrenceeditor"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()},t.prototype.onPropertyChanged=function(e,t){for(var r=0,a=Object.keys(e);r<a.length;r++){switch(a[r]){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":t.cssClass&&i.i(n.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&i.i(n.addClass)([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({minDate:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({maxDate:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=i.i(l.e)(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":case"endTypes":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat})}}},d([i.i(n.Property)(["none","daily","weekly","monthly","yearly"])],t.prototype,"frequencies",void 0),d([i.i(n.Property)(["never","until","count"])],t.prototype,"endTypes",void 0),d([i.i(n.Property)(0)],t.prototype,"firstDayOfWeek",void 0),d([i.i(n.Property)(new Date)],t.prototype,"startDate",void 0),d([i.i(n.Property)()],t.prototype,"dateFormat",void 0),d([i.i(n.Property)("Gregorian")],t.prototype,"calendarMode",void 0),d([i.i(n.Property)()],t.prototype,"cssClass",void 0),d([i.i(n.Property)()],t.prototype,"value",void 0),d([i.i(n.Property)(new Date(1900,0,1))],t.prototype,"minDate",void 0),d([i.i(n.Property)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),d([i.i(n.Property)(0)],t.prototype,"selectedType",void 0),d([i.i(n.Event)()],t.prototype,"change",void 0),t=d([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),i(3)),a=i(1),s=function(){function e(e){this.daysVariation=0,this.parent=e,this.actionObj={X:0,Y:0,groupIndex:0,cellWidth:0,cellHeight:0,slotInterval:0,interval:0,actionIndex:0,cloneElement:[],originalElement:[],action:null,isAllDay:null,excludeSelectors:null,index:0,navigationInterval:null,scrollInterval:null},this.scrollArgs={element:null,width:0,height:0},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1}}return e.prototype.getChangedData=function(e){var t=this,r=i.i(n.extend)({},this.actionObj.event,null,!0);if(r[this.parent.eventFields.startTime]=this.actionObj.start,r[this.parent.eventFields.endTime]=this.actionObj.end,i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)||(r[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay),this.parent.activeViewOptions.group.resources.length>0){var a=this.getOriginalElement(this.actionObj.element);if(a){var s=a.map(function(e){return parseInt(e.getAttribute("data-group-index"),10)});if(-1===s.indexOf(this.actionObj.groupIndex)||!i.i(n.isNullOrUndefined)(e)&&e.length>0){var o=parseInt(this.actionObj.clone.getAttribute("data-group-index"),10);s=s.filter(function(e){return e!==o}),s.push(this.actionObj.groupIndex),e&&e.length>0?e.forEach(function(e){t.parent.resourceBase.getResourceData(e,t.actionObj.groupIndex,s)}):this.parent.resourceBase.getResourceData(r,this.actionObj.groupIndex,s)}}}return r},e.prototype.saveChangedData=function(e,t){void 0===t&&(t=!1),this.parent.activeEventData.event=this.actionObj.event,this.parent.currentAction="Save";var i,n=[e.data];t&&(n=e.selectedData);for(var r=0,a=n;r<a.length;r++){var s=a[r],o=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(this.actionObj.element.getAttribute("data-group-index"),10)===this.actionObj.groupIndex;if(+s[this.parent.eventFields.startTime]==+this.actionObj.event[this.parent.eventFields.startTime]&&+s[this.parent.eventFields.endTime]==+this.actionObj.event[this.parent.eventFields.endTime]&&o)return void(this.parent.crudModule.crudObj.isCrudAction=!1);if(s[this.parent.eventFields.recurrenceRule]){var l=s[this.parent.eventFields.recurrenceID]||s[this.parent.eventFields.id];if(s[this.parent.eventFields.id]===s[this.parent.eventFields.recurrenceID]&&(s[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),i="EditOccurrence"),this.parent.enableRecurrenceValidation&&this.parent.eventWindow.editOccurrenceValidation(l,s,this.actionObj.event))return}else i=null;(s[this.parent.eventFields.startTimezone]||s[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(s),this.parent.crudModule.saveEvent(s,i)}},e.prototype.calculateIntervalTime=function(e){var t=new Date(+e);return t.setMinutes(Math.floor(t.getMinutes()/this.actionObj.interval)*this.actionObj.interval),t},e.prototype.getContentAreaDimension=function(){var e=this.parent.element.querySelector("."+r.g),t=[].slice.call(e.querySelector("tr").children);this.parent.activeView.isTimelineView()||!(this.parent.activeViewOptions.group.resources.length>0)||this.parent.isAdaptive||this.parent.enableAdaptiveUI||this.parent.virtualScrollModule||(t=this.getResourceElements(t));var i=t[0].getBoundingClientRect(),n=t.slice(-1)[0].getBoundingClientRect();return{bottom:e.scrollHeight-5,left:this.parent.enableRtl?n.left:i.left,right:this.parent.enableRtl?i.right:n.right,top:0,leftOffset:this.parent.enableRtl?n.right:i.right,rightOffset:this.parent.enableRtl?i.left:n.left}},e.prototype.getIndex=function(e){var t=[].slice.call(this.parent.getContentTable().querySelector("tr").children),i={minIndex:0,maxIndex:t.length-1};if("resize"===this.actionObj.action&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&!this.parent.activeView.isTimelineView()){var n=this.getResourceElements(t);i.minIndex=n[0].cellIndex,i.maxIndex=n.slice(-1)[0].cellIndex}return e<i.minIndex&&(e=i.minIndex),e>i.maxIndex&&(e=i.maxIndex),e},e.prototype.updateTimePosition=function(e,t){for(var a=0,s=0,o=this.actionObj.cloneElement;s<o.length;s++){var l=o[s],c=l.querySelector("."+r.I);if(c){var p=this.actionObj.start,d=this.actionObj.end;t&&t.length>0&&(p=t[parseInt(a.toString(),10)][this.parent.eventFields.startTime],d=t[parseInt(a.toString(),10)][this.parent.eventFields.endTime]),c.innerHTML=this.parent.getTimeString(p)+" - "+this.parent.getTimeString(d)}a++}if(this.parent.activeViewOptions.timeScale.enable&&this.parent.isAdaptive&&"Month"!==this.parent.currentView&&"TimelineMonth"!==this.parent.currentView){var h=this.parent.element.querySelector("."+r._76);if(!h){h=i.i(n.createElement)("div",{className:r._76});var u=this.parent.activeView.isTimelineView()?r.d:r._28;this.parent.element.querySelector("."+u).appendChild(h)}h.innerHTML=this.parent.getTimeString(e);var g=0;if(this.parent.activeView.isTimelineView())if(this.parent.enableRtl){var v=parseInt(this.actionObj.clone.style.right,10);g="drag"===this.actionObj.action||this.resizeEdges.left?v+this.actionObj.clone.offsetWidth:v,h.style.right=i.i(n.formatUnit)(g)}else{var f=parseInt(this.actionObj.clone.style.left,10);g="drag"===this.actionObj.action||this.resizeEdges.left?f:f+this.actionObj.clone.offsetWidth,h.style.left=i.i(n.formatUnit)(g)}else g="drag"===this.actionObj.action||this.resizeEdges.top?this.actionObj.clone.offsetTop:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight,h.style.top=i.i(n.formatUnit)(g)}},e.prototype.getResourceElements=function(e){var t=this;return e.filter(function(e){return parseInt(e.getAttribute("data-group-index"),10)===t.actionObj.groupIndex})},e.prototype.getOriginalElement=function(e){var t,a=e.getAttribute("data-guid");if(e.offsetParent&&e.offsetParent.classList.contains(r._72)||this.parent.activeView.isTimelineView()||"resize"!==this.actionObj.action&&this.parent.virtualScrollModule)t=[].slice.call(this.parent.element.querySelectorAll('[data-guid="'+a+'"]'));else{var s=i.i(n.closest)(e,"tr");s&&(t=[].slice.call(s.querySelectorAll('[data-guid="'+a+'"]')))}return t},e.prototype.createCloneElement=function(e){var t=i.i(n.createElement)("div",{innerHTML:e.outerHTML}),a=t.children[0],s=[r._75];s.push("drag"===this.actionObj.action?r.Z:r._0),"Month"!==this.parent.currentView&&"TimelineMonth"!==this.parent.currentView||s.push(r._77),i.i(n.addClass)([a],s),i.i(n.addClass)([e],r._73),i.i(n.isNullOrUndefined)(e.parentElement)||e.parentElement.appendChild(a),a.style.width=i.i(n.formatUnit)(a.offsetWidth-2);var o=document.querySelector(this.parent.eventDragArea);return this.parent.eventDragArea&&"drag"===this.actionObj.action&&o&&o.appendChild(a),i.i(n.setStyleAttribute)(a,{border:"0px"}),a},e.prototype.removeCloneElementClasses=function(){var e=this.actionObj.originalElement;"Month"!==this.parent.currentView&&"TimelineYear"!==this.parent.currentView&&"Day"!==this.parent.currentView&&"Week"!==this.parent.currentView&&"WorkWeek"!==this.parent.currentView||(e=[].slice.call(this.parent.element.querySelectorAll("."+r._73))),i.i(n.removeClass)(e,r._73)},e.prototype.removeCloneElement=function(){this.actionObj.originalElement=[];for(var e=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone")),t=0,a=e;t<a.length;t++){var s=a[t];i.i(n.remove)(s)}for(var o=0,l=this.actionObj.cloneElement;o<l.length;o++){var c=l[o];i.i(n.isNullOrUndefined)(c.parentNode)||i.i(n.remove)(c)}this.actionObj.cloneElement=[];var p=this.parent.element.querySelector("."+r._76);p&&i.i(n.remove)(p)},e.prototype.getCursorElement=function(e){var t=this.parent.eventBase.getPageCoordinates(e);return document.elementFromPoint(t.clientX,t.clientY)},e.prototype.autoScroll=function(){var e=this.parent.element.querySelector("."+r.g),t=e.offsetHeight<=e.scrollHeight,i=e.offsetWidth<=e.scrollWidth,n=t&&e.scrollTop>=0&&e.scrollTop+e.offsetHeight<=e.scrollHeight,a=i&&e.scrollLeft>=0&&e.scrollLeft+e.offsetWidth<=e.scrollWidth;if("resize"===this.actionObj.action&&this.scrollEdges.right&&e.scrollLeft+e.offsetWidth>e.scrollWidth){var s=[].slice.call(this.parent.getContentTable().querySelector("tr").children).length-1;a=Math.ceil((this.actionObj.clone.offsetLeft+this.actionObj.clone.offsetWidth)/this.actionObj.cellWidth)===s}n&&(this.scrollEdges.top||this.scrollEdges.bottom)&&(e.scrollTop+=this.scrollEdges.top?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollHeight!==e.offsetHeight+e.scrollTop&&e.scrollTop>0&&(this.actionObj.Y+=this.scrollEdges.top?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy)),a&&(this.scrollEdges.left||this.scrollEdges.right)&&(e.scrollLeft+=this.scrollEdges.left?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollWidth!==e.offsetWidth+e.scrollLeft&&e.scrollLeft>0&&(this.actionObj.X+=this.scrollEdges.left?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy))},e.prototype.autoScrollValidation=function(){if(!this.actionObj.scroll.enable)return!1;var e=this.parent.boundaryValidation(this.actionObj.pageY,this.actionObj.pageX);return this.scrollEdges=e,e.bottom||e.top||e.left||e.right},e.prototype.actionClass=function(e){"addClass"===e?i.i(n.addClass)([this.parent.element],r._73):i.i(n.removeClass)([this.parent.element],r._73)},e.prototype.updateScrollPosition=function(e){var t=this;this.scrollEventArgs=e,this.actionObj.scroll.enable&&i.i(n.isNullOrUndefined)(this.actionObj.scrollInterval)&&(this.actionObj.scrollInterval=window.setInterval(function(){if(t.autoScrollValidation()&&!t.actionObj.clone.classList.contains(r._30)){if(t.parent.activeView.isTimelineView()&&t.parent.activeViewOptions.group.resources.length>0&&t.actionObj.groupIndex<0)return;t.autoScroll(),"drag"===t.actionObj.action?t.parent.dragAndDropModule.updateDraggingDateTime(t.scrollEventArgs):t.parent.resizeModule.updateResizingDirection(t.scrollEventArgs)}},this.actionObj.scroll.timeDelay))},e.prototype.updateOriginalElement=function(e){var t='[data-id="'+e.getAttribute("data-id")+'"]';this.parent.activeViewOptions.group.resources.length>0&&(t=t.concat('[data-group-index = "'+e.getAttribute("data-group-index")+'"]'));var a=[].slice.call(this.parent.element.querySelectorAll(t));i.i(n.addClass)(a,r._73);var s=[].slice.call(this.parent.element.querySelectorAll("."+r._75));i.i(n.removeClass)(s,r._73)},e.prototype.getUpdatedEvent=function(e,t,i){var n=JSON.parse(JSON.stringify(i));return n[this.parent.eventFields.startTime]=e,n[this.parent.eventFields.endTime]=t,n},e.prototype.dynamicYearlyEventsRendering=function(e,t){if(void 0===t&&(t=!1),i.i(n.isNullOrUndefined)(this.parent.eventDragArea)){var s=this.actionObj.cellWidth-7;if(t&&(this.resizeEdges.left||this.resizeEdges.right)&&(s=this.actionObj.cellWidth*e.count),!t&&"Horizontal"===this.parent.activeViewOptions.orientation&&0===this.parent.activeViewOptions.group.resources.length){var o=this.yearEvent.isSpannedEvent(e,e[this.parent.eventFields.startTime]);o[this.parent.eventFields.startTime].getTime()===o[this.parent.eventFields.endTime].getTime()&&(o.isSpanned.count=1),s=o.isSpanned.count*this.actionObj.cellWidth}if(!t&&"Vertical"===this.parent.activeViewOptions.orientation&&0!==this.parent.activeViewOptions.group.resources.length){var o=this.yearEvent.isSpannedEvent(e,e[this.parent.eventFields.startTime]);s=o.isSpanned.count*this.actionObj.cellWidth}var l=this.createAppointmentElement(this.actionObj.groupIndex,e[this.parent.eventFields.subject]);l.setAttribute("drag","true"),i.i(n.addClass)([l],r._75),i.i(n.setStyleAttribute)(l,{width:s+"px",border:"0px","pointer-events":"none",position:"absolute",overflow:"hidden",padding:"3px"}),""!==this.actionObj.clone.style.backgroundColor&&i.i(n.setStyleAttribute)(l,{backgroundColor:this.actionObj.clone.style.backgroundColor});var c=a.b(e[this.parent.eventFields.startTime]).getTime(),p="."+r.n+'[data-date="'+c+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(p="."+r.n+'[data-date="'+c+'"][data-group-index="'+this.actionObj.groupIndex+'"]');var d=this.parent.element.querySelector(p);if(!i.i(n.isNullOrUndefined)(d)){if(t){var h=d.querySelector("."+r.o),u=this.actionObj.cellHeight*e.count-(h?h.offsetHeight:0)-7;(this.resizeEdges.right||this.resizeEdges.left)&&(u=parseInt(this.actionObj.clone.style.height,10)),i.i(n.setStyleAttribute)(l,{height:u+"px"})}this.renderDynamicElement(d,l,!0),this.actionObj.cloneElement.push(l)}}},e.prototype.renderDynamicElement=function(e,t,a){if(void 0===a&&(a=!1),e.querySelector("."+r.D))e.querySelector("."+r.D).appendChild(t);else{var s=i.i(n.createElement)("div",{className:r.D});s.appendChild(t),e.appendChild(s)}},e.prototype.createAppointmentElement=function(e,t){var a=i.i(n.createElement)("div",{className:r.A,innerHTML:t});return this.parent.activeViewOptions.group.resources.length>0&&a.setAttribute("data-group-index",e.toString()),a},e.prototype.dynamicEventsRendering=function(e){var t=this;if(i.i(n.isNullOrUndefined)(this.parent.eventDragArea)){var s,o=this.parent.activeView.renderDates,l=[].slice.call(this.parent.element.querySelectorAll("."+r.n)),c=this.parent.activeViewOptions.workDays;if(this.parent.activeViewOptions.group.resources.length>0){var p=this.parent.virtualScrollModule&&this.parent.virtualScrollModule.isHorizontalScroll?this.parent.resourceBase.renderedResources:this.parent.resourceBase.lastResourceLevel,d=p.filter(function(e){return e.groupIndex===t.actionObj.groupIndex});o=d[0].renderDates;var h="."+r.n+'[data-group-index="'+this.actionObj.groupIndex+'"]';l=[].slice.call(this.parent.element.querySelectorAll(h)),c=d[0].workDays,s=d[0].groupOrder}if(this.monthEvent.dateRender=o,this.monthEvent.getSlotDates(c),this.resizeEdges.left||this.resizeEdges.right)for(var u=[].slice.call(this.parent.element.querySelectorAll("."+r._75)),g=0,v=u;g<v.length;g++){var f=v[g];i.i(n.remove)(f)}for(var m=this.monthEvent.splitEvent(e,o),y=0,T=m;y<T.length;y++){var D=T[y],w=this.parent.getIndexOfDate(o,a.b(D[this.monthEvent.fields.startTime])),b=D.data.count,C=b*this.actionObj.cellWidth-7,S=this.monthEvent.createAppointmentElement(D,this.actionObj.groupIndex,!0);S.setAttribute("drag","true"),i.i(n.addClass)([S],r._75),this.monthEvent.applyResourceColor(S,D,"backgroundColor",s),i.i(n.setStyleAttribute)(S,{width:C+"px",border:"0px","pointer-events":"none"});var O=l[parseInt(w.toString(),10)];O&&(this.monthEvent.renderElement(O,S,!0),this.actionObj.cloneElement.push(S))}}},e.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.actionObj={},this.scrollArgs={},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1})},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(11),r=(i.n(n),i(0)),a=(i.n(r),function(){function e(e,t,i){this.parent=e,this.initDataManager(t,i)}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof n.DataManager?e:new n.DataManager(e),this.query=t instanceof n.Query?t:new n.Query},e.prototype.generateQuery=function(e,t){var a=this.query.clone();if(this.parent&&e&&t){if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&!i.i(r.isNullOrUndefined)(this.parent.activeViewOptions.group.resources)&&this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>0&&this.parent.resourceBase.renderedResources.length>0){var s=[];this.parent.resourceBase.resourceCollection.forEach(function(){return s.push([])}),this.parent.resourceBase.renderedResources.forEach(function(e){s.forEach(function(t,i){var n=e.groupOrder[parseInt(i.toString(),10)];n&&t.indexOf(n)<0&&t.push(n)})}),this.parent.resourceBase.resourceCollection.forEach(function(e,t){a.addParams(e.field,s[parseInt(t.toString(),10)].toString())})}if(this.parent.timezone&&(e=this.parent.tzModule.remove(new Date(+e.getTime()),this.parent.timezone),t=this.parent.tzModule.remove(new Date(+t.getTime()),this.parent.timezone)),this.parent.eventSettings.includeFiltersInQuery){var o=this.getStartEndQuery(e,t),l=new n.Predicate(this.parent.eventFields.recurrenceRule,"notequal",null).and(new n.Predicate(this.parent.eventFields.recurrenceRule,"notequal",""));return a.where(o.or(l))}a.addParams("StartDate",e.toISOString()),a.addParams("EndDate",t.toISOString())}return a},e.prototype.getStartEndQuery=function(e,t){var i=this.parent.eventFields;return new n.Predicate(i.startTime,"greaterthanorequal",e).and(new n.Predicate(i.endTime,"greaterthanorequal",e)).and(new n.Predicate(i.startTime,"lessthan",t)).or(new n.Predicate(i.startTime,"lessthanorequal",e).and(new n.Predicate(i.endTime,"greaterthan",e)))},e.prototype.getData=function(e){return this.dataManager.executeQuery(e)},e.prototype.destroy=function(){this.dataManager=null,this.query=null},e}())},function(e,t,i){"use strict";i.d(t,"a",function(){return R});var n=i(0),r=(i.n(n),i(6)),a=(i.n(r),i(30)),s=i(48),o=i(49),l=i(46),c=i(22),p=i(14),d=i(53),h=i(69),u=i(26),g=i(68),v=i(70),f=i(67),m=i(66),y=i(64),T=i(63),D=i(44),w=i(51),b=i(59),C=i(62),S=i(65),O=i(13),E=i(52),x=i(17),A=i(2),V=i(3),I=i(1),M=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),k=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},R=function(e){function t(t,i){return e.call(this,t,i)||this}return M(t,e),t.prototype.render=function(){var e=[],t=[];if(e.push(V._74),this.enableRtl?e.push(V._78):t.push(V._78),this.isAdaptive?e.push(V._79):t.push(V._79),this.allowMultiDrag?e.push(V._80):t.push(V._80),this.cssClass)for(var a=this.cssClass.split(" "),o=0,c=a;o<c.length;o++){var h=c[o];e.push(h)}i.i(n.classList)(this.element,e,t),this.validateDate(),i.i(r.createSpinner)({target:this.element}),this.scrollModule=new s.a(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new v.a(this),this.eventBase=new p.a(this),this.workCellAction=new w.a(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new l.a(this)),this.inlineModule=new d.a(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()},t.prototype.renderTableContainer=function(){this.element.querySelector("."+V._54)||this.element.appendChild(this.createElement("div",{className:V._54}))},t.prototype.renderTemplates=function(e){this.isReact?this.renderReactTemplates(e):e&&e()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.sanitize=function(e,t){this.enableHtmlSanitizer?t.innerText=n.SanitizeHtmlHelper.sanitize(e):t.innerHTML=e},t.prototype.initializeResources=function(e){void 0===e&&(e=!1),this.resources.length>0?(this.resourceBase=new E.a(this),this.resourceBase.bindResourcesData(e)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(e))},t.prototype.destroyEditorWindow=function(){this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new g.a(this)},t.prototype.renderElements=function(e){if(e)return this.initializeView(this.currentView),void this.eventWindow.refresh();this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new a.a(this)),this.renderTableContainer(),(n.Browser.isDevice||n.Browser.isTouch)&&(this.scheduleTouchModule=new o.a(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()},t.prototype.validateDate=function(e){void 0===e&&(e=this.selectedDate);var t=e instanceof Date?new Date(e.getTime()):new Date(e),i=this.minDate instanceof Date?new Date(this.minDate.getTime()):new Date(this.minDate),n=this.maxDate instanceof Date?new Date(this.maxDate.getTime()):new Date(this.maxDate);if(!(i<=n))throw Error("minDate should be equal or less than maxDate");t<i&&(t=i),t>n&&(t=n),this.setProperties({selectedDate:new Date(""+t),minDate:new Date(""+i),maxDate:new Date(""+n)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor()},t.prototype.getViewIndex=function(e){for(var t=0;t<this.viewCollections.length;t++){if(this.viewCollections[parseInt(t.toString(),10)].option===e)return t}return-1},t.prototype.setViewOptions=function(e){void 0===e&&(e=!1),this.viewOptions={},this.viewCollections=[];var t,r,a=this.viewIndex,s=0;this.viewIndex=-1;for(var o=0,l=this.views;o<l.length;o++){var c=l[o],p="string"!=typeof c;"string"==typeof c?(t=c,this.currentView===t&&(r=t,this.viewIndex=s)):(t=c.option,c.isSelected&&(r=t,this.viewIndex=s));var d=i.i(n.extend)({option:t},p?c:{}),h=t.charAt(0).toLowerCase()+t.slice(1);d.cellHeaderTemplateName=d.cellHeaderTemplate?d.option:"",d.dateHeaderTemplateName=d.dateHeaderTemplate?d.option:"",d.dateRangeTemplateName=d.dateRangeTemplate?d.option:"",d.cellTemplateName=d.cellTemplate?d.option:"",d.dayHeaderTemplateName=d.dayHeaderTemplate?d.option:"",d.monthHeaderTemplateName=d.monthHeaderTemplate?d.option:"",d.resourceHeaderTemplateName=d.resourceHeaderTemplate?d.option:"",d.headerIndentTemplateName=d.headerIndentTemplate?d.option:"",d.eventTemplateName=d.eventTemplate?d.option:"",i.i(n.isNullOrUndefined)(d.firstDayOfWeek)||0!==d.firstDayOfWeek||delete d.firstDayOfWeek,i.i(n.isNullOrUndefined)(d.interval)||1!==d.interval||delete d.interval,this.viewCollections.push(d),i.i(n.isNullOrUndefined)(this.viewOptions[""+h])?this.viewOptions[""+h]=[d]:this.viewOptions[""+h].push(d),s++}if(!e&&r&&this.setProperties({currentView:r},!0),-1===this.viewIndex){var u=this.getViewIndex(this.currentView);this.viewIndex="string"==typeof this.views[0]||i.i(n.isNullOrUndefined)(a)||-1===a?-1===u?0:u:a}},t.prototype.getActiveViewOptions=function(){var e={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},t=this.viewCollections[this.viewIndex].option.indexOf("Year")>-1,r={byDate:!t&&this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView,hideNonWorkingDays:["Day","Week","WorkWeek","Month"].indexOf(this.currentView)>-1&&this.group.hideNonWorkingDays},a=this.viewCollections[this.viewIndex].workDays?[]:this.workDays,s={dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,dateRangeTemplate:this.dateRangeTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:a,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:e,timeFormat:this.internalTimeFormat,group:r,headerRows:this.headerRows,orientation:"Horizontal",numberOfWeeks:0,displayDate:null,enableLazyLoading:!1},o=this.viewCollections[this.viewIndex],l=i.i(n.extend)(s,o,void 0,!0);return 0!==this.firstDayOfWeek&&o.firstDayOfWeek&&this.firstDayOfWeek!==o.firstDayOfWeek&&(l.firstDayOfWeek=this.firstDayOfWeek),l.displayDate&&(l.displayDate=l.displayDate instanceof Date?new Date(l.displayDate.getTime()):new Date(l.displayDate)),l.enableLazyLoading&&!i.i(n.isNullOrUndefined)(l.group.resources)&&l.group.resources.length>0&&(-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(l.option)||"TimelineYear"===l.option&&"Vertical"===l.orientation)&&(l.allowVirtualScrolling=!0),l},t.prototype.initializeDataModule=function(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new c.a(this,this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new D.a(this)},t.prototype.setEditorTitles=function(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}},t.prototype.initializeView=function(e){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(e)},t.prototype.initializeTemplates=function(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)},t.prototype.initializePopups=function(){this.eventWindow=new g.a(this),this.quickPopup=new h.a(this)},t.prototype.getDayNames=function(e){var t,r=[],a="";"en"===this.locale||"en-US"===this.locale?(a="days.stand-alone.",t=i.i(n.getValue)(a+e,i.i(n.getDefaultDateObject)(this.getCalendarMode()))):(a="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+e,t=i.i(n.getValue)(a,n.cldrData));for(var s=0,o=Object.keys(t);s<o.length;s++){var l=o[s];r.push(i.i(n.getValue)(l,t))}return r},t.prototype.setCldrTimeFormat=function(){if(!i.i(n.isNullOrUndefined)(this.timeFormat))return void(this.internalTimeFormat=this.timeFormat);"en"===this.locale||"en-US"===this.locale?this.internalTimeFormat=i.i(n.getValue)("timeFormats.short",i.i(n.getDefaultDateObject)(this.getCalendarMode())):this.internalTimeFormat=i.i(n.getValue)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",n.cldrData)},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getTimeString=function(e){return this.globalize.formatDate(e,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()}).toLocaleUpperCase()},t.prototype.getDateTime=function(e){return e instanceof Date?new Date(e.getTime()):new Date(e)},t.prototype.setCalendarMode=function(){"Islamic"===this.calendarMode?this.calendarUtil=new O.b:this.calendarUtil=new O.a},t.prototype.changeView=function(e,t,r,a){var s=this;if(i.i(n.isNullOrUndefined)(a)&&(a=this.getViewIndex(e)),!(!r&&a===this.viewIndex&&this.currentView===e||a<0)){var o=this.activeViewOptions?this.activeViewOptions.option:this.currentView,l={requestType:"viewNavigate",cancel:!1,event:t};this.trigger(A.f,l,function(i){if(i.cancel)s.currentView=o;else{var n={action:"view",cancel:!1,currentDate:s.selectedDate,previousView:o,currentView:e,viewIndex:a};s.trigger(A.i,n,function(i){if(i.cancel)s.currentView=o;else{var n=["Day","Week","WorkWeek"].indexOf(e)>-1&&["Day","Week","WorkWeek"].indexOf(o)<0;s.uiStateValues.isInitial=n||e.indexOf("Timeline")>-1||e.indexOf("Year")>-1,s.uiStateValues.top=e.indexOf("Timeline")>-1&&o.indexOf("Timeline")<0?0:s.uiStateValues.top,s.viewIndex=i.viewIndex,s.setProperties({currentView:e},!0),s.headerModule&&(s.headerModule.updateActiveView(),s.headerModule.setCalendarDate(s.selectedDate),s.headerModule.setCalendarView()),s.initializeView(s.currentView),s.animateLayout(),l={requestType:"viewNavigate",cancel:!1,event:t},s.trigger(A.g,l)}})}})}},t.prototype.changeDate=function(e,t){var i=this,n={requestType:"dateNavigate",cancel:!1,event:t};this.trigger(A.f,n,function(r){if(!r.cancel){var a={action:"date",cancel:!1,previousDate:i.selectedDate,currentDate:e};i.trigger(A.i,a,function(e){e.cancel||(i.uiStateValues.isInitial=i.activeView.isTimelineView()&&"TimelineYear"!==i.currentView,i.validateDate(e.currentDate),i.headerModule&&i.headerModule.setCalendarDate(e.currentDate),"MonthAgenda"===i.currentView&&i.monthAgendaModule&&(i.monthAgendaModule.monthAgendaDate=new Date(""+i.selectedDate)),i.initializeView(i.currentView),i.animateLayout(),n={requestType:"dateNavigate",cancel:!1,event:t},i.trigger(A.g,n))})}})},t.prototype.isMinMaxDate=function(e){return void 0===e&&(e=this.selectedDate),e.getTime()>=this.minDate.getTime()&&e.getTime()<=this.maxDate.getTime()},t.prototype.isSelectedDate=function(e){return e.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)},t.prototype.getCurrentTime=function(e){return void 0===e&&(e=new Date),this.timezone?this.tzModule.convert(e,this.tzModule.getLocalTimezoneName(),this.timezone):e},t.prototype.getNavigateView=function(){return this.activeView.isTimelineView()?"TimelineMonth"===this.currentView||"TimelineYear"===this.currentView?"TimelineDay":"Agenda":"Day"},t.prototype.animateLayout=function(){this.activeView.element&&new n.Animation({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)},t.prototype.requiredModules=function(){var e=[];this.setViewOptions(!0);for(var t=0,i=Object.keys(this.viewOptions);t<i.length;t++){var n=i[t];n="timelineDay"===n||"timelineWeek"===n||"timelineWorkWeek"===n?"timelineViews":n,e.push({member:n,args:[this]})}return this.allowDragAndDrop&&e.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&e.push({member:"resize",args:[this]}),e.push({member:"excelExport",args:[this]}),e.push({member:"iCalendarExport",args:[this]}),e.push({member:"iCalendarImport",args:[this]}),e.push({member:"print",args:[this]}),e},t.prototype.preRender=function(){this.isAdaptive=n.Browser.isDevice||I.I(),this.globalize=new n.Internationalization(this.locale),this.tzModule=new x.a,(this&&i.i(n.isNullOrUndefined)(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:0,action:!1,isBlock:!1,isCustomMonth:!0,isPreventTimezone:!1}),this.currentTimezoneDate=this.getCurrentTime(),this.activeCellsData={startTime:new Date(this.currentTimezoneDate),endTime:new Date(this.currentTimezoneDate),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new n.L10n(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.setViewOptions()},t.prototype.getDefaultLocale=function(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",ok:"Ok",yes:"Yes",no:"No",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}},t.prototype.wireEvents=function(){n.EventHandler.add(window,"resize",this.onScheduleResize,this),n.EventHandler.add(window,"orientationchange",this.onScheduleResize,this),n.EventHandler.add(document,n.Browser.touchStartEvent,this.onDocumentClick,this)},t.prototype.removeSelectedClass=function(){for(var e=this.getSelectedCells(),t=0,r=e;t<r.length;t++){var a=r[t];"Year"!==this.currentView&&a.setAttribute("aria-selected","false"),a.removeAttribute("tabindex")}i.i(n.removeClass)(e,V._37),this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0&&(this.keyboardInteractionModule.selectedCells=[])},t.prototype.addSelectedClass=function(e,t,r){if("Year"!==this.currentView)for(var a=0,s=e;a<s.length;a++){var o=s[a];o.setAttribute("aria-selected","true")}i.i(n.addClass)(e,V._37),t&&(t.setAttribute("tabindex","0"),t.focus({preventScroll:r||!1}))},t.prototype.selectCell=function(e){this.removeSelectedClass(),this.addSelectedClass([e],e)},t.prototype.getAllDayRow=function(){return this.element.querySelector("."+V._27)},t.prototype.getContentTable=function(){return this.activeView.element.querySelector("."+V.h+" tbody")},t.prototype.getTableRows=function(){return[].slice.call(this.element.querySelectorAll("."+V.h+" tbody tr:not(."+V._67+")"))},t.prototype.getWorkCellElements=function(){return[].slice.call(this.element.querySelectorAll("."+V.n))},t.prototype.getIndexOfDate=function(e,t){return e.map(Number).indexOf(+t)},t.prototype.isAllDayCell=function(e){return!(!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||e.classList.contains(V._4)||e.classList.contains(V.e))&&this.activeViewOptions.timeScale.enable)||!!(this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&"Hour"!==this.activeViewOptions.headerRows.slice(-1)[0].option)},t.prototype.getDateFromElement=function(e){var t;if(i.i(n.isNullOrUndefined)(e)||(t=e.getAttribute("data-date")),!i.i(n.isNullOrUndefined)(t)){var r=parseInt(t,10);return new Date(r)}},t.prototype.getTargetElement=function(e,t,i){var n,r=document.elementFromPoint(t,i);return r&&(n=r.closest(e)),n?[n]:null},t.prototype.getCellHeaderTemplate=function(){return this.cellHeaderTemplateFn},t.prototype.getDayHeaderTemplate=function(){return this.dayHeaderTemplateFn},t.prototype.getMonthHeaderTemplate=function(){return this.monthHeaderTemplateFn},t.prototype.getCellTemplate=function(){return this.cellTemplateFn},t.prototype.getDateHeaderTemplate=function(){return this.dateHeaderTemplateFn},t.prototype.getDateRangeTemplate=function(){return this.dateRangeTemplateFn},t.prototype.getMajorSlotTemplate=function(){return this.majorSlotTemplateFn},t.prototype.getMinorSlotTemplate=function(){return this.minorSlotTemplateFn},t.prototype.getAppointmentTemplate=function(){return this.appointmentTemplateFn},t.prototype.getEventTooltipTemplate=function(){return this.eventTooltipTemplateFn},t.prototype.getHeaderTooltipTemplate=function(){return this.headerTooltipTemplateFn},t.prototype.getEditorTemplate=function(){return this.editorTemplateFn},t.prototype.getEditorHeaderTemplate=function(){return this.editorHeaderTemplateFn},t.prototype.getEditorFooterTemplate=function(){return this.editorFooterTemplateFn},t.prototype.getQuickInfoTemplatesHeader=function(){return this.quickInfoTemplatesHeaderFn},t.prototype.getQuickInfoTemplatesContent=function(){return this.quickInfoTemplatesContentFn},t.prototype.getQuickInfoTemplatesFooter=function(){return this.quickInfoTemplatesFooterFn},t.prototype.getResourceHeaderTemplate=function(){return this.resourceHeaderTemplateFn},t.prototype.getHeaderIndentTemplate=function(){return this.headerIndentTemplateFn},t.prototype.getCssProperties=function(){return{border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"}},t.prototype.removeNewEventElement=function(){var e=this.element.querySelector("."+V._81);i.i(n.isNullOrUndefined)(e)||i.i(n.remove)(e)},t.prototype.getStartEndTime=function(e){if(!i.i(n.isNullOrUndefined)(e)&&""!==e){var t=I.b(new Date(this.currentTimezoneDate)||this.getCurrentTime()),r=e.split(":");return 2===r.length&&t.setHours(parseInt(r[0],10),parseInt(r[1],10),0),t}return null},t.prototype.onDocumentClick=function(e){this.notify(A.L,{event:e})},t.prototype.onScheduleResize=function(){i.i(n.isNullOrUndefined)(this.activeView)||(this.isAdaptive||I.H())&&document.activeElement&&document.activeElement.classList.contains(V.H)||(this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),I.B(),"Month"===this.currentView||"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()?(this.activeView.resetColWidth(),this.notify(A.J,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0}),this.refreshEvents(!1)):this.notify(A.G,{}))},t.prototype.templateParser=function(e){if(e)try{return"function"==typeof e?i.i(n.compile)(e):document.querySelectorAll(e).length?i.i(n.compile)(document.querySelector(e).innerHTML.trim()):i.i(n.compile)(e)}catch(t){return i.i(n.compile)(e)}},t.prototype.getSelectedCells=function(){return[].slice.call(this.element.querySelectorAll("."+V._37))},t.prototype.getAnnouncementString=function(e,t){var i;if(this.quickPopup&&this.activeViewOptions.group.resources.length>0){i=this.quickPopup.getResourceText({event:e},"event")+'"s event - '}var n=t||e[this.eventFields.subject]||this.eventSettings.fields.subject.default,r=this.globalize.formatDate(e[this.eventFields.startTime],{type:"dateTime",skeleton:"full",calendar:this.getCalendarMode()}),a=this.globalize.formatDate(e[this.eventFields.endTime],{type:"dateTime",skeleton:"full",calendar:this.getCalendarMode()}),s=n+" "+this.localeObj.getConstant("beginFrom")+" "+r+" "+this.localeObj.getConstant("endAt")+" "+a;return i&&(s=i+" "+s),s},t.prototype.boundaryValidation=function(e,t){var i={left:!1,right:!1,top:!1,bottom:!1},n=this.element.querySelector("."+V.g).getBoundingClientRect();return e<n.top+30+window.pageYOffset&&e>n.top+window.pageYOffset&&(i.top=!0),e>n.bottom-30+window.pageYOffset&&e<n.bottom+window.pageYOffset&&(i.bottom=!0),t<n.left+30+window.pageXOffset&&t>n.left+window.pageXOffset&&(i.left=!0),t>n.right-30+window.pageXOffset&&t<n.right+window.pageXOffset&&(i.right=!0),i},t.prototype.getWeekNumberContent=function(e){var t;if("FirstDay"===this.weekRule){var i=I.m(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(I.p(i))}else if("FirstFourDayWeek"===this.weekRule){var n=I.l(e.slice(-1)[0],this.firstDayOfWeek),r=I.m(e.slice(-1)[0],this.firstDayOfWeek),a=I.q(n,r);t=this.globalize.formatNumber(I.p(a))}else if("FirstFullWeek"===this.weekRule){var n=I.l(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(I.p(n))}return t},t.prototype.renderHeaderIndentTemplate=function(e,t){if(this.activeViewOptions.headerIndentTemplate){var r=this.element.id+"_",a=this.activeViewOptions.headerIndentTemplateName,s=r+a+"headerIndentTemplate",o=[].slice.call(this.getHeaderIndentTemplate()(e,this,"headerIndentTemplate",s,!1));i.i(n.append)(o,t)}},t.prototype.isSpecificResourceEvents=function(){return this.activeViewOptions.group.resources.length>0&&!this.activeViewOptions.group.allowGroupEdit&&!this.rowAutoHeight&&!this.virtualScrollModule&&this.activeViewOptions.group.byGroupID},t.prototype.unWireEvents=function(){n.EventHandler.remove(window,"resize",this.onScheduleResize),n.EventHandler.remove(window,"orientationchange",this.onScheduleResize),n.EventHandler.remove(document,n.Browser.touchStartEvent,this.onDocumentClick)},t.prototype.getModuleName=function(){return"schedule"},t.prototype.getPersistData=function(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft"])},t.prototype.onPropertyChanged=function(e,t){if(!this.isReact||!i.i(n.isNullOrUndefined)(this.activeView)){for(var r={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1},s=0,o=Object.keys(e);s<o.length;s++){var l=o[s];switch(l){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),r.isView=!0;break;case"currentView":r.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":r.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange();break;case"showHeaderBar":this.destroyHeaderModule(),e.showHeaderBar&&(this.headerModule=new a.a(this),this.headerModule.updateDateRange()),this.notify(A.J,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"workDays":JSON.stringify(t.workDays)!==JSON.stringify(e.workDays)&&(r.isLayout=!0);break;case"showWeekend":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":r.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new n.Internationalization(this.locale),this.localeObj=new n.L10n(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),r.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=e.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),r.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=e.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),r.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=e.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),r.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=e.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),r.isLayout=!0;break;case"dateRangeTemplate":this.activeViewOptions.dateRangeTemplate=e.dateRangeTemplate,this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.updateDateRange();break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=e.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),r.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=e.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),r.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=e.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),r.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(t.timezone),this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),r.isRefresh=!0;break;default:this.extendedPropertyChange(l,e,t,r)}}this.propertyChangeAction(r)}},t.prototype.propertyChangeAction=function(e){e.isRefresh?this.refresh():e.isResource?this.initializeResources(!0):e.isView?this.changeView(this.currentView,null,!0):e.isDate?this.changeDate(this.selectedDate):e.isLayout?(this.activeCellsData=null,this.initializeView(this.currentView)):e.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",i.i(n.removeClass)([this.element],V._73)),this.crudModule.refreshDataManager())},t.prototype.allDayRowScrollUpdate=function(){var e=this.element.querySelector("."+V.d),t=this.element.querySelector("."+V._27);if("auto"!==this.height&&this.enableAllDayScroll)e.classList.contains(V._32)&&i.i(n.removeClass)([e],V._32),this.eventBase.allDayExpandScroll(e);else if(i.i(n.addClass)([e],V._32),e.classList.contains(V._5)&&i.i(n.removeClass)([e],V._5),this.uiStateValues.expand){var r=[].slice.call(this.element.querySelectorAll("."+V._4));r[0].style.height=t.style.height?t.style.height:r[1].style.height}this.uiStateValues.expand||(t.style.height="")},t.prototype.extendedPropertyChange=function(e,t,r,s){switch(e){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(A.K,{module:"scroll",properties:{width:t.width,height:t.height}});break;case"cssClass":r.cssClass&&i.i(n.removeClass)([this.element],r.cssClass.split(" ")),t.cssClass&&i.i(n.addClass)([this.element],t.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),s.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(t.eventSettings,r.eventSettings,s);break;case"allowKeyboardInteraction":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),t.allowKeyboardInteraction&&(this.keyboardInteractionModule=new l.a(this));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":i.i(n.isNullOrUndefined)(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"editorHeaderTemplate":i.i(n.isNullOrUndefined)(this.editorHeaderTemplate)||(this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate)),this.eventWindow&&this.eventWindow.setDialogHeader();break;case"editorFooterTemplate":i.i(n.isNullOrUndefined)(this.editorFooterTemplate)||(this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate)),this.eventWindow&&this.eventWindow.setDialogFooter();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(t.group,r.group,s);break;case"resources":s.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=t.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=t.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":this.refreshEvents(!1);break;case"weekRule":s.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=t.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=t.monthsCount,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=t.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new a.a(this),this.headerModule.updateDateRange()),s.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=t.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),s.isLayout=!0}},t.prototype.setRtlClass=function(){this.enableRtl?i.i(n.addClass)([this.element],"e-rtl"):i.i(n.removeClass)([this.element],"e-rtl")},t.prototype.onGroupSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++){"headerTooltipTemplate"===r[n]?this.headerTooltipTemplateFn=this.templateParser(e.headerTooltipTemplate):(i.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())}},t.prototype.onEventSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"dataSource":case"query":case"fields":case"includeFiltersInQuery":this.initializeDataModule(),i.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=e.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),i.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),e.enableTooltip&&(this.eventTooltip=new u.a(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),i.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"minimumEventDuration":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":i.isLayout=!0}}},t.prototype.destroyHeaderModule=function(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)},t.prototype.destroyPopups=function(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)},t.prototype.showSpinner=function(){i.i(r.showSpinner)(this.element)},t.prototype.hideSpinner=function(){i.i(r.hideSpinner)(this.element)},t.prototype.setWorkHours=function(e,t,r,a){var s=[];s=this.getWorkHourCells(e,t,r,a),i.i(n.addClass)(s,V._16)},t.prototype.resetWorkHours=function(e,t,r,a){if(void 0===e&&(e=this.activeView.renderDates),e&&t&&r){var s=this.getWorkHourCells(e,t,r,a);i.i(n.removeClass)(s,V._16)}else{var o=[].slice.call(this.element.querySelectorAll("."+V._16));i.i(n.removeClass)(o,V._16)}},t.prototype.getWorkHourCells=function(e,t,r,a){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];var s=this.getStartEndTime(t),o=this.getStartEndTime(r),l=this.getContentTable();if(i.i(n.isNullOrUndefined)(s)||i.i(n.isNullOrUndefined)(o)||!l)return[];s.setMilliseconds(0),o.setMilliseconds(0);var c=this.activeView.getStartHour();s<c&&(s=c);var p=this.activeView.getEndHour();o>p&&(o=p);for(var d=this.activeViewOptions.timeScale.interval*I.g,h=d/this.activeViewOptions.timeScale.slotCount,u=Math.round((s.getTime()-c.getTime())/h),g=Math.ceil((o.getTime()-c.getTime())/h),v=u,f=g,m=[],y=0,T=e;y<T.length;y++){var D=T[y];D=this.getDateTime(D),I.b(D);var w=this.activeView.renderDates;i.i(n.isNullOrUndefined)(a)||!this.resourceBase||this.activeView.isTimelineView()||(w=this.resourceBase.lastResourceLevel[parseInt(a.toString(),10)].renderDates);var b=this.getIndexOfDate(w,D);if(b>=0){if(this.activeView.isTimelineView()){var C=Math.round((p.getTime()-c.getTime())/h);u=v+b*C,g=f+b*C}for(var S=u;S<g;S++)if(this.activeView.isTimelineView()){var O=i.i(n.isNullOrUndefined)(a)?0:a;m.push(l.rows[parseInt(O.toString(),10)].cells[parseInt(S.toString(),10)])}else if(i.i(n.isNullOrUndefined)(a))m.push(l.rows[parseInt(S.toString(),10)].cells[parseInt(b.toString(),10)]);else{var E="."+V.n+'[data-group-index="'+a+'"]',x=[].slice.call(l.rows[parseInt(S.toString(),10)].querySelectorAll(E));m.push(x[parseInt(b.toString(),10)])}}}return m},t.prototype.getCellDetails=function(e){var t=e instanceof Array?e:[e],r=i.i(n.getElement)(t[0]),a=i.i(n.getElement)(t.slice(-1)[0]),s=this.getDateFromElement(r),o=this.getDateFromElement(a);if(!i.i(n.isNullOrUndefined)(s)&&!i.i(n.isNullOrUndefined)(o)){var l=this.activeView.isTimelineView()&&!i.i(n.isNullOrUndefined)(a.getAttribute("colSpan"))&&this.headerRows.length>0,c=l?parseInt(a.getAttribute("colSpan"),10):1;o=!this.activeViewOptions.timeScale.enable||l||a.classList.contains(V._4)||a.classList.contains(V.e)?I.d(new Date(o.getTime()),c):this.activeView.getEndDateFromStartDate(o);var p={startTime:s,endTime:o,isAllDay:this.isAllDayCell(r),element:e},d=r.getAttribute("data-group-index");return i.i(n.isNullOrUndefined)(d)||(p.groupIndex=parseInt(d,10)),p}},t.prototype.getSelectedElements=function(){return this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0?this.keyboardInteractionModule.selectedCells:this.getSelectedCells()},t.prototype.getResourceCollections=function(){return this.resourceCollection},t.prototype.setResourceCollections=function(e){this.setProperties({resources:e},!1)},t.prototype.changeCurrentView=function(e,t){var i=this.getViewIndex(e),n=e.charAt(0).toLowerCase()+e.slice(1),r=this.viewOptions[""+n];r&&(i=this.viewCollections.indexOf(r[t||0])),-1!==i&&i!==this.viewIndex&&this.changeView(e,null,null,i)},t.prototype.getCurrentViewIndex=function(){return this.viewIndex},t.prototype.getResourcesByIndex=function(e){if(this.resourceBase&&this.resourceBase.lastResourceLevel){if(e<0||e>=this.resourceBase.lastResourceLevel.length)return;var t=this.resourceBase.lastResourceLevel[parseInt(e.toString(),10)],i={};return this.resourceBase.setResourceValues(i,e),{resource:t.resource,resourceData:t.resourceData,groupData:i}}},t.prototype.expandResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!1)},t.prototype.collapseResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!0)},t.prototype.scrollTo=function(e,t){this.activeView.scrollToDate&&i.i(n.isNullOrUndefined)(e)&&t?this.activeView.scrollToDate(t):this.activeView.scrollToHour&&this.activeView.scrollToHour(e,t)},t.prototype.scrollToResource=function(e,t){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(e,t)},t.prototype.exportToICalendar=function(e,t){if(!this.iCalendarExportModule)throw Error("Inject ICalendarExport module");this.iCalendarExportModule.initializeCalendarExport(e,t)},t.prototype.importICalendar=function(e){if(!this.iCalendarImportModule)throw Error("Inject ICalendarImport module");this.iCalendarImportModule.initializeCalendarImport(e)},t.prototype.addEvent=function(e){this.crudModule.addEvent(e)},t.prototype.generateEventOccurrences=function(e,t){return this.eventBase?this.eventBase.generateOccurrence(e,t):[]},t.prototype.exportToExcel=function(e){if(!this.excelExportModule)throw Error("Inject ExcelExport module");this.excelExportModule.initializeExcelExport(e)},t.prototype.print=function(e){if(!this.printModule)throw Error("Inject Print module");this.printModule.print(e)},t.prototype.saveEvent=function(e,t){this.crudModule.saveEvent(e,t)},t.prototype.deleteEvent=function(e,t){this.crudModule.deleteEvent(e,t)},t.prototype.getEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents():this.eventsData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getBlockEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents(this.blockData):this.blockData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getOccurrencesByID=function(e){return this.eventBase.getOccurrencesByID(e)},t.prototype.getOccurrencesByRange=function(e,t){return e=this.getDateTime(e),t=this.getDateTime(t),this.eventBase.getOccurrencesByRange(e,t)},t.prototype.getCurrentViewDates=function(){return this.activeView?this.activeView.renderDates:[]},t.prototype.setRecurrenceEditor=function(e){this.eventWindow.setRecurrenceEditor(e)},t.prototype.getEventMaxID=function(){return this.eventBase.getEventMaxID()},t.prototype.getDeletedOccurrences=function(e){return this.eventBase.getDeletedOccurrences(e)},t.prototype.getCurrentViewEvents=function(){return this.eventsProcessed},t.prototype.refreshEvents=function(e){void 0===e&&(e=!0),e?(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",i.i(n.removeClass)([this.element],V._73)),this.crudModule.refreshDataManager()):(this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!0),this.crudModule&&this.crudModule.refreshProcessedData(),this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!1))},t.prototype.refreshTemplates=function(e){switch(e?this.resetTemplates([e]):this.resetTemplates(),e){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"dateRangeTemplate":this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.refresh();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new h.a(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.destroyEditorWindow(),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"editorHeaderTemplate":this.destroyEditorWindow(),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate);break;case"editorFooterTemplate":this.destroyEditorWindow(),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new u.a(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView)}},t.prototype.refreshLayout=function(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()},t.prototype.getEventDetails=function(e){e=i.i(n.getElement)(e);var t=e.getAttribute("data-guid");return t?this.eventBase.getEventByGuid(t):{}},t.prototype.isSlotAvailable=function(e,t,r){var a,s,o=this,l=this.activeEventData.event;if(e instanceof Date||"string"==typeof e?(a=e,s=t):(l=e,a=e[this.eventFields.startTime],s=e[this.eventFields.endTime],this.resourceBase&&(r=this.eventBase.getGroupIndexFromEvent(e))),i.i(n.isNullOrUndefined)(a)||i.i(n.isNullOrUndefined)(s))return!0;a=this.getDateTime(a),s=this.getDateTime(s);var c=this.eventBase.filterEvents(a,s);return!i.i(n.isNullOrUndefined)(r)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(c=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[parseInt(r.toString(),10)],c)),l&&(c=l.Guid?c.filter(function(e){return e.Guid!==l.Guid}):c.filter(function(e){return e[o.eventFields.id]!==l[o.eventFields.id]})),!(c.length>0)},t.prototype.openEditor=function(e,t,r,a){"Add"!==t||r?(e[this.eventFields.startTime]=this.getDateTime(e[this.eventFields.startTime]),e[this.eventFields.endTime]=this.getDateTime(e[this.eventFields.endTime])):(e.startTime=this.getDateTime(e.startTime),e.endTime=this.getDateTime(e.endTime),i.i(n.isNullOrUndefined)(e.element)||(e.element=i.i(n.getElement)(e.element))),this.currentAction=t,"Add"!==t&&(this.activeEventData.event=e),this.eventWindow.openEditor(e,t,r,a)},t.prototype.closeEditor=function(){this.eventWindow&&this.eventWindow.dialogClose()},t.prototype.openQuickInfoPopup=function(e){var t=this;if("Year"!==this.currentView&&!i.i(n.isNullOrUndefined)(e))if(i.i(n.isNullOrUndefined)(e[this.eventFields.id])){if("Agenda"===this.currentView||"MonthAgenda"===this.currentView||i.i(n.isNullOrUndefined)(this.activeView))return;var r={startTime:this.activeCellsData.startTime=this.getDateTime(e[this.eventFields.startTime]),endTime:this.activeCellsData.endTime=this.getDateTime(e[this.eventFields.endTime]),isAllDay:this.activeCellsData.isAllDay=!i.i(n.isNullOrUndefined)(e[this.eventFields.isAllDay])&&e[this.eventFields.isAllDay]},a=this.activeView.getAdjustedDate(new Date(r.startTime));if(a){var s="."+V.n+'[data-date="'+a.getTime()+'"]';this.activeViewOptions.group.resources.length>0&&!this.uiStateValues.isGroupAdaptive&&this.resourceBase&&this.eventBase&&(r.groupIndex=this.eventBase.getGroupIndexFromEvent(e),s="."+V.n+'[data-date="'+a.getTime()+'"][data-group-index="'+r.groupIndex+'"]');var o=this.element.querySelector(s);o&&(o.focus(),r.element=o,this.notify(A.a,r))}}else{var l=this.getCurrentViewEvents().filter(function(i){return e[t.eventFields.id]===i[t.eventFields.id]});if(l.length<=0)return;var c=l[0];if(e[this.eventFields.recurrenceRule]){var p=l.filter(function(i){return i[t.eventFields.startTime].getTime()===e[t.eventFields.startTime].getTime()});p.length>0&&(c=p[0])}var d=this.element.querySelector('div[data-guid="'+c.Guid+'"]');d&&(this.eventBase.removeSelectedAppointmentClass(),this.eventBase.addSelectedAppointments([d],!1),this.activeEventData={event:c,element:d},"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView||i.i(n.addClass)([this.activeEventData.element],V.S),this.notify(A.k,this.activeEventData))}},t.prototype.closeQuickInfoPopup=function(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)},t.prototype.closeTooltip=function(){this.eventTooltip&&this.eventTooltip.close()},t.prototype.selectResourceByIndex=function(e){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(e)},t.prototype.getIndexFromResourceId=function(e,t){return this.resourceBase?this.resourceBase.getIndexFromResourceId(e,t):null},t.prototype.addResource=function(e,t,i){this.resourceBase.addResource(e,t,i)},t.prototype.removeResource=function(e,t){this.resourceBase.removeResource(e,t)},t.prototype.destroy=function(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.hideSpinner(),this.unWireEvents(),this.destroyHeaderModule(),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),e.prototype.destroy.call(this);for(var t=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"],r=0,a=t;r<a.length;r++){this[""+a[r]]=null}I.E(this.element);var s=[V._74,V._78,V._79,V._80];this.cssClass&&(s=s.concat(this.cssClass.split(" "))),i.i(n.removeClass)([this.element],s)},k([i.i(n.Property)("auto")],t.prototype,"width",void 0),k([i.i(n.Property)("auto")],t.prototype,"height",void 0),k([i.i(n.Property)(!0)],t.prototype,"showHeaderBar",void 0),k([i.i(n.Property)(!0)],t.prototype,"showTimeIndicator",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowSwiping",void 0),k([i.i(n.Property)("Week")],t.prototype,"currentView",void 0),k([i.i(n.Property)(["Day","Week","WorkWeek","Month","Agenda"])],t.prototype,"views",void 0),k([i.i(n.Property)(new Date)],t.prototype,"selectedDate",void 0),k([i.i(n.Property)(new Date(1900,0,1))],t.prototype,"minDate",void 0),k([i.i(n.Property)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),k([i.i(n.Property)()],t.prototype,"dateFormat",void 0),k([i.i(n.Property)("Gregorian")],t.prototype,"calendarMode",void 0),k([i.i(n.Property)(!0)],t.prototype,"showWeekend",void 0),k([i.i(n.Property)(0)],t.prototype,"firstDayOfWeek",void 0),k([i.i(n.Property)("FirstDay")],t.prototype,"weekRule",void 0),k([i.i(n.Property)([1,2,3,4,5])],t.prototype,"workDays",void 0),k([i.i(n.Property)(12)],t.prototype,"monthsCount",void 0),k([i.i(n.Property)("00:00")],t.prototype,"startHour",void 0),k([i.i(n.Property)("24:00")],t.prototype,"endHour",void 0),k([i.i(n.Property)(null)],t.prototype,"timeFormat",void 0),k([i.i(n.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),k([i.i(n.Property)(!1)],t.prototype,"enableAllDayScroll",void 0),k([i.i(n.Property)(!1)],t.prototype,"enableAdaptiveUI",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowResizing",void 0),k([i.i(n.Complex)({},f.a)],t.prototype,"workHours",void 0),k([i.i(n.Complex)({},m.a)],t.prototype,"timeScale",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowKeyboardInteraction",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowDragAndDrop",void 0),k([i.i(n.Property)()],t.prototype,"dateHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"dateRangeTemplate",void 0),k([i.i(n.Property)()],t.prototype,"cellHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"dayHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"monthHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"cellTemplate",void 0),k([i.i(n.Property)(!1)],t.prototype,"readonly",void 0),k([i.i(n.Property)(!0)],t.prototype,"showQuickInfo",void 0),k([i.i(n.Property)(!1)],t.prototype,"allowInline",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowMultiCellSelection",void 0),k([i.i(n.Property)(!0)],t.prototype,"allowMultiRowSelection",void 0),k([i.i(n.Property)(!1)],t.prototype,"quickInfoOnSelectionEnd",void 0),k([i.i(n.Property)(!1)],t.prototype,"showWeekNumber",void 0),k([i.i(n.Property)(!1)],t.prototype,"rowAutoHeight",void 0),k([i.i(n.Property)(!1)],t.prototype,"allowMultiDrag",void 0),k([i.i(n.Property)(0)],t.prototype,"firstMonthOfYear",void 0),k([i.i(n.Property)()],t.prototype,"editorTemplate",void 0),k([i.i(n.Property)()],t.prototype,"editorHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"editorFooterTemplate",void 0),k([i.i(n.Complex)({},y.a)],t.prototype,"quickInfoTemplates",void 0),k([i.i(n.Property)(7)],t.prototype,"agendaDaysCount",void 0),k([i.i(n.Property)(!0)],t.prototype,"hideEmptyAgendaDays",void 0),k([i.i(n.Property)(!0)],t.prototype,"enableRecurrenceValidation",void 0),k([i.i(n.Property)()],t.prototype,"timezone",void 0),k([i.i(n.Complex)({},b.a)],t.prototype,"eventSettings",void 0),k([i.i(n.Property)(x.b)],t.prototype,"timezoneDataSource",void 0),k([i.i(n.Property)()],t.prototype,"resourceHeaderTemplate",void 0),k([i.i(n.Property)()],t.prototype,"headerIndentTemplate",void 0),k([i.i(n.Complex)({},C.a)],t.prototype,"group",void 0),k([i.i(n.Collection)([],S.a)],t.prototype,"resources",void 0),k([i.i(n.Collection)([],T.a)],t.prototype,"headerRows",void 0),k([i.i(n.Property)()],t.prototype,"cssClass",void 0),k([i.i(n.Property)()],t.prototype,"eventDragArea",void 0),k([i.i(n.Event)()],t.prototype,"created",void 0),k([i.i(n.Event)()],t.prototype,"destroyed",void 0),k([i.i(n.Event)()],t.prototype,"cellClick",void 0),k([i.i(n.Event)()],t.prototype,"cellDoubleClick",void 0),k([i.i(n.Event)()],t.prototype,"moreEventsClick",void 0),k([i.i(n.Event)()],t.prototype,"hover",void 0),k([i.i(n.Event)()],t.prototype,"select",void 0),k([i.i(n.Event)()],t.prototype,"actionBegin",void 0),k([i.i(n.Event)()],t.prototype,"actionComplete",void 0),k([i.i(n.Event)()],t.prototype,"actionFailure",void 0),k([i.i(n.Event)()],t.prototype,"navigating",void 0),k([i.i(n.Event)()],t.prototype,"renderCell",void 0),k([i.i(n.Event)()],t.prototype,"eventClick",void 0),k([i.i(n.Event)()],t.prototype,"eventDoubleClick",void 0),k([i.i(n.Event)()],t.prototype,"eventRendered",void 0),k([i.i(n.Event)()],t.prototype,"dataBinding",void 0),k([i.i(n.Event)()],t.prototype,"popupOpen",void 0),k([i.i(n.Event)()],t.prototype,"popupClose",void 0),k([i.i(n.Event)()],t.prototype,"dragStart",void 0),k([i.i(n.Event)()],t.prototype,"drag",void 0),k([i.i(n.Event)()],t.prototype,"dragStop",void 0),k([i.i(n.Event)()],t.prototype,"resizeStart",void 0),k([i.i(n.Event)()],t.prototype,"resizing",void 0),k([i.i(n.Event)()],t.prototype,"resizeStop",void 0),k([i.i(n.Event)()],t.prototype,"virtualScrollStart",void 0),k([i.i(n.Event)()],t.prototype,"virtualScrollStop",void 0),k([i.i(n.Event)()],t.prototype,"dataBound",void 0),t=k([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(72)),a=(i.n(r),i(8)),s=i(1),o=i(3),l=i(2),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.createAgendaContentElement=function(e,t,a,c,p){var d,h=this,u=this.parent.eventFields;if("noEvents"===e){var g=[{subject:this.parent.localeObj.getConstant("noEvents")}];d=r.ListBase.createList(this.parent.createElement,g,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:'<div class="'+o._40+'">'+this.parent.localeObj.getConstant("noEvents")+"</div>"}),0===d.querySelector(".e-agenda-item").children.length&&d.firstElementChild.appendChild(i.i(n.createElement)("div",{className:o._40,innerHTML:this.parent.localeObj.getConstant("noEvents")}))}else{d=r.ListBase.createList(this.parent.createElement,t,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass});[].slice.call(d.children).forEach(function(e,r){var a=i.i(n.createElement)("div",{className:o.A,attrs:{"data-id":"Appointment_"+t[parseInt(r.toString(),10)][""+h.parent.eventFields.id],"data-guid":t[parseInt(r.toString(),10)].Guid,role:"button",tabindex:"0","aria-disabled":h.parent.eventBase.getReadonlyAttribute(t[parseInt(r.toString(),10)]),"aria-label":h.parent.getAnnouncementString(t[parseInt(r.toString(),10)])}});i.i(n.isNullOrUndefined)(p)||a.setAttribute("data-group-index",p.toString()),h.parent.eventBase.applyResourceColor(a,t[parseInt(r.toString(),10)],"borderColor",c);var d;if(i.i(n.isNullOrUndefined)(h.parent.activeViewOptions.eventTemplate))d=h.createAppointment(t[parseInt(r.toString(),10)]);else{i.i(n.addClass)([a],o._41);var g=h.parent.element.id+"_",v=h.parent.activeViewOptions.eventTemplateName,f=g+v+"eventTemplate";if(d=h.parent.getAppointmentTemplate()(t[parseInt(r.toString(),10)],h.parent,"eventTemplate",f,!1),!i.i(n.isNullOrUndefined)(t[parseInt(r.toString(),10)][u.recurrenceRule])){var m=t[parseInt(r.toString(),10)][u.id]===t[parseInt(r.toString(),10)][u.recurrenceID]?o.L:o.M;a.appendChild(i.i(n.createElement)("div",{className:o.N+" "+m}))}}i.i(n.append)([].slice.call(d),a),s.E(e),e.appendChild(a);var y={data:i.i(n.extend)({},t[parseInt(r.toString(),10)],null,!0),element:e,cancel:!1};h.parent.trigger(l.m,y,function(t){t.cancel&&i.i(n.remove)(e)})})}return a.appendChild(d),("MonthAgenda"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0||"Agenda"===this.parent.currentView)&&i.i(n.addClass)([a],o._42),this.parent.renderTemplates(),a},t.prototype.createAppointment=function(e){var t=this.parent.eventFields,r=e[t.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),a=e[t.location]||this.parent.eventSettings.fields.location.default,l=i.i(n.createElement)("div",{className:o._43});i.i(n.isNullOrUndefined)(a)||""===a||(r+=",");var c=i.i(n.createElement)("div",{className:o.H});if(this.parent.sanitize(r,c),l.appendChild(c),!i.i(n.isNullOrUndefined)(a)&&""!==a){var p=i.i(n.createElement)("div",{className:o.K});this.parent.sanitize(a,p),l.appendChild(p)}if(!i.i(n.isNullOrUndefined)(e[t.recurrenceRule])){var d=e[t.id]===e[t.recurrenceID]?o.L:o.M;l.appendChild(i.i(n.createElement)("div",{className:o.N+" "+d}))}var h=e[t.startTime],u=e[t.endTime],g=e[t.isAllDay],v=this.parent.localeObj.getConstant("allDay"),f=this.parent.getTimeString(h)+" - "+this.parent.getTimeString(u);if(!i.i(n.isNullOrUndefined)(e.data)){v=((u.getTimezoneOffset()!==h.getTimezoneOffset()?u.getTime()-h.getTime()+36e5:u.getTime()-h.getTime())/s.c>=1?v:f)+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")"}var m=!i.i(n.isNullOrUndefined)(e.data)||g?v:f;return[l,i.i(n.createElement)("div",{className:o._44,innerHTML:m})]},t.prototype.processAgendaEvents=function(e){var t=[];if(i.i(n.isNullOrUndefined)(e))return t;for(var r=0,a=e;r<a.length;r++){var s=a[r],o=this.parent.eventBase.splitEventByDay(s);t=t.concat(o.length>1?o:s)}return t},t.prototype.wireEventActions=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.A)),t=0,i=e;t<i.length;t++){var r=i[t];this.parent.eventBase.wireAppointmentEvents(r,this.parent.getEventDetails(r),!0)}for(var a=[].slice.call(this.parent.element.querySelectorAll(".e-m-date")),s=0,l=a;s<l.length;s++){var r=l[s];n.EventHandler.add(r,"click",this.parent.agendaModule.dayNavigationClick,this)}},t.prototype.calculateResourceTableElement=function(e,t,r){if(i.i(n.isNullOrUndefined)(this.parent.resourceBase.lastResourceLevel)){var a=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(a)}for(var l=s.d(new Date(r.getTime()),t),c=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?t:1,p=this.parent.resourceBase.resourceCollection,d=this.parent.resourceBase.lastResourceLevel,h=r,u=0;u<c;u++){var g=[],v=[],f=0,m=void 0,y=void 0,T=s.d(h,u),D=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?s.d(T,1):l,w=this.parent.eventBase.filterEvents(T,D);if(w.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView){for(var b=0;b<d.length;b++){t=this.parent.activeViewOptions.group.byDate&&"MonthAgenda"!==this.parent.currentView?1:t;var C=[];r=T;var S=this.parent.eventBase.filterEvents(r,l,w,d[parseInt(b.toString(),10)]);if(S.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)for(var O=0;O<t;O++){var E=this.parent.eventBase.filterEvents(r,s.d(r,1),S,void 0);if((E.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)&&(C.push(E[0]),m={rowSpan:1,type:"eventColumn",resource:p[p.length-1],groupIndex:d[parseInt(b.toString(),10)].groupIndex,groupOrder:d[parseInt(b.toString(),10)].groupOrder,resourceData:d[parseInt(b.toString(),10)].resourceData,eventData:E,date:r},y={rowSpan:1,type:"dateColumn",resource:p[parseInt((p.length-1).toString(),10)],groupOrder:d[parseInt(b.toString(),10)].groupOrder,resourceData:d[parseInt(b.toString(),10)].resourceData,date:r},g[parseInt(f.toString(),10)]||(g[parseInt(f.toString(),10)]=[]),g[parseInt(f.toString(),10)].push(m),g[parseInt(f.toString(),10)].push(y),f++),r=s.d(r,1),r.getTime()>=l.getTime()||this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){g[g.length-1][1].cssClass=o._42;var x={rowSpan:C.length,type:"resourceColumn",resource:p[parseInt((p.length-1).toString(),10)],groupOrder:d[parseInt(b.toString(),10)].groupOrder.slice(0,-1),resourceData:d[parseInt(b.toString(),10)].resourceData,groupIndex:g.length-C.length,className:[o._45],date:r};g[parseInt((g.length-C.length).toString(),10)].push(x),v.push(i.i(n.extend)({},x,null,!0));break}}}for(var A=p.slice(0,-1),V=[],I=0,M=0;M<A.length;M++)for(var C=A[A.length-(M+1)].dataSource,k=0;k<C.length;k++)for(var R=0,_=0;_<v.length;_++)v[parseInt(_.toString(),10)].groupOrder[A.length-(M+1)]===C[parseInt(k.toString(),10)][A[A.length-(M+1)].idField]&&(I+=v[parseInt(_.toString(),10)].rowSpan,V.push(i.i(n.extend)({},v[parseInt(_.toString(),10)],null,!0))),++R===v.length&&V.length>0&&(V[0].rowSpan=I,V[0].type="parentColumnLevel_"+(M+1),V[0].resource=A[A.length-(M+1)],V[0].resourceData=C[parseInt(k.toString(),10)],V[0].date=r,g[V[0].groupIndex].push(V[0]),V=[],I=0);this.createResourceTableRow(g,e)}}0===this.parent.eventBase.filterEvents(h,l).length&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,h)},t.prototype.createResourceTableRow=function(e,t){var r,a,l,c=i.i(n.createElement)("tr"),p=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),d=0;if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){for(var h=[],u=this.parent.resourceBase.resourceCollection.slice(0,-1),g=0;g<e.length;g++)h=h.concat(e[parseInt(g.toString(),10)]);l=u.length>0?"parentColumnLevel_"+u.length:"resourceColumn";for(var v=h.filter(function(e){return e.type===l}),f=0;f<v.length;f++)d+=v[parseInt(f.toString(),10)].rowSpan}for(var m=0;m<e.length;m++){r=c.cloneNode();for(var y=e[parseInt(m.toString(),10)].length-1;y>=0;y--){var T=e[parseInt(m.toString(),10)][parseInt(y.toString(),10)],D=p.cloneNode();if("dateColumn"===T.type){if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){a=e[parseInt(m.toString(),10)][parseInt(y.toString(),10)];continue}D.setAttribute("data-date",T.date.getTime().toString()),D.appendChild(this.createDateHeaderElement(T.date));var w=[o._46,o._47];T.cssClass&&w.push(T.cssClass),i.i(n.addClass)([D],w),this.isCurrentDate(new Date(T.date.getTime()))&&i.i(n.addClass)(D.childNodes,o._48),r.appendChild(D)}else if("eventColumn"===T.type){var b=0===T.eventData.length?"noEvents":"data";D=this.createAgendaContentElement(b,T.eventData,D,T.groupOrder,T.groupIndex),D.setAttribute("data-date",T.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView)&&i.i(n.addClass)([D],[o._46,o._49]),r.appendChild(D)}else D.setAttribute("rowspan",T.rowSpan.toString()),i.i(n.addClass)([D],o._50),this.setResourceHeaderContent(D,T,T.className[0]),r.appendChild(D)}if(this.parent.activeViewOptions.group.byDate&&0===m&&"MonthAgenda"!==this.parent.currentView){var D=p.cloneNode();D.setAttribute("data-date",a.date.getTime().toString()),D.setAttribute("rowspan",d.toString()),D.appendChild(this.createDateHeaderElement(a.date)),i.i(n.addClass)([D],[o._46,o._47,o._51]);var C=s.y(this.parent.selectedDate.getTime(),a.date.getTime());if(r.setAttribute("data-row-index",C.toString()),this.parent.element.querySelector('.e-agenda-view tr[data-row-index="'+C+'"]'))break;r.insertBefore(D,r.childNodes[0])}t.appendChild(r)}},t.prototype.createDateHeaderElement=function(e){var t;if(this.parent.activeViewOptions.dateHeaderTemplate){t=i.i(n.createElement)("div",{className:o._52});var r={date:e,type:"dateHeader"},a=this.parent.element.id+"_",s=this.parent.activeViewOptions.dateHeaderTemplateName,l=a+s+"dateHeaderTemplate",c=[].slice.call(this.parent.getDateHeaderTemplate()(r,this.parent,"dateHeaderTemplate",l,!1));i.i(n.append)(c,t)}else t=this.getMobileDateElement(e,o._52);return t},t.prototype.renderEmptyContent=function(e,t){var r=this.createTableRowElement(t,"noEvents"),a=r.children[0],s=i.i(n.createElement)("div",{className:o._53,innerHTML:this.parent.localeObj.getConstant("noEvents")});a.appendChild(s),e.appendChild(r)},t.prototype.createTableRowElement=function(e,t){var r=s.y(this.parent.selectedDate.getTime(),e.getTime()),a=i.i(n.createElement)("tr",{attrs:{"data-row-index":r.toString()}}),l=i.i(n.createElement)("td",{attrs:{class:"monthHeader"===t?o.m:o._46,"aria-selected":"false","data-column-index":r.toString(),"data-date":e.getTime().toString()}}),c=l.cloneNode(),p=l.cloneNode();return a.appendChild(c),"noEvents"!==t&&a.appendChild(p),a},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(a.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(7)),a=i(1),s=i(2),o=i(3),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t,"day")||this;return i.isResource=!1,i}return l(t,e),t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.fields=this.parent.eventFields;for(var e="Year"===this.parent.currentView?"."+o.A:"."+o.D+",."+o.z,t=[].slice.call(this.parent.element.querySelectorAll(e)),r=0,a=t;r<a.length;r++){var l=a[r];i.i(n.remove)(l)}this.renderedEvents=[],"Year"===this.parent.currentView?this.yearViewEvents():(this.removeCellHeight(),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?(this.isResource=!0,this.timelineResourceEvents()):this.timelineYearViewEvents()),this.parent.renderTemplates(),this.parent.notify(s.G,{})},t.prototype.yearViewEvents=function(){for(var e=this.getMonths(),t=0,r=e;t<r.length;t++)for(var s=r[t],l=".e-month-calendar:nth-child("+(e.indexOf(s)+1)+") td.e-work-cells",c=[].slice.call(this.parent.element.querySelectorAll(l)),p=new Date(this.parent.selectedDate.getFullYear(),s,1),d=this.parent.calendarUtil.getMonthStartDate(new Date(p.getTime())),h=this.parent.calendarUtil.getMonthEndDate(new Date(p.getTime())),u=a.l(d,this.parent.firstDayOfWeek),g=a.d(a.m(h,this.parent.firstDayOfWeek),1),v=0;u.getTime()<g.getTime();v++){var f=a.b(new Date(u.getTime())),m=a.d(new Date(f.getTime()),1);if(u=a.d(new Date(u.getTime()),1),this.parent.isMinMaxDate(f)){var y=this.parent.eventBase.filterEvents(f,m);if(y.length>0){var T=c[parseInt(v.toString(),10)];T&&T.appendChild(i.i(n.createElement)("div",{className:o.A}))}}}},t.prototype.timelineYearViewEvents=function(){var e=this,t=this.parent.element.querySelector("."+o.n+":not(."+o.t+")");this.cellWidth=t.getBoundingClientRect().width,this.cellHeader=a.D(t.querySelector("."+o.o));var r=this.parent.element.querySelector("."+o.i);this.eventHeight=a.h(r,o.A);for(var s=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),l=this.getMonths(),c=this.parent.activeViewOptions.group.resources.length>0&&this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:void 0,p=0;p<l.length;p++){var d=s[parseInt(p.toString(),10)],h=p+1,u=i.i(n.createElement)("div",{className:o.D});d.appendChild(u);var g=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(p.toString(),10)],1),v=new Date(g.getFullYear(),g.getMonth()+1,0),f=g.getDay(),m=[];for("Horizontal"===this.parent.activeViewOptions.orientation&&(this.renderedEvents=[]);g.getTime()<=v.getTime();){var y=void 0,T=void 0;if("Vertical"===this.parent.activeViewOptions.orientation){var D=s[parseInt(f.toString(),10)];h=f+1,u=D.querySelector("."+o.D),u||(u=i.i(n.createElement)("div",{className:o.D}),D.appendChild(u)),this.parent.enableRtl?T=p*this.cellWidth:y=p*this.cellWidth}else this.parent.enableRtl?T=(f+g.getDate()-1)*this.cellWidth:y=(f+g.getDate()-1)*this.cellWidth;var w=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+h+") td");this.cellHeight=w.offsetHeight;var b=a.b(new Date(g.getTime())),C=a.d(new Date(b.getTime()),1),S=void 0;this.parent.uiStateValues.isGroupAdaptive&&(S=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]);var O=this.parent.eventBase.filterEvents(b,C,void 0,S);O=this.parent.eventBase.sortByDateTime(O);for(var E=this,x=0,A=O.length;x<A;x++)!function(e,t){var r=i.i(n.extend)({},O[parseInt(e.toString(),10)],null,!0);E.updateSpannedEvents(r,b,C);var a=E.getIndex(b);r.Index=a;var s=E.cellHeader+E.eventHeight*(a+1)+2+E.moreIndicatorHeight,o=E.cellHeight-E.cellHeader-E.moreIndicatorHeight,l=Math.floor(o/(E.eventHeight+2)),d=t-l<=0?1:t-l;if("Horizontal"===E.parent.activeViewOptions.orientation){var h=E.renderedEvents.filter(function(e){return e.Guid===r.Guid}),v=m.filter(function(e){return e.Guid===r.Guid});if(h.length>0&&h[0].MoreIndicator||v.length>0&&v[0].MoreIndicator){var D="Horizontal"===E.parent.activeViewOptions.orientation?p:f;return E.renderMoreIndicator(u,d,b,D,y,T,c),"continue"}if(h.length>0||v.length>0)return"continue"}if(E.parent.rowAutoHeight||E.cellHeight>s)E.renderEvent(u,r,p,y,T,g,f),E.updateCellHeight(w,s),m.push(r);else{var D="Horizontal"===E.parent.activeViewOptions.orientation?p:f;E.renderMoreIndicator(u,d,b,D,y,T,c),"Horizontal"===E.parent.activeViewOptions.orientation&&(r.MoreIndicator=!0,E.renderedEvents.push(r),m.push(r))}}(x,A);g=a.d(new Date(g.getTime()),1),"Vertical"===this.parent.activeViewOptions.orientation&&(f++,this.renderedEvents=[])}}if(this.parent.rowAutoHeight&&"Vertical"===this.parent.activeViewOptions.orientation){var V=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),I=[].slice.call(this.parent.element.querySelectorAll("."+o.h+" tbody tr"));V.forEach(function(t,i){var n=[].slice.call(t.querySelectorAll("."+o.A)),r=I[parseInt(i.toString(),10)].offsetTop+e.cellHeader+2;n.forEach(function(t){var i=parseInt(t.getAttribute("data-index"),10);t.style.top=r+i*e.eventHeight+"px",t.removeAttribute("data-index")})})}},t.prototype.updateSpannedEvents=function(e,t,i){var n=this.isResource&&"Vertical"===this.parent.activeViewOptions.orientation||!this.isResource&&"Horizontal"===this.parent.activeViewOptions.orientation,r={isLeft:!0,isRight:!0,isBottom:!0,isTop:!0};t.getTime()<=e[this.fields.startTime].getTime()&&(n?r.isLeft=!1:r.isTop=!1),(i.getTime()>=e[this.fields.endTime].getTime()||n&&!this.isResource&&a.d(i,-1).getMonth()===e[this.fields.endTime].getMonth()||n&&this.isResource&&i.getTime()<=e[this.fields.endTime].getTime())&&(n?r.isRight=!1:r.isBottom=!1),e.data=r},t.prototype.timelineResourceEvents=function(){var e=this,t=this.parent.element.querySelector("."+o.g),i=t.offsetWidth>t.clientWidth,n=this.parent.element.querySelector("."+o.n);this.cellWidth=n.getBoundingClientRect().width,this.cellHeader=0;var r=this.parent.element.querySelector("."+o.i);this.eventHeight=a.h(r,o.A);var s=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),l=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.activeViewOptions.allowVirtualScrolling?this.parent.resourceBase.renderedResources:this.parent.resourceBase.lastResourceLevel,c=this.getMonths();if("Horizontal"===this.parent.activeViewOptions.orientation)for(var p=0;p<c.length;p++)for(var d=new Date(this.parent.selectedDate.getFullYear(),c[parseInt(p.toString(),10)],1),h=0,u=l.length;h<u;h++)this.renderedEvents=[],this.renderResourceEvent(s[parseInt(p.toString(),10)],l[parseInt(h.toString(),10)],p,h,d);else for(var h=0,u=l.length;h<u;h++){this.renderedEvents=[];for(var p=0;p<c.length;p++){var d=new Date(this.parent.selectedDate.getFullYear(),c[parseInt(p.toString(),10)],1);this.renderResourceEvent(s[parseInt(h.toString(),10)],l[parseInt(h.toString(),10)],p,h,d)}}if(this.parent.rowAutoHeight&&!i&&t.offsetWidth>t.clientWidth){[].slice.call(this.parent.element.querySelectorAll("."+o.A)).forEach(function(e){e.style.removeProperty("left"),e.style.removeProperty("right")});var g=[].slice.call(this.parent.element.querySelectorAll("."+o.l)),v=this.parent.element.querySelector("."+o.h),f=[].slice.call(v.querySelectorAll("tbody tr"));g.forEach(function(t,i){var n=[].slice.call(t.children),r=f[parseInt(i.toString(),10)];n.forEach(function(t,i){var n=r.querySelector("td:nth-child("+(i+1)+")"),a=[].slice.call(t.children),s=n.getBoundingClientRect().width,o=n.offsetLeft;if(e.parent.enableRtl){var l=v.offsetWidth-o-n.offsetWidth;a.forEach(function(e){e.style.width=Math.floor(parseInt(e.style.width,10)/s)*s+"px",e.style.right=l+"px"})}else a.forEach(function(e){e.style.width=Math.floor(parseInt(e.style.width,10)/s)*s+"px",e.style.left=o+"px"})})})}},t.prototype.renderResourceEvent=function(e,t,r,s,l){var c=i.i(n.createElement)("div",{className:o.D});e.appendChild(c);var p=a.d(a.o(new Date(l.getTime())),1),d=this.parent.eventBase.filterEvents(l,p,void 0,t),h="Vertical"===this.parent.activeViewOptions.orientation?s:r,u=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(h+1)+") td");this.cellHeight=u.offsetHeight,this.groupOrder=t.groupOrder;for(var g=[],v=this,f=0;f<d.length;f++){var m=function(e){var t=d[parseInt(e.toString(),10)],a=void 0,o=i.i(n.extend)({},t,null,!0);if(v.parent.activeViewOptions.group.resources.length>0){var p=v.isSpannedEvent(o,l);a=v.getIndex(p[v.fields.startTime]),o.Index=a}else a=v.getIndex(o[v.fields.startTime]),o.Index=a;var h=v.cellHeader+v.eventHeight*(e+1)+2+v.moreIndicatorHeight,f="Vertical"===v.parent.activeViewOptions.orientation?r*v.cellWidth:s*v.cellWidth;if(!v.parent.isMinMaxDate(o[v.fields.startTime]))return{value:void 0};if("Vertical"===v.parent.activeViewOptions.orientation&&v.parent.activeViewOptions.group.resources.length>0){var m=v.renderedEvents.filter(function(e){return e.Guid===o.Guid}),y=g.filter(function(e){return e.Guid===o.Guid});if(m.length>0||y.length>0)return"continue"}if(!(v.parent.rowAutoHeight||v.cellHeight>h)){var T="Horizontal"===v.parent.activeViewOptions.orientation?r:s;if(v.renderMoreIndicator(c,d.length-e,l,T,f,f,s),"Horizontal"===v.parent.activeViewOptions.orientation)for(var D=s;D<d.length;D++)v.renderedEvents.push(i.i(n.extend)({},d[parseInt(D.toString(),10)],{Index:a+D},!0));return"break"}v.renderEvent(c,o,r,f,f,l,s),v.updateCellHeight(u,h),g.push(o)}(f);if("object"==typeof m)return m.value;if("break"===m)break}},t.prototype.renderEvent=function(e,t,r,o,l,c,p){var d,h,u=this,g=this.isSpannedEvent(t,c),v=this.createEventElement(g);if(1===g.isSpanned.count){var f=a.d(g[this.fields.endTime],-1);g[this.fields.endTime]=f>g[this.fields.startTime]?f:g[this.fields.endTime]}if(!(g[this.fields.startTime]>g[this.fields.endTime])){"Horizontal"===this.parent.activeViewOptions.orientation?(h=r+1,g[this.fields.startTime].getTime()===g[this.fields.endTime].getTime()&&(g.isSpanned.count=1),d=g.isSpanned.count*this.cellWidth):(h=p+1,d=this.isResource?g.isSpanned.count*this.cellWidth:this.cellWidth);var m=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+h+") td"),y=m.offsetTop+this.cellHeader+this.eventHeight*g.Index+2;i.i(n.setStyleAttribute)(v,{width:d+"px",height:this.eventHeight+"px",left:o+"px",right:l+"px",top:y+"px"}),!this.isResource&&this.parent.rowAutoHeight&&"Vertical"===this.parent.activeViewOptions.orientation&&v.setAttribute("data-index",g.Index.toString());var T={data:g,element:v,cancel:!1,type:"event"};this.parent.trigger(s.m,T,function(t){t.cancel||(e.appendChild(v),u.wireAppointmentEvents(v,g),u.parent.activeViewOptions.group.resources.length>0?u.renderedEvents.push(i.i(n.extend)({},g,null,!0)):"Vertical"===u.parent.activeViewOptions.orientation?u.renderedEvents.push(i.i(n.extend)({},g,null,!0)):((g.isSpanned.isRight||g.isSpanned.isLeft)&&"Horizontal"===u.parent.activeViewOptions.orientation||!g.isSpanned.isRight)&&u.renderedEvents.push(i.i(n.extend)({},g,null,!0)))})}},t.prototype.renderMoreIndicator=function(e,t,r,s,o,l,c){if(0!==this.parent.activeViewOptions.group.resources.length||!e.querySelector('[data-start-date="'+r.getTime()+'"]')){var p;p=this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?a.d(a.o(new Date(r.getTime())),1):a.d(new Date(r.getTime()),1);var d=this.getMoreIndicatorElement(t,r,p),h=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(s+1)+")"),u=h.offsetTop+(this.cellHeight-this.moreIndicatorHeight);o=Math.floor(o/this.cellWidth)*this.cellWidth,l=Math.floor(l/this.cellWidth)*this.cellWidth,i.i(n.setStyleAttribute)(d,{width:this.cellWidth+"px",left:o+"px",right:l+"px",top:u+"px"}),i.i(n.isNullOrUndefined)(c)||d.setAttribute("data-group-index",c.toString()),e.appendChild(d),n.EventHandler.add(d,"click",this.moreIndicatorClick,this)}},t.prototype.createEventElement=function(e){var t=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),r=i.i(n.createElement)("div",{className:o.A,attrs:{"data-id":"Appointment_"+e[this.fields.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});if(this.cssClass&&i.i(n.addClass)([r],this.cssClass),e[this.fields.isReadonly]&&i.i(n.addClass)([r],o._55),this.parent.activeViewOptions.group.resources.length>0){var a=this.getGroupIndexFromEvent(e);r.setAttribute("data-group-index",a.toString())}var s=[],l=i.i(n.extend)({},e,null,!0);if(this.parent.activeViewOptions.eventTemplate){var c=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";s=this.parent.getAppointmentTemplate()(l,this.parent,"eventTemplate",c,!1)}else{var p=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",d=i.i(n.createElement)("div",{className:o.H,innerHTML:t+(p?";&nbsp"+p:"")}),h=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(l[this.fields.startTime])}),u=i.i(n.createElement)("div",{className:o.I+(this.parent.isAdaptive?" "+o.J:""),innerHTML:this.parent.getTimeString(l[this.fields.endTime])});i.i(n.addClass)([d],"e-text-center"),e[this.fields.isAllDay]?s=[d]:l.isLeft||l.isRight?(l.isLeft||s.push(h),s.push(d),l.isRight||s.push(u)):s=[h,d,u]}var g=i.i(n.createElement)("div",{className:o.G});return i.i(n.append)(s,g),r.appendChild(g),this.parent.eventBase.renderSpannedIcon(r,e.isSpanned),this.renderResizeHandler(r,e.data,e[this.fields.isReadonly]),this.applyResourceColor(r,l,"backgroundColor",this.groupOrder),r},t.prototype.isSpannedEvent=function(e,t){var r=new Date(t.getFullYear(),t.getMonth(),1),s=a.d(new Date(t.getFullYear(),t.getMonth()+1,0),1),o=i.i(n.extend)({},e,null,!0),l=o[this.fields.startTime],c=o[this.fields.endTime],p={isLeft:!1,isRight:!1,count:1},d=new Date(this.parent.selectedDate.getFullYear(),this.parent.firstMonthOfYear,1),h=a.u(d,this.parent.monthsCount);if(this.isResource&&this.updateSpannedEvents(e,r,s),"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0){this.updateSpannedEventDetails(l,c,d,h,o,p);var u=o[this.fields.startTime],g=new Date(o[this.fields.endTime]-1);p.count=g.getMonth()-u.getMonth()+this.parent.monthsCount*(g.getFullYear()-u.getFullYear())+1}else if(this.updateSpannedEventDetails(l,c,r,s,o,p),0===this.parent.activeViewOptions.group.resources.length||this.parent.uiStateValues.isGroupAdaptive){var v=a.b(o[this.fields.endTime]).getTime(),f=a.b(o[this.fields.startTime]).getTime();(e[this.fields.isAllDay]&&v===e[this.fields.endTime].getTime()||p.isRight)&&(v=a.d(new Date(v),-1).getTime()),p.count=Math.ceil((v-f)/a.c)+1}return o.isSpanned=p,a.b(l).getTime()<a.b(this.parent.minDate).getTime()&&(o[this.fields.startTime]=this.parent.minDate),a.b(c).getTime()>a.b(this.parent.maxDate).getTime()&&(o[this.fields.endTime]=this.parent.maxDate),o},t.prototype.updateSpannedEventDetails=function(e,t,i,n,r,a){e.getTime()<i.getTime()&&(r[this.fields.startTime]=i,a.isLeft=!0),t.getTime()>n.getTime()&&(r[this.fields.endTime]=n,a.isRight=!0)},t.prototype.getOverlapEvents=function(e,t){var i,n,r=[];if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var s=this.parent.calendarUtil.getMonthStartDate(new Date(e.getTime())),o=a.d(this.parent.calendarUtil.getMonthEndDate(new Date(e.getTime())),-1);i=a.b(new Date(s.getTime())).getTime(),n=a.b(new Date(o.getTime())).getTime()}else this.parent.rowAutoHeight?(i=a.b(new Date(e.getTime())).getTime(),n=a.d(a.b(new Date(e.getTime())),1).getTime()):i=n=a.b(new Date(e.getTime())).getTime();for(var l=0,c=t;l<c.length;l++){var p=c[l],d=new Date(p[this.fields.startTime].getTime()),h=new Date(p[this.fields.endTime].getTime()),u=p[this.fields.isAllDay]?a.b(h).getTime()>i:a.b(h).getTime()>=i;(a.b(d).getTime()<=i&&u||a.b(d).getTime()>=i&&a.b(h).getTime()<=n)&&r.push(p)}return r},t.prototype.getMonths=function(){var e=this;return Array.apply(null,{length:this.parent.monthsCount}).map(function(t,i){return e.parent.firstMonthOfYear+i})},t.prototype.removeCellHeight=function(){for(var e="."+o.f+" tbody tr,."+o.y+" tbody tr,."+o.h+" tbody tr",t=[].slice.call(this.element.querySelectorAll(e)),i=0,n=t;i<n.length;i++){n[i].firstElementChild.style.height=""}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.parent=null},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(6)),a=(i.n(r),i(3)),s=i(1),o=function(){function e(e){this.parent=e,this.tooltipObj=new r.Tooltip({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" "+a._82,target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onTooltipClose.bind(this),enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.parent.element)}return e.prototype.getTargets=function(){var e=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&e.push("."+a._83),this.parent.eventSettings.enableTooltip&&e.push("."+a.A),e.join(",")},e.prototype.onBeforeRender=function(e){if(i.i(n.isNullOrUndefined)(e.target.getAttribute("data-tooltip-id"))){if(e.target.classList.contains(a._83)&&this.parent.activeViewOptions.group.resources.length>0){var t=void 0;if(this.parent.activeView.isTimelineView()){var r=parseInt(e.target.getAttribute("data-group-index"),10);t=this.parent.resourceBase.lastResourceLevel[parseInt(r.toString(),10)]}else{var o=e.target.parentNode.sectionRowIndex,l=e.target.cellIndex;t=this.parent.activeView.getColumnLevels()[parseInt(o.toString(),10)][parseInt(l.toString(),10)]}var c={resource:t.resource,resourceData:t.resourceData},p=i.i(n.createElement)("div"),d=this.parent.element.id+"_headerTooltipTemplate",h=[].slice.call(this.parent.getHeaderTooltipTemplate()(c,this.parent,"headerTooltipTemplate",d,!1));return i.i(n.append)(h,p),this.setContent(p),void this.parent.renderTemplates()}var u=this.parent.eventBase.getEventByGuid(e.target.getAttribute("data-guid"));if(!i.i(n.isNullOrUndefined)(u)){if(i.i(n.isNullOrUndefined)(this.parent.eventSettings.tooltipTemplate)){var g=this.parent.globalize,v=this.parent.eventFields,f=new Date(""+u[v.startTime]),m=new Date(""+u[v.endTime]);m=0===m.getHours()&&0===m.getMinutes()?new Date(m.setMilliseconds(-1e3)):m;var y=s.b(new Date(""+f)),T=s.b(new Date(""+m)),D=u[v.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),w=i.i(n.isNullOrUndefined)(u[v.location])?"":u[v.location],b="",C="",S="";b=g.formatDate(f,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),C=g.formatDate(f,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),S=g.formatDate(m,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),b=s.a(b,"single"),C=s.a(C,"single"),S=s.a(S,"single");var O=this.parent.getTimeString(f),E=this.parent.getTimeString(m),x=void 0;y.getTime()===T.getTime()?(x=g.formatDate(f,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),x=s.a(x,"single")):x=y.getFullYear()===T.getFullYear()?b+" - "+S:C+" - "+S;var A=u[v.isAllDay]?this.parent.localeObj.getConstant("allDay"):O+" - "+E,V='<div><div class="e-subject">'+D+'</div><div class="e-location">'+w+'</div><div class="e-details">'+x+'</div><div class="e-all-day">'+A+"</div></div>",I=function(){return V};this.setContent(i.i(n.initializeCSPTemplate)(I))}else{var p=i.i(n.createElement)("div"),d=this.parent.element.id+"_tooltipTemplate",h=[].slice.call(this.parent.getEventTooltipTemplate()(u,this.parent,"tooltipTemplate",d,!1));i.i(n.append)(h,p),this.setContent(p)}this.parent.renderTemplates()}}},e.prototype.onTooltipClose=function(e){e.element&&(i.i(n.removeClass)([e.element],a.T),i.i(n.addClass)([e.element],a._84)),this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])},e.prototype.setContent=function(e){this.tooltipObj.setProperties({content:e},!0)},e.prototype.close=function(){this.tooltipObj.close()},e.prototype.destroy=function(){this.tooltipObj.destroy(),i.i(n.addClass)([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=(i.n(n),i(12)),a=(i.n(r),i(3)),s=function(){function e(){}return e.prototype.renderFormValidator=function(e,t,i,n){var a=this;this.element=i,this.formObj=new r.FormValidator(e,{locale:n,customPlacement:function(e,t){a.errorPlacement(e,t)},rules:t,validationComplete:function(e){a.validationComplete(e)},focusout:function(e){a.focusOut(e)}})},e.prototype.focusOut=function(e){var t=e.relatedTarget;t&&(t.classList.contains("e-dlg-closeicon-btn")||t.classList.contains("e-close")||t.classList.contains(a._4)||t.classList.contains(a.e)||t.classList.contains(a._115)||t.classList.contains(a.n)||t.classList.contains(a._139))?this.ignoreError=!0:this.ignoreError=!1},e.prototype.validationComplete=function(e){var t=this.element.querySelector("#"+e.inputName+"_Error");t&&(t.style.display="failure"===e.status?"":"none")},e.prototype.errorPlacement=function(e,t){var r=t.getAttribute("for"),a=this.element.querySelector("#"+r+"_Error");a||this.ignoreError||this.createTooltip(e,t,r,""),i.i(n.isNullOrUndefined)(a)||(a.querySelector(".e-error").innerHTML=t.innerHTML)},e.prototype.createTooltip=function(e,t,r,s){var o,l,c=e.getBoundingClientRect();this.element.classList.contains(a._85)?(o=this.element,l=this.element.getBoundingClientRect()):(o=this.element.querySelector(".e-schedule-dialog .e-dlg-content"),l=o.getBoundingClientRect());var p=i.i(n.createElement)("div",{className:"e-tooltip-wrap e-popup "+a._140,id:r+"_Error",styles:"display:"+s+";top:"+(c.bottom-l.top+o.scrollTop+9)+"px;left:"+(c.left-l.left+o.scrollLeft+c.width/2)+"px;"}),d=i.i(n.createElement)("div",{className:"e-tip-content"});d.appendChild(t);var h=i.i(n.createElement)("div",{className:"e-arrow-tip e-tip-top"});h.appendChild(i.i(n.createElement)("div",{className:"e-arrow-tip-outer e-tip-top"})),h.appendChild(i.i(n.createElement)("div",{className:"e-arrow-tip-inner e-tip-top"})),p.appendChild(d),p.appendChild(h),o.appendChild(p),p.style.left=parseInt(p.style.left,10)-p.offsetWidth/2+"px"},e.prototype.destroyToolTip=function(){if(this.element)for(var e=[].slice.call(this.element.querySelectorAll("."+a._140)),t=0,r=e;t<r.length;t++){var s=r[t];i.i(n.remove)(s)}this.formObj&&this.formObj.element&&this.formObj.reset()},e.prototype.destroy=function(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(24)),a=i(1),s=i(2),o=i(3),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-agenda-view",i.isInverseTableSelect=!1,i.agendaDates={},i.virtualScrollTop=1,i}return l(t,e),t.prototype.getModuleName=function(){return"agenda"},t.prototype.renderLayout=function(){this.agendaDates={},this.element=i.i(n.createElement)("div",{className:o._19}),i.i(n.addClass)([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(o._23)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+o._54).appendChild(this.element);var e=i.i(n.createElement)("tr");this.element.querySelector("tbody").appendChild(e);var t=i.i(n.createElement)("td");e.appendChild(t);var r=i.i(n.createElement)("div",{className:o.g});t.appendChild(r);var l=this.createTableLayout(o.h);this.setAriaAttributes(l),r.appendChild(l);var c=l.querySelector("tbody"),p=a.b(this.parent.selectedDate);this.renderEmptyContent(c,p),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+o._24)&&this.renderResourceMobileLayout(),this.parent.notify(s.G,{})},t.prototype.eventLoad=function(e){this.dataSource=i.i(n.extend)([],this.parent.eventsData,null,!0);for(var t=0,r=this.parent.eventsData;t<r.length;t++){delete r[t].generatedDates}var l=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var c=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(c,this.dataSource),l=this.parent.eventBase.filterEventsByResource(c,l)}this.parent.eventsProcessed=this.processAgendaEvents(l);var p=a.b(this.parent.selectedDate),d=this.element.querySelector("."+o.h+" tbody");a.E(d),this.renderInitialContent(d,p),this.wireEventActions(),i.i(n.closest)(d,"."+o.g).scrollTop=1,this.parent.notify(s.F,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},t.prototype.refreshEvent=function(e){for(var t=[],r=this.parent.eventFields,a=0,s=this.dataSource;a<s.length;a++){var o=s[a];i.i(n.isNullOrUndefined)(o[r.recurrenceID])&&!i.i(n.isNullOrUndefined)(o[r.recurrenceRule])&&!i.i(n.isNullOrUndefined)(o.generatedDates)&&e>=o.generatedDates.end&&(t=t.concat(this.parent.eventBase.generateOccurrence(o,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(t))},t.prototype.refreshHeader=function(){var e=this.element.querySelector("."+o.h+" tbody");this.parent.activeViewOptions.group.byDate?a.E(e):i.i(n.remove)(e.firstElementChild);var t=a.b(this.parent.selectedDate),r=i.i(n.createElement)("tbody"),s=new Date(t.getTime()),l=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):a.d(s,this.parent.agendaDaysCount);this.renderContent(r,s,l),i.i(n.append)([].slice.call(r.childNodes),e)},t.prototype.renderInitialContent=function(e,t){var r=i.i(n.createElement)("tbody"),s=new Date(t.getTime()),o=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):a.d(s,this.parent.agendaDaysCount);if(this.renderContent(r,s,o),i.i(n.append)([].slice.call(r.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var l=this.getContentAreaElement(),c=l.querySelector(".e-content-table");l.offsetWidth<=l.clientWidth&&!(this.parent.isAdaptive&&c.offsetHeight>=l.clientHeight);){var p=i.i(n.createElement)("tbody");if(o=s,s=a.d(o,-this.parent.agendaDaysCount),this.renderContent(p,s,o),i.i(n.prepend)([].slice.call(p.childNodes),e),s<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,t)},t.prototype.renderContent=function(e,t,r){var s=this.parent.eventFields,l=new Date(t.getTime()),c=this.appointmentFiltering(l,r);c.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&(t=c[0][s.startTime],t=new Date(new Date(t.getTime()).setHours(0,0,0,0)),this.updateHeaderText(c[0][s.startTime]));var p;if(!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&c.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var d=t;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,d=l,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,d)}else for(var h=0;h<this.parent.agendaDaysCount;h++){var u=this.appointmentFiltering(t),g=this.createTableRowElement(t,"data");if(this.element.querySelector('tr[data-row-index="'+parseInt(g.getAttribute("data-row-index"),10)+'"]'))t=a.d(t,1);else{var v=g.children[0],f=g.children[1];if(u.length>0||!this.parent.hideEmptyAgendaDays&&0===u.length){var m=this.parent.hideEmptyAgendaDays||0!==u.length?"data":"noEvents";v.appendChild(this.createDateHeaderElement(t)),g.appendChild(v);var y=this.createAgendaContentElement(m,u,f);g.appendChild(y),y.querySelectorAll("li").length>0&&e.appendChild(g)}else this.parent.activeViewOptions.allowVirtualScrolling&&h--;if(this.isCurrentDate(new Date(t.getTime()))&&i.i(n.addClass)(v.childNodes,o._48),t=a.d(t,1),t.getTime()>r.getTime())break}}p=new Date(t.getTime()-a.c)}this.agendaDates={start:l,end:p}},t.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},t.prototype.virtualScrolling=function(e){var t,r,s=e.target,o=s.scrollTop,l=s.scrollHeight,c=s.clientHeight,p=o+c,d=this.virtualScrollTop<o?"next":"previous",h=s.querySelector("tbody"),u=i.i(n.createElement)("tbody"),g=this.getElementFromScrollerPosition(e),v=this.parent.getDateFromElement(g);if(0===o){if(t=this.getPreviousNextDate(a.d(v,-1),d),r=this.appointmentFiltering(t.start,t.end),r.length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(u,t.start,t.end),i.i(n.prepend)([].slice.call(u.childNodes),h),this.wireEventActions();for(var f=0,m=h.children;f<m.length;f++)if(m[parseInt(f.toString(),10)].getAttribute("data-row-index")===g.getAttribute("data-column-index")){var y=m[parseInt(f.toString(),10)].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;s.scrollTop=y;break}this.updateHeaderText(v)}}else p>=l-5?(t=this.getPreviousNextDate(a.d(v,1),d),r=this.appointmentFiltering(t.start,t.end),(r.length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(u,t.start,t.end),i.i(n.append)([].slice.call(u.childNodes),h),this.wireEventActions(),this.updateHeaderText(v))):this.updateHeaderText(v);this.virtualScrollTop=o;var T=this.parent.eventBase.getSelectedAppointments();T.length>0&&T[T.length-1].focus()},t.prototype.getElementFromScrollerPosition=function(e){var t,r,a,s=e.target,l=s.scrollTop,c=s.scrollHeight,p=s.clientHeight,d=l+p,h=[].slice.call(s.querySelectorAll(".e-agenda-item"));if(h.length>0)if(0===l)r=h[0],t=i.i(n.closest)(r,"."+o._46);else if(d===c)r=h[h.length-1],t=i.i(n.closest)(r,"."+o._46);else for(var u=0,g=h.length;u<g;u++)if(r=h[parseInt(u.toString(),10)],a=r.getBoundingClientRect(),a.top>=0){t=i.i(n.closest)(r,"."+o._46);break}return t},t.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(e)},t.prototype.getPreviousNextDate=function(e,t){var i=new Date(e.getTime()),n=this.getStartDateFromEndDate(e),r=this.getEndDateFromStartDate(e),s=0;do{if((this.appointmentFiltering(i).length>0||!this.parent.hideEmptyAgendaDays)&&s++,(i=a.d(i,"next"===t?1:-1))<n||i>r)break}while(s!==this.parent.agendaDaysCount);var o=a.d(i,"next"===t?-1:1);return"next"===t?{start:e,end:a.d(o,1)}:{start:o,end:a.d(e,1)}},t.prototype.appointmentFiltering=function(e,t){var r,s;!i.i(n.isNullOrUndefined)(e)&&i.i(n.isNullOrUndefined)(t)?(r=a.b(new Date(e.getTime())),s=a.r(new Date(r.getTime()),a.c)):(r=new Date(e.getTime()),s=new Date(t.getTime()));var o=this.parent.eventBase.filterEvents(r,s);return 0===o.length&&(this.refreshEvent(e),o=this.parent.eventBase.filterEvents(r,s)),o},t.prototype.getStartDateFromEndDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.min.apply(Math,this.parent.eventsProcessed.map(function(e){return e[i.startTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.minDate}else t=this.parent.hideEmptyAgendaDays?a.u(e,-1):this.parent.minDate;return a.b(t)},t.prototype.getEndDateFromStartDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.max.apply(Math,this.parent.eventsProcessed.map(function(e){return e[i.endTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.maxDate}else t=this.parent.hideEmptyAgendaDays?a.u(e,1):this.parent.maxDate;return a.b(a.d(t,1))},t.prototype.getNextPreviousDate=function(e){var t="next"===e?1:-1;return a.d(this.parent.selectedDate,t)},t.prototype.startDate=function(){return a.b(this.parent.selectedDate)},t.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):a.d(this.startDate(),this.parent.agendaDaysCount)},t.prototype.getDateRangeText=function(e){var t=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var r=i.i(n.isNullOrUndefined)(e)?this.parent.selectedDate:e;return a.a(this.parent.globalize.formatDate(r,{format:t,calendar:this.parent.getCalendarMode()}),"multiple")}var s=this.parent.selectedDate,o=a.d(s,this.parent.agendaDaysCount-1);return this.formatDateRange(s,o)},t.prototype.dayNavigationClick=function(e){var t=i.i(n.closest)(e.currentTarget,"."+o._46),r=this.parent.getDateFromElement(t);i.i(n.isNullOrUndefined)(r)||this.parent.isAdaptive||!this.parent.isMinMaxDate(r)||(this.parent.setProperties({selectedDate:r},!0),this.parent.changeView("Day",e))},t.prototype.wireEvents=function(){n.EventHandler.add(this.element.querySelector("."+o.g),s.H,this.agendaScrolling,this)},t.prototype.unWireEvents=function(){n.EventHandler.remove(this.element.querySelector("."+o.g),s.H,this.agendaScrolling);for(var e=[].slice.call(this.element.querySelectorAll(".e-m-date")),t=0,i=e;t<i.length;t++){var r=i[t];n.EventHandler.remove(r,"click",this.dayNavigationClick)}},t.prototype.addEventListener=function(){this.parent.on(s.J,this.onAgendaScrollUiUpdate,this),this.parent.on(s.E,this.eventLoad,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(s.J,this.onAgendaScrollUiUpdate),this.parent.off(s.E,this.eventLoad))},t.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&(this.parent.activeViewOptions.allowVirtualScrolling?this.parent.headerModule.updateHeaderItems("add"):this.parent.headerModule.updateHeaderItems("remove"));var t=this.element.querySelector("."+o.g);"auto"!==this.parent.height&&(t.style.height=i.i(n.formatUnit)(this.parent.element.offsetHeight-e))},t.prototype.scrollToDate=function(e){var t=new Date(+a.b(e));if(this.parent.activeViewOptions.allowVirtualScrolling)(!this.parent.hideEmptyAgendaDays||this.parent.getEvents(t,a.d(t,1),!0).length>0)&&this.parent.changeDate(t);else{var i=this.element.querySelector("."+o._46+'[data-date="'+t.getTime()+'"]');i&&(this.getContentAreaElement().scrollTop=i.offsetTop)}},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i}return r(t,e),t.prototype.getModuleName=function(){return"day"},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(39)),a=(i.n(r),i(19)),s=(i.n(a),i(6)),o=(i.n(s),i(2)),l=i(1),c=i(3),p=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(o.L,this.closeHeaderPopup,this)},e.prototype.removeEventListener=function(){this.parent.off(o.L,this.closeHeaderPopup)},e.prototype.closeHeaderPopup=function(e){var t=i.i(n.closest)(e.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),r=i.i(n.closest)(e.event.target,".e-hor-nav,.e-toolbar-pop"),a=this.parent.element.querySelector("."+c.g);if(this.parent.isAdaptive)if(i.i(n.isNullOrUndefined)(r)||!r.classList.contains("e-toolbar-pop")&&!r.classList.contains("e-hor-nav")||r.classList.contains("e-hor-nav")&&this.element.querySelector(".e-toolbar-pop").classList.contains(c.T)){i.i(n.removeClass)([a],c._64);var s=this.element.querySelector(".e-toolbar-pop");if(!i.i(n.isNullOrUndefined)(s)){var o=s.ej2_instances[0];!o||!i.i(n.isNullOrUndefined)(r)&&r.classList.contains("e-hor-nav")&&s.classList.contains(c.T)||o.hide()}}else i.i(n.addClass)([a],c._64);i.i(n.isNullOrUndefined)(t)&&this.hideHeaderPopup()},e.prototype.hideHeaderPopup=function(){this.headerPopup&&this.headerPopup.hide()},e.prototype.renderHeader=function(){this.element=i.i(n.createElement)("div",{className:c._65});var e=i.i(n.createElement)("div",{className:c._66});this.element.appendChild(e),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()},e.prototype.renderToolbar=function(){var e=this,t=this.getItems();this.parent.trigger(o.f,{requestType:"toolbarItemRendering",items:t},function(t){e.toolbarObj=new r.Toolbar({items:t.items,overflowMode:"Popup",clicked:e.toolbarClickHandler.bind(e),enableRtl:e.parent.enableRtl,enableHtmlSanitizer:e.parent.enableHtmlSanitizer,locale:e.parent.locale}),e.toolbarObj.appendTo(e.parent.element.querySelector("."+c._66));var i=e.toolbarObj.element.querySelector(".e-prev");i&&i.firstElementChild.setAttribute("title",e.l10n.getConstant("previous"));var n=e.toolbarObj.element.querySelector(".e-next");n&&n.firstElementChild.setAttribute("title",e.l10n.getConstant("next")),e.updateAddIcon(),e.updateActiveView(),e.parent.trigger(o.g,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})})},e.prototype.updateItems=function(){var e=this;if(this.toolbarObj){var t=this.getItems();this.parent.trigger(o.f,{requestType:"toolbarItemRendering",items:t},function(t){e.toolbarObj.items=t.items,e.toolbarObj.dataBind(),e.parent.trigger(o.g,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})})}},e.prototype.getPopUpRelativeElement=function(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")},e.prototype.setDayOfWeek=function(e){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=e,this.headerCalendar.dataBind())},e.prototype.setCalendarDate=function(e){this.headerCalendar&&(this.headerCalendar.value=e,this.headerCalendar.dataBind())},e.prototype.setCalendarMinMaxDate=function(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())},e.prototype.getCalendarView=function(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"},e.prototype.setCalendarView=function(){if(this.headerCalendar){var e=this.getCalendarView();this.headerCalendar.depth=e,this.headerCalendar.start=e,this.headerCalendar.refresh()}},e.prototype.updateActiveView=function(){var e=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));i.i(n.removeClass)(e,["e-active-view"]),e.length>0&&e[this.parent.viewIndex]&&i.i(n.addClass)([e[this.parent.viewIndex]],["e-active-view"])},e.prototype.updateDateRange=function(e){var t=this.toolbarObj.element.querySelector(".e-date-range");if(t){var r=t.querySelector(".e-tbar-btn-text");if(this.parent.activeViewOptions.dateRangeTemplate){r.textContent="";var a={startDate:this.parent.activeView.getStartDate(),endDate:this.parent.activeView.getEndDate(),currentView:this.parent.currentView},s=this.parent.activeViewOptions.dateRangeTemplateName,o=this.parent.element.id+"_"+s+"dateRangeTemplate",l=[].slice.call(this.parent.getDateRangeTemplate()(a,this.parent,"dateRangeTemplate",o,!1));i.i(n.append)(l,r)}else{var c=this.parent.activeView.getDateRangeText(e);t.firstElementChild.setAttribute("aria-label",c),r.textContent=c}this.refresh()}},e.prototype.refresh=function(){this.toolbarObj&&this.toolbarObj.refreshOverflow()},e.prototype.updateAddIcon=function(){var e=this.toolbarObj.element.querySelector(".e-add");e&&(this.parent.eventSettings.allowAdding?i.i(n.removeClass)([e],c._67):i.i(n.addClass)([e],c._67))},e.prototype.getDateRangeText=function(){var e=this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()});return l.a(e,"single")},e.prototype.getItems=function(){var e=[];if(e.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{role:"navigation"}}),e.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{role:"navigation"}}),e.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive",role:"navigation"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-day",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),this.parent.views.length>1&&e.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),this.parent.views.length>1)for(var t=0,i=this.parent.views;t<i.length;t++){var n=i[t];e.push(this.getItemObject(n))}return e},e.prototype.getItemObject=function(e){var t,i;"string"==typeof e?(t=e.toLowerCase(),i=null):(t=e.option.toLowerCase(),i=e.displayName);var n,r,a=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(t){case"day":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":r="Vertical"===e.orientation?"vertical":"horizontal",n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-year-"+r,text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"}}return n},e.prototype.renderHeaderPopup=function(){var e=i.i(n.createElement)("div",{className:c._68}),t=i.i(n.createElement)("div",{className:c._69});e.appendChild(t),this.element.appendChild(e),this.headerPopup=new s.Popup(e,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl});var r=this.getCalendarView(),o="Month"===this.parent.currentView&&!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)&&!this.hasSelectedDate();this.headerCalendar=new a.Calendar({value:o?this.parent.activeViewOptions.displayDate:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:r,start:r,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(t),this.headerPopup.hide()},e.prototype.calendarChange=function(e){if(e.value.getTime()!==this.parent.selectedDate.getTime()){var t=l.b(new Date(e.value));this.parent.changeDate(t)}this.headerPopup.hide()},e.prototype.setCalendarTimezone=function(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())},e.prototype.calculateViewIndex=function(e){var t=i.i(n.closest)(e.originalEvent.target,".e-views");return[].slice.call(this.element.querySelectorAll(".e-views")).indexOf(t)},e.prototype.toolbarClickHandler=function(e){if(e.item){var t,r,a,s=e.item.cssClass.replace("e-views ","");switch(s){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(c.T)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-week":this.parent.changeView("Week",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-work-week":this.parent.changeView("WorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month":this.parent.changeView("Month",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-year":this.parent.changeView("Year",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-agenda":this.parent.changeView("Agenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-day":this.parent.changeView("TimelineDay",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-year":this.parent.changeView("TimelineYear",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-today":a=l.b(this.parent.getCurrentTime()),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView||!this.parent.isSelectedDate(a)||"Month"===this.parent.currentView&&this.parent.activeViewOptions.displayDate&&!this.hasSelectedDate()&&l.b(this.parent.activeViewOptions.displayDate)!==a||"Month"===this.parent.currentView&&this.parent.activeViewOptions.numberOfWeeks>0&&!this.hasSelectedDate()&&l.b(l.n(this.parent.selectedDate))!==a)&&this.parent.changeDate(a,e.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e.originalEvent);break;case"e-add":if(r=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!r)t=this.parent.activeCellsData;else{var o=this.parent.activeViewOptions.timeScale.interval,p=this.parent.activeViewOptions.timeScale.slotCount,d=o*l.g/p,h=new Date(this.parent.selectedDate.getTime()),u=this.parent.getCurrentTime();h.setHours(u.getHours(),Math.round(h.getMinutes()/d)*d,0);t={startTime:h,endTime:new Date(new Date(h.getTime()).setMilliseconds(h.getMilliseconds()+d)),isAllDay:!1}}this.parent.eventWindow.openEditor(i.i(n.extend)(t,{cancel:!1,event:e.originalEvent}),"Add")}if(!i.i(n.isNullOrUndefined)(this.toolbarObj)){var g=this.toolbarObj.element.querySelector(".e-toolbar-pop");g&&"Input"!==e.item.type&&g.ej2_instances[0].hide({name:"SlideUp",duration:100})}}},e.prototype.hasSelectedDate=function(){var e=l.b(this.parent.selectedDate).getTime();return e>=this.parent.activeView.getStartDate().getTime()&&e<=this.parent.activeView.getEndDate().getTime()},e.prototype.getHeaderElement=function(){return this.toolbarObj.element},e.prototype.updateHeaderItems=function(e){var t=this.toolbarObj.element.querySelector(".e-prev"),r=this.toolbarObj.element.querySelector(".e-next"),a=this.toolbarObj.element.querySelector(".e-date-range");t&&("add"===e?i.i(n.addClass)([t],c._67):i.i(n.removeClass)([t],c._67)),r&&("add"===e?i.i(n.addClass)([r],c._67):i.i(n.removeClass)([r],c._67)),a&&("add"===e?i.i(n.addClass)([a],c._59):i.i(n.removeClass)([a],c._59))},e.prototype.previousNextIconHandler=function(){var e="Agenda"===this.parent.currentView?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),t=this.toolbarObj.element.querySelector("."+c._70),r=this.toolbarObj.element.querySelector("."+c._71),a=new Date(e[0].getTime()),s=new Date(e[e.length-1].getTime());if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)a=l.l(l.b(this.parent.selectedDate),this.parent.firstDayOfWeek),s=l.d(a,7*this.parent.activeViewOptions.interval);else if("Month"===this.parent.currentView){var o=!i.i(n.isNullOrUndefined)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0;a=o?this.parent.activeView.getStartDate():l.n(this.parent.selectedDate),s=o?this.parent.activeView.getEndDate():l.o(l.u(a,this.parent.activeViewOptions.interval-1))}i.i(n.isNullOrUndefined)(t)||this.toolbarObj.enableItems(t,a>l.b(this.parent.minDate)),i.i(n.isNullOrUndefined)(r)||this.toolbarObj.enableItems(r,s<l.b(this.parent.maxDate)),this.setCalendarMinMaxDate()},e.prototype.getModuleName=function(){return"headerbar"},e.prototype.destroy=function(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),i.i(n.remove)(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=(i.n(n),i(24)),a=i(9),s=i(1),o=i(2),l=i(3),c=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.dayNameFormat="narrow",i.viewClass="e-month-agenda-view",i.monthAgendaDate=new Date(""+t.selectedDate),i}return c(t,e),t.prototype.getModuleName=function(){return"monthAgenda"},t.prototype.renderAppointmentContainer=function(){var e=this.getContentAreaElement(),t=i.i(n.createElement)("div",{className:l._35});e.appendChild(t);var r=i.i(n.createElement)("div",{className:l._36});t.appendChild(r),this.appendAppContainer(r),this.setEventWrapperHeight()},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive?"narrow":"abbreviated"},t.prototype.updateSelectedCellClass=function(e){s.b(e.date).getTime()===s.b(this.monthAgendaDate).getTime()&&e.className.push(l._37)},t.prototype.setEventWrapperHeight=function(){var e=(this.parent.headerModule?this.parent.headerModule.getHeaderElement().offsetHeight:0)+2,t=this.parent.element.querySelector("."+l._38);t&&(e+=t.offsetHeight);var r=this.getContentAreaElement().firstElementChild,a=this.element.querySelector("."+l.d),s=this.parent.element.offsetHeight-e-a.offsetHeight,o=this.parent.activeViewOptions.interval>1?Math.round(.8*s):r.offsetHeight,c=s-o,p=this.element.querySelector("."+l._35),d=this.element.querySelector("."+l._36);"auto"!==this.parent.height&&(this.parent.activeViewOptions.interval>1&&(r.style.height=i.i(n.formatUnit)(o),n.EventHandler.add(r,"scroll",this.onContentScroll,this)),p.style.height=d.style.height=i.i(n.formatUnit)(c))},t.prototype.onDataReady=function(e){this.setEventWrapperHeight(),this.clearElements();var t=e.processedData;if(this.parent.uiStateValues.isGroupAdaptive){var r=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];t=this.parent.eventBase.filterEventsByResource(r,t)}this.agendaBase=this.getAgendaBase(),this.parent.eventsProcessed=this.agendaBase.processAgendaEvents(t);for(var a=0,c=0,p=this.renderDates;c<p.length;c++){var d=p[c],h=this.appointmentFiltering(d),u=this.element.querySelectorAll("."+l.n)[parseInt(a.toString(),10)];h.length>0&&(u.querySelector("."+l._39)||u.appendChild(i.i(n.createElement)("div",{className:l._39})),d.getTime()===s.b(new Date(this.monthAgendaDate.getTime())).getTime()&&this.onEventRender(h,d)),a++}this.parent.notify(o.F,{})},t.prototype.onCellClick=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide();var t=this.appointmentFiltering(e.startTime);this.onEventRender(t,e.startTime),this.parent.notify(o.F,{}),this.monthAgendaDate=new Date(""+e.startTime)},t.prototype.onEventRender=function(e,t){this.agendaBase=this.getAgendaBase();var r=this.element.querySelector("."+l._36);if(s.E(r),0===this.parent.activeViewOptions.group.resources.length||this.parent.uiStateValues.isGroupAdaptive)if(e.length>0){var a=i.i(n.createElement)("div",{className:l.l});r.appendChild(this.agendaBase.createAgendaContentElement("data",e,a))}else this.appendAppContainer(r);else if(e.length>0){var o=this.createTableLayout(),c=o.querySelector("tbody");this.agendaBase.calculateResourceTableElement(c,1,t),o.appendChild(c),r.appendChild(o)}else this.appendAppContainer(r);this.agendaBase.wireEventActions()},t.prototype.appointmentFiltering=function(e){var t=s.b(new Date(e.getTime())),i=s.r(new Date(t.getTime()),s.c);return this.parent.eventBase.filterEvents(t,i)},t.prototype.clearElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+l._39)),t=0,r=e;t<r.length;t++){var a=r[t];i.i(n.remove)(a)}this.appendAppContainer(this.element.querySelector("."+l._36))},t.prototype.appendAppContainer=function(e){var t=i.i(n.createElement)("div",{className:l.l});i.i(n.addClass)([t],l._40),t.innerHTML=this.parent.localeObj.getConstant("noEvents"),s.E(e),e.appendChild(t)},t.prototype.getNextPreviousDate=function(e){var t=this.parent.selectedDate,i="next"===e?this.parent.activeViewOptions.interval:-this.parent.activeViewOptions.interval,n=s.u(this.parent.selectedDate,i),r="next"===e?2:0,a=new Date(t.getFullYear(),t.getMonth()+r,0).getDate(),o=a>=this.monthAgendaDate.getDate()?this.monthAgendaDate.getDate():a;return this.monthAgendaDate=new Date(n.getFullYear(),n.getMonth(),o),this.monthAgendaDate},t.prototype.getAgendaBase=function(){return this.agendaBase||new r.a(this.parent)},t.prototype.destroy=function(){this.agendaBase&&(this.agendaBase.destroy(),this.agendaBase=null),e.prototype.destroy.call(this)},t}(a.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i.n(n),i(1)),a=function(){function e(e,t){this.parent=e,this.renderDates=t}return e.prototype.groupByYear=function(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i],a=r.getFullYear();t[parseInt(a.toString(),10)]=t[parseInt(a.toString(),10)]||[],t[parseInt(a.toString(),10)].push(r)}return t},e.prototype.groupByMonth=function(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i],a=12*(r.getFullYear()-1970)+r.getMonth();t[parseInt(a.toString(),10)]=t[parseInt(a.toString(),10)]||[],t[parseInt(a.toString(),10)].push(r)}return t},e.prototype.groupByWeek=function(e){for(var t={},i=0,n=e;i<n.length;i++){var a=n[i],s=+new Date(1970,0,1),o=a.getTimezoneOffset()-new Date(1970,0,1).getTimezoneOffset(),l=Math.ceil(((+a-s-60*o*1e3)/r.c+new Date(s).getDay()+1)/7);this.parent.firstDayOfWeek&&this.parent.firstDayOfWeek>new Date(+a).getDay()&&(l-=1),t[parseInt(l.toString(),10)]=t[parseInt(l.toString(),10)]||[],t[parseInt(l.toString(),10)].push(a)}return t},e.prototype.generateSlots=function(e,t,a,s,o){for(var l=this,c=function(e,t){return l.parent.globalize.formatDate(e,{format:t,calendar:l.parent.getCalendarMode()})},p=[],d=Object.keys(e),h=0;h<d.length;h++){var u=e[d[parseInt(h.toString(),10)]],g=void 0;if(a.template){var v={date:u[0],type:o},f=this.parent.element.id+"_headerRowTemplate";g=[].slice.call(this.parent.templateParser(a.template)(v,this.parent,"template",f,!1))}else{var m=void 0;switch(a.option){case"Year":m='<span class="e-header-year">'+c(u[0],"y")+"</span>";break;case"Month":m='<span class="e-header-month">'+i.i(r.a)(c(u[0],"MMMM"),"single")+"</span>";break;case"Week":m='<span class="e-header-week">'+this.parent.getWeekNumberContent(u)+"</span>"}var y=i.i(n.createElement)("div",{innerHTML:m});g=[].slice.call(y.childNodes)}p.push({date:u[0],type:o,className:[s],colSpan:u.length*t,template:g})}return p},e.prototype.generateColumnLevels=function(e,t){var i=[],n=this.parent.activeViewOptions.headerRows,r=1;"Hour"===n[n.length-1].option&&t.length>0&&(r=t.length/e.length);for(var a,s,o,l=[],c=0,p=n;c<p.length;c++){var d=p[c];switch(d.option){case"Year":a=this.groupByYear(this.renderDates),l=this.generateSlots(a,r,d,"e-header-year-cell","yearHeader"),i.push(l);break;case"Month":s=this.groupByMonth(this.renderDates),l=this.generateSlots(s,r,d,"e-header-month-cell","monthHeader"),i.push(l);break;case"Week":o=this.groupByWeek(this.renderDates),l=this.generateSlots(o,r,d,"e-header-week-cell","weekHeader"),i.push(l);break;case"Date":l=e,l=l.map(function(e){return e.colSpan=r,e}),i.push(l);break;case"Hour":t.length>0&&i.push(t)}}return i},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(9)),a=i(7),s=i(32),o=i(1),l=i(2),c=i(3),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-timeline-month-view",i.isInverseTableSelect=!0,i.appointment=null,i}return p(t,e),t.prototype.getModuleName=function(){return"timelineMonth"},t.prototype.onDataReady=function(){this.appointment=new a.a(this.parent,"day"),this.appointment.renderAppointments(),this.parent.notify(l.F,{})},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+c.x)},t.prototype.scrollTopPanel=function(t){e.prototype.scrollTopPanel.call(this,t),this.scrollHeaderLabels(t)},t.prototype.setContentHeight=function(e,t,r){t&&(t.style.height=i.i(n.formatUnit)(r-this.getScrollXIndent(e))),e.style.height=i.i(n.formatUnit)(r)},t.prototype.getDateSlots=function(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var a=r[n],s=[c.e];this.isCurrentDate(a)&&s.push(c.s),i.push({date:a,type:"dateHeader",className:s,colSpan:1,workDays:t})}return i},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderResourceHeaderIndent(e)},t.prototype.renderContent=function(){var e=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=i.i(n.createElement)("td");t.appendChild(this.parent.resourceBase.createResourceColumn()),e.appendChild(t)}var r=i.i(n.createElement)("td");this.element.querySelector("tbody").appendChild(e);var a=i.i(n.createElement)("div",{className:c.g});a.appendChild(this.renderContentArea()),a.appendChild(this.createEventTable(this.getRowCount())),this.collapseRows(a),n.EventHandler.add(a,"scroll",this.onContentScroll,this),r.appendChild(a),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(a),e.appendChild(r)},t.prototype.getRowCount=function(){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.resourceBase.renderedResources.length:1},t.prototype.getContentSlots=function(){for(var e=[],t=0;t<this.getRowCount();t++)for(var i=0,n=this.colLevels[this.colLevels.length-1];i<n.length;i++){var r=n[i];if(r.className=[c.n],this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var a=this.parent.resourceBase.renderedResources[parseInt(t.toString(),10)];r.workDays=a.resourceData[a.resource.workDaysField]||this.parent.workDays,r.className=r.className.concat(a.className),r.groupIndex=a.groupIndex,r.groupOrder=a.groupOrder}var s={date:new Date(+r.date),colSpan:r.colSpan,groupIndex:r.groupIndex,workDays:r.workDays,type:"monthCells",className:r.className};e[parseInt(t.toString(),10)]||(e[parseInt(t.toString(),10)]=[]),e[parseInt(t.toString(),10)].push(s)}return e},t.prototype.updateClassList=function(e){this.parent.isMinMaxDate(e.date)||e.className.push(c.r)},t.prototype.unWireEvents=function(){n.EventHandler.remove(this.getContentAreaElement(),"scroll",this.onContentScroll)},t.prototype.getMonthStart=function(e){var t=this.parent.calendarUtil.firstDateOfMonth(o.b(e));return new Date(t.getFullYear(),t.getMonth(),t.getDate())},t.prototype.getMonthEnd=function(e){var t=this.parent.calendarUtil.firstDateOfMonth(o.b(e));return this.parent.calendarUtil.lastDateOfMonth(o.u(new Date(+t),this.parent.activeViewOptions.interval-1))},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);e.push(t),this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.generateResourceLevels(t,!this.parent.uiStateValues.isGroupAdaptive);var i=[];if(this.parent.activeViewOptions.headerRows.length>0){e=new s.a(this.parent,this.renderDates).generateColumnLevels(t,i)}return this.colLevels=e,e},t.prototype.getAdjustedDate=function(e){for(var t=this.colLevels[this.colLevels.length-1],i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].date.getTime()>e.getTime())return t[i-1].date;return null},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){if(this.element){var t=this.element.querySelector("."+c.g);t&&n.EventHandler.remove(t,"scroll",this.onContentScroll)}this.appointment&&(this.appointment.destroy(),this.appointment=null),e.prototype.destroy.call(this)}},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i.n(n),i(10)),a=i(7),s=i(32),o=i(2),l=i(3),c=i(1),p=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e){function t(t){var i=e.call(this,t)||this;return i.timelineAppointment=null,i.baseCssClass="e-timeline-view",i}return p(t,e),t.prototype.getModuleName=function(){return"timelineViews"},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+l.x)},t.prototype.scrollTopPanel=function(t){e.prototype.scrollTopPanel.call(this,t),this.scrollHeaderLabels(t)},t.prototype.scrollToWorkHour=function(){var e=this.parent.getStartEndTime(this.parent.workHours.start),t=this.isWorkDay(this.parent.selectedDate)&&this.parent.workHours.highlight&&!i.i(n.isNullOrUndefined)(e)?new Date(+this.parent.selectedDate).setHours(e.getHours(),e.getMinutes(),0,0):new Date(+this.parent.selectedDate).setHours(0,0,0,0),r='[data-date="'+new Date(t).getTime().toString()+'"]',a=this.element.querySelector(r);a&&(this.getContentAreaElement().scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-a.offsetLeft-a.offsetWidth):a.offsetLeft)},t.prototype.scrollToHour=function(e,t){var r,a;if(t&&(a=this.parent.getIndexOfDate(this.renderDates,c.b(t)))>=0&&(r=t,!i.i(n.isNullOrUndefined)(e))){var s=e.split(":");2===s.length&&(r=new Date(t.setHours(parseInt(s[0],10),parseInt(s[1],10),0)))}if(r=i.i(n.isNullOrUndefined)(t)?this.parent.getStartEndTime(e):r,!i.i(n.isNullOrUndefined)(r)){var o;o=i.i(n.isNullOrUndefined)(e)||!this.parent.activeViewOptions.timeScale.enable?a*this.getWorkCellWidth():i.i(n.isNullOrUndefined)(t)?this.getLeftFromDateTime(null,r):this.getLeftFromDateTime([a],r),this.getScrollableElement().scrollLeft=this.parent.enableRtl?-o:o}},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);e.push(t),this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.generateResourceLevels(t,!this.parent.uiStateValues.isGroupAdaptive);var i=[];if(this.parent.activeViewOptions.timeScale.enable&&(i=this.generateTimeSlots(e[e.length-1]),e.push(i)),this.parent.activeViewOptions.headerRows.length>0){e=new s.a(this.parent,this.renderDates).generateColumnLevels(t,i)}return e},t.prototype.generateTimeSlots=function(e){for(var t=this,r=function(e){return e.type=e.first?"majorSlot":"minorSlot",e.className=e.first?[l._11]:[l._11,l._12],e.workDays=t.parent.activeViewOptions.workDays,e},a=this.getTimeSlotRows(r),s=[],o=0,p=e;o<p.length;o++){var d=p[o];d.colSpan=a.length;for(var h=i.i(n.extend)([],a,null,!0),u=0,g=h;u<g.length;u++){var v=g[u],f=c.b(new Date(""+d.date));v.date=c.r(f,c.s(v.date)),s.push(v)}}return s},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.getLeftFromDateTime(e,this.parent.getCurrentTime()),r=this.element.querySelector("."+l.h).offsetHeight,a=this.element.querySelector("."+l.d);if(this.element.querySelector("."+l.g).appendChild(i.i(n.createElement)("div",{className:l._13,styles:(this.parent.enableRtl?"right":"left")+":"+i.i(n.formatUnit)(t)+"; height:"+i.i(n.formatUnit)(r)})),this.parent.virtualScrollModule){var s=this.parent.element.querySelector("."+l._13),o=this.parent.element.querySelector("."+l.g+" table");i.i(n.setStyleAttribute)(s,{transform:o.style.transform})}var c=i.i(n.createElement)("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:l._14});a.appendChild(c),c.style[this.parent.enableRtl?"right":"left"]=i.i(n.formatUnit)(t-c.offsetWidth/2)}},t.prototype.getLeftFromDateTime=function(e,t){var r=this.getStartHour(),a=0,s=60*(t.getHours()-r.getHours())+(t.getMinutes()-r.getMinutes());if(!i.i(n.isNullOrUndefined)(e)&&0!==e[0]){var o=this.parent.activeView.colLevels.findIndex(function(e){return"dateHeader"===e[0].type});if(this.parent.activeView.colLevels[parseInt(o.toString(),10)]&&this.parent.activeView.colLevels[parseInt(o.toString(),10)][0].colSpan)a=e[0]*this.parent.activeView.colLevels[parseInt(o.toString(),10)][0].colSpan*this.getWorkCellWidth();else{var l=this.getEndHour(),c=0===l.getHours()?24:l.getHours();s+=e[0]*(60*(c-r.getHours())+(l.getMinutes()-r.getMinutes()))}}return a+s*this.getWorkCellWidth()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellWidth=function(){return this.element.querySelector(".e-work-cells").getBoundingClientRect().width},t.prototype.renderHeader=function(){var e=i.i(n.createElement)("tr");this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderResourceHeaderIndent(e);var t=i.i(n.createElement)("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),i.i(n.prepend)([e],this.element.querySelector("tbody"))},t.prototype.createAllDayRow=function(e,t){},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[],t=this.parent.getIndexOfDate(this.renderDates,c.b(this.parent.getCurrentTime()));return t>=0&&e.push(t),e},t.prototype.renderContent=function(){var e=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=i.i(n.createElement)("td");t.appendChild(this.parent.resourceBase.createResourceColumn()),e.appendChild(t)}var r=i.i(n.createElement)("td"),a=this.renderContentArea();a.appendChild(this.createEventTable(this.getRowCount())),this.collapseRows(a),r.appendChild(a),e.appendChild(r),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(a),this.element.querySelector("tbody").appendChild(e)},t.prototype.getRowCount=function(){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.resourceBase.renderedResources.length:1},t.prototype.getResourceTdData=function(e,t){var i=this.parent.resourceBase.renderedResources[parseInt(e.toString(),10)],n=i.resourceData[i.resource.startHourField]||this.parent.workHours.start,r=i.resourceData[i.resource.endHourField]||this.parent.workHours.end;return t.startHour=this.parent.getStartEndTime(n),t.endHour=this.parent.getStartEndTime(r),t.workDays=i.resourceData[i.resource.workDaysField]||this.parent.workDays,t.className=i.className,t.groupIndex=i.groupIndex,t.groupOrder=i.groupOrder,t},t.prototype.renderContentTable=function(e){var t=e.querySelector("tbody");i.i(n.append)(this.getContentRows(),t)},t.prototype.getContentRows=function(){for(var e=[],t=i.i(n.createElement)("tr"),r=i.i(n.createElement)("td",{attrs:{"aria-selected":"false"}}),a=this.getRowCount(),s=0;s<a;s++){for(var o=t.cloneNode(),l=0,c=this.colLevels[this.colLevels.length-1];l<c.length;l++){var p=c[l];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(p=this.getResourceTdData(s,p));var d=this.createContentTd(p,p,r);o.appendChild(d)}e.push(o)}return e},t.prototype.getContentTdClass=function(e){return e.first||!this.parent.activeViewOptions.timeScale.enable?[l.n]:[l.n,l._15]},t.prototype.renderEvents=function(){this.timelineAppointment=new a.a(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day"),this.timelineAppointment.renderAppointments(),this.parent.notify(o.F,{})},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var t=this.colLevels[this.colLevels.length-1],i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].date.getTime()>e.getTime())return t[i-1].date;return null},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.timelineAppointment&&(this.timelineAppointment.destroy(),this.timelineAppointment=null),e.prototype.destroy.call(this))},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i.n(n),i(16)),a=i(2),s=i(3),o=i(1),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-timeline-year-view",i.isInverseTableSelect=!0,i}return l(t,e),t.prototype.getModuleName=function(){return"timelineYear"},t.prototype.renderHeader=function(e){var t=i.i(n.createElement)("tr");if(e.appendChild(t),"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)this.parent.resourceBase.renderResourceHeaderIndent(t);else{var r=i.i(n.createElement)("td",{className:s.a});t.appendChild(r),r.appendChild(this.renderResourceHeader(s.b))}var o="Horizontal"===this.parent.activeViewOptions.orientation,l=this.parent.activeViewOptions.group.resources.length>0;this.isInverseTableSelect=!(o&&!l);var c=i.i(n.createElement)("td");t.appendChild(c);var p=i.i(n.createElement)("div",{className:s.c});if(c.appendChild(p),"Horizontal"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)p.appendChild(this.renderResourceHeader(s.d)),this.columnCount=this.colLevels.slice(-1)[0].length;else{var d=i.i(n.createElement)("div",{className:s.d});p.appendChild(d);var h=this.createTableLayout();d.appendChild(h),h.appendChild(this.createTableColGroup(this.columnCount));var u=i.i(n.createElement)("tr");h.querySelector("tbody").appendChild(u);for(var g=this.getMonths(),v=this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(),g[0],1)),f=0;f<this.columnCount;f++){var m=new Date(this.parent.selectedDate.getFullYear(),g[parseInt(f.toString(),10)],1),y=i.i(n.createElement)("td",{className:s.e});"Horizontal"===this.parent.activeViewOptions.orientation?this.parent.dayHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(v[parseInt(f.toString(),10)],f,"dayHeaderTemplate"),y):y.innerHTML="<span>"+this.parent.getDayNames("abbreviated")[f%7]+"</span>":(this.parent.monthHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(m,g[parseInt(f.toString(),10)],"monthHeaderTemplate"),y):y.innerHTML="<span>"+this.getMonthName(m)+"</span>",y.setAttribute("data-date",m.getTime().toString())),u.appendChild(y),this.parent.trigger(a.j,{elementType:"headerCells",element:y})}}},t.prototype.renderResourceHeader=function(e){var t=i.i(n.createElement)("div",{className:e}),r=this.createTableLayout();t.appendChild(r);var o=i.i(n.createElement)("tr");if(this.parent.activeViewOptions.group.resources.length>0)this.colLevels=this.generateColumnLevels();else{var l=[{className:[s.e],type:"headerCell"}];this.colLevels=[l]}for(var c=0,p=this.colLevels;c<p.length;c++){for(var d=p[c],h=o.cloneNode(),u=e===s.d?d:[d[0]],g=0,v=u;g<v.length;g++){var f=v[g],m=i.i(n.createElement)("td");f.className&&i.i(n.addClass)([m],f.className),e===s.d&&(f.template&&i.i(n.append)(f.template,m),f.colSpan&&m.setAttribute("colspan",f.colSpan.toString()),f.groupIndex>-1&&m.setAttribute("data-group-index",f.groupIndex.toString()),this.setResourceHeaderContent(m,f)),e===s.b&&this.parent.renderHeaderIndentTemplate(f,m);var y={elementType:f.type,element:m,date:f.date,groupIndex:f.groupIndex};this.parent.trigger(a.j,y),h.appendChild(m)}r.querySelector("tbody").appendChild(h)}return e===s.d&&r.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length)),t},t.prototype.renderContent=function(e){var t=i.i(n.createElement)("tr");e.appendChild(t);var r,a=i.i(n.createElement)("td"),o=i.i(n.createElement)("td"),l=[];if("Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)l.push(a),a.appendChild(this.parent.resourceBase.createResourceColumn()),this.rowCount=this.parent.resourceBase.renderedResources.length;else{l.push(a);var c=i.i(n.createElement)("div",{className:s.f});a.appendChild(c),c.appendChild(this.createTableLayout()),r=c.querySelector("tbody")}l.push(o),i.i(n.append)(l,t);var p=i.i(n.createElement)("div",{className:s.g});o.appendChild(p);var d=this.createTableLayout(s.h);this.setAriaAttributes(d),p.appendChild(d);var h=i.i(n.createElement)("div",{className:s.i});p.appendChild(h),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(p);var u=d.querySelector("tbody");if(this.parent.rowAutoHeight){var g=[d],v=this.parent.element.querySelector("."+s.f+" ."+s.j);v&&g.push(v),i.i(n.addClass)(g,s.k)}if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var f="Horizontal"===this.parent.activeViewOptions.orientation?this.colLevels.slice(-1)[0].length:this.columnCount;d.appendChild(this.createTableColGroup(f)),this.renderResourceContent(h,r,u)}else d.appendChild(this.createTableColGroup(this.columnCount)),this.renderDefaultContent(h,r,u)},t.prototype.renderDefaultContent=function(e,t,r){for(var l=this.getMonths(),c=this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(),l[0],1)),p=0;p<this.rowCount;p++){e.appendChild(i.i(n.createElement)("div",{className:s.l}));var d=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(p.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime())),u=this.parent.calendarUtil.getMonthEndDate(new Date(d.getTime())),g=i.i(n.createElement)("tr"),v=g.cloneNode();t.appendChild(v);var f=g.cloneNode();r.appendChild(f);var m=i.i(n.createElement)("td",{className:s.m});"Horizontal"===this.parent.activeViewOptions.orientation?(this.parent.monthHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(h,p,"monthHeaderTemplate"),m):m.innerHTML="<span>"+this.getMonthName(d)+"</span>",m.setAttribute("data-date",d.getTime().toString())):this.parent.dayHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(c[parseInt(p.toString(),10)],p,"dayHeaderTemplate"),m):m.innerHTML="<span>"+this.parent.getDayNames("abbreviated")[p%7]+"</span>",v.appendChild(m),this.parent.trigger(a.j,{elementType:"leftHeaderCells",element:m});for(var y=new Date(h.getTime()),T=0;T<this.columnCount;T++){var D=void 0;if("Vertical"===this.parent.activeViewOptions.orientation){d=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(T.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime())),u=this.parent.calendarUtil.getMonthEndDate(new Date(d.getTime()));var w=p-h.getDay()+1;y=new Date(this.parent.selectedDate.getFullYear(),l[parseInt(T.toString(),10)],w),D=w>0&&y.getTime()<u.getTime()}else D=T>=h.getDay()&&y.getTime()<u.getTime();var b=this.parent.globalize.formatDate(y,{skeleton:"full",calendar:this.parent.getCalendarMode()}),C=i.i(n.createElement)("td",{className:s.n,attrs:{"aria-selected":"false","aria-label":b}});f.appendChild(C);var S=i.i(n.createElement)("div",{className:s.o+" "+s.p,innerHTML:D?this.parent.globalize.formatDate(y,{skeleton:"d",calendar:this.parent.getCalendarMode()}):""});if(D){var O=[C],E=[];this.parent.activeViewOptions.workDays.indexOf(y.getDay())>-1&&E.push(s.q),this.parent.isMinMaxDate(y)||i.i(n.addClass)([C],s.r),this.isCurrentDate(y)&&(E.push(s.s),"Horizontal"===this.parent.activeViewOptions.orientation?O.push(this.element.querySelector("."+s.e+":nth-child("+(T+1)+")")):O.push(this.element.querySelectorAll("."+s.m).item(p))),E.length>0&&i.i(n.addClass)(O,E)}else i.i(n.addClass)([C],s.t),this.parent.isMinMaxDate(y)||i.i(n.addClass)([C],s.r);C.classList.contains(s.t)||(this.renderDates.push(new Date(y)),C.appendChild(S),D&&(C.setAttribute("data-date",y.getTime().toString()),this.wireEvents(C)),this.renderCellTemplate({date:y,type:"workCells"},C),this.parent.trigger(a.j,{elementType:"workCells",element:C,date:y}),D&&"Horizontal"===this.parent.activeViewOptions.orientation&&(y=o.d(new Date(y.getTime()),1)))}}this.renderDates.splice(0,1)},t.prototype.getContentRows=function(){for(var e=[],t=this.getMonths(),r=0;r<this.parent.resourceBase.renderedResources.length;r++){var o=i.i(n.createElement)("tr");e.push(o);var l=void 0;this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(l=this.parent.resourceBase.renderedResources[parseInt(r.toString(),10)]);for(var c=new Date(this.parent.selectedDate.getFullYear(),t[parseInt(r.toString(),10)],1),p=this.parent.calendarUtil.getMonthStartDate(new Date(c.getTime())),d=0;d<this.columnCount;d++){var h=[],u=l.groupIndex;h=h.concat(l.className),h.indexOf(s.u)>-1?h.push(s.v):h.push(s.q),c=new Date(this.parent.selectedDate.getFullYear(),t[parseInt(d.toString(),10)],1),p=this.parent.calendarUtil.getMonthStartDate(new Date(c.getTime()));var g=i.i(n.createElement)("td",{className:s.n,attrs:{"aria-selected":"false","data-date":p.getTime().toString()}});i.i(n.addClass)([g],h),g.setAttribute("data-group-index",u.toString()),this.renderCellTemplate({date:p,type:"resourceGroupCells",groupIndex:u},g),this.wireEvents(g),this.parent.trigger(a.j,{elementType:"resourceGroupCells",element:g,date:p}),o.appendChild(g)}}return e},t.prototype.renderResourceContent=function(e,t,r){for(var o=this.getMonths(),l=0;l<this.rowCount;l++){e.appendChild(i.i(n.createElement)("div",{className:s.l}));var c=i.i(n.createElement)("tr");r.appendChild(c);var p=void 0;"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(p=this.parent.resourceBase.renderedResources[parseInt(l.toString(),10)]);var d=new Date(this.parent.selectedDate.getFullYear(),o[parseInt(l.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime()));if("Horizontal"===this.parent.activeViewOptions.orientation){var u=c.cloneNode();t.appendChild(u);var g=i.i(n.createElement)("td",{className:s.m,attrs:{"data-date":h.getTime().toString()}});this.parent.monthHeaderTemplate?i.i(n.append)(this.renderDayMonthHeaderTemplate(d,l,"monthHeaderTemplate"),g):g.innerHTML="<span>"+this.getMonthName(d)+"</span>",u.appendChild(g)}for(var v=0;v<this.columnCount;v++){var f=[],m=void 0;"Vertical"===this.parent.activeViewOptions.orientation?(m=p.groupIndex,f=f.concat(p.className),f.indexOf(s.u)>-1?f.push(s.v):f.push(s.q),d=new Date(this.parent.selectedDate.getFullYear(),o[parseInt(v.toString(),10)],1),h=this.parent.calendarUtil.getMonthStartDate(new Date(d.getTime()))):(m=this.colLevels.slice(-1)[0][parseInt(v.toString(),10)].groupIndex,f.push(s.q));var y=i.i(n.createElement)("td",{className:s.n,attrs:{"aria-selected":"false","data-date":h.getTime().toString()}});i.i(n.addClass)([y],f),y.setAttribute("data-group-index",m.toString()),this.renderCellTemplate({date:h,type:"resourceGroupCells",groupIndex:m},y),this.wireEvents(y),c.appendChild(y),this.parent.trigger(a.j,{elementType:"resourceGroupCells",element:y,date:h})}}"Vertical"===this.parent.activeViewOptions.orientation&&this.collapseRows(this.parent.element.querySelector("."+s.g))},t.prototype.renderDayMonthHeaderTemplate=function(e,t,i){var n={date:e,type:"dayHeaderTemplate"===i?"dayHeader":"monthHeader"},r="schedule_"+this.parent.activeViewOptions.dayHeaderTemplateName+"dayHeaderTemplate",a="schedule_"+this.parent.activeViewOptions.dayHeaderTemplateName+"monthHeaderTemplate";return"dayHeaderTemplate"===i?(n.day=this.parent.getDayNames("wide")[t%7],[].slice.call(this.parent.getDayHeaderTemplate()(n,this.parent,"dayHeaderTemplate",r,!1))):[].slice.call(this.parent.getMonthHeaderTemplate()(n,this.parent,"monthHeaderTemplate",a,!1))},t.prototype.renderCellTemplate=function(e,t){if(this.parent.activeViewOptions.cellTemplate&&!t.classList.contains(s.t)){var r={date:e.date,type:e.type};e.groupIndex&&(r.groupIndex=e.groupIndex);var a=this.parent.element.id+"_",o=this.parent.activeViewOptions.cellTemplateName,l=a+o+"cellTemplate",c=[].slice.call(this.parent.getCellTemplate()(r,this.parent,"cellTemplate",l,!1));i.i(n.append)(c,t)}},t.prototype.scrollToDate=function(e){var t;t=null!==this.parent.activeViewOptions.group.resources&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?+new Date(o.b(o.n(e))):+new Date(o.b(e));var i=this.element.querySelector('[data-date="'+t+'"]');if(i){var n=this.getScrollableElement();if(this.parent.enableRtl){var r=this.element.querySelector("."+s.h);n.scrollLeft=-(r.offsetWidth-i.offsetLeft-i.offsetWidth)}else n.scrollLeft=i.offsetLeft;n.scrollTop=i.offsetTop}},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+s.w):this.getContentAreaElement()},t.prototype.wireEvents=function(e){n.EventHandler.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),n.EventHandler.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.EventHandler.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-week-view",i}return r(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"week"},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-work-week-view",i}return r(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"workWeek"},t}(n.a)},function(e,t){e.exports=s},function(e,t){e.exports=o},function(e,t,i){"use strict";var n=i(13);i.d(t,"a",function(){return n.a}),i.d(t,"b",function(){return n.b})},function(e,t,i){"use strict";var n=i(20);i.d(t,"a",function(){return n.a});var r=i(4);i.d(t,"b",function(){return r.a}),i.d(t,"c",function(){return r.b}),i.d(t,"d",function(){return r.c}),i.d(t,"e",function(){return r.d}),i.d(t,"f",function(){return r.e}),i.d(t,"g",function(){return r.f})},function(e,t,i){"use strict";var n=i(23);i.d(t,"a",function(){return n.a});var r=i(2);i.d(t,"b",function(){return r.a}),i.d(t,"c",function(){return r.b}),i.d(t,"d",function(){return r.c}),i.d(t,"e",function(){return r.d}),i.d(t,"f",function(){return r.e}),i.d(t,"g",function(){return r.f}),i.d(t,"h",function(){return r.g}),i.d(t,"i",function(){return r.h}),i.d(t,"j",function(){return r.i}),i.d(t,"k",function(){return r.j}),i.d(t,"l",function(){return r.k}),i.d(t,"m",function(){return r.l}),i.d(t,"n",function(){return r.m}),i.d(t,"o",function(){return r.n}),i.d(t,"p",function(){return r.o}),i.d(t,"q",function(){return r.p}),i.d(t,"r",function(){return r.q}),i.d(t,"s",function(){return r.r}),i.d(t,"t",function(){return r.s}),i.d(t,"u",function(){return r.t}),i.d(t,"v",function(){return r.u}),i.d(t,"w",function(){return r.v}),i.d(t,"x",function(){return r.w}),i.d(t,"y",function(){return r.x}),i.d(t,"z",function(){return r.y}),i.d(t,"A",function(){return r.z}),i.d(t,"B",function(){return r.A}),i.d(t,"C",function(){return r.B}),i.d(t,"D",function(){return r.C}),i.d(t,"E",function(){return r.D}),i.d(t,"F",function(){return r.E}),i.d(t,"G",function(){return r.F}),i.d(t,"H",function(){return r.G}),i.d(t,"I",function(){return r.H}),i.d(t,"J",function(){return r.I}),i.d(t,"K",function(){return r.J}),i.d(t,"L",function(){return r.K}),i.d(t,"M",function(){return r.L}),i.d(t,"N",function(){return r.M});var a=i(1);i.d(t,"O",function(){return a.e}),i.d(t,"P",function(){return a.f}),i.d(t,"Q",function(){return a.c}),i.d(t,"R",function(){return a.g}),i.d(t,"S",function(){return a.h}),i.d(t,"T",function(){return a.i}),i.d(t,"U",function(){return a.j}),i.d(t,"V",function(){return a.k}),i.d(t,"W",function(){return a.l}),i.d(t,"X",function(){return a.m}),i.d(t,"Y",function(){return a.n}),i.d(t,"Z",function(){return a.o}),i.d(t,"_0",function(){return a.p}),i.d(t,"_1",function(){return a.q}),i.d(t,"_2",function(){return a.r}),i.d(t,"_3",function(){return a.b}),i.d(t,"_4",function(){return a.s}),i.d(t,"_5",function(){return a.t}),i.d(t,"_6",function(){return a.d}),i.d(t,"_7",function(){return a.u}),i.d(t,"_8",function(){return a.v}),i.d(t,"_9",function(){return a.w}),i.d(t,"_10",function(){return a.x}),i.d(t,"_11",function(){return a.y}),i.d(t,"_12",function(){return a.z}),i.d(t,"_13",function(){return a.A}),i.d(t,"_14",function(){return a.B}),i.d(t,"_15",function(){return a.C}),i.d(t,"_16",function(){return a.D}),i.d(t,"_17",function(){return a.E}),i.d(t,"_18",function(){return a.F}),i.d(t,"_19",function(){return a.G}),i.d(t,"_20",function(){return a.H}),i.d(t,"_21",function(){return a.I}),i.d(t,"_22",function(){return a.a});var s=i(47);i.d(t,"_23",function(){return s.a});var o=i(45);i.d(t,"_24",function(){return o.a});var l=i(30);i.d(t,"_25",function(){return l.a});var c=i(8);i.d(t,"_26",function(){return c.a});var p=i(29);i.d(t,"_27",function(){return p.a});var d=i(36);i.d(t,"_28",function(){return d.a});var h=i(37);i.d(t,"_29",function(){return h.a});var u=i(9);i.d(t,"_30",function(){return u.a});var g=i(16);i.d(t,"_31",function(){return g.a});var v=i(28);i.d(t,"_32",function(){return v.a});var f=i(31);i.d(t,"_33",function(){return f.a});var m=i(34);i.d(t,"_34",function(){return m.a});var y=i(33);i.d(t,"_35",function(){return y.a});var T=i(35);i.d(t,"_36",function(){return T.a});var D=i(17);i.d(t,"_37",function(){return D.a}),i.d(t,"_38",function(){return D.b});var w=i(57);i.d(t,"_39",function(){return w.a}),i.d(t,"_40",function(){return w.b}),i.d(t,"_41",function(){return w.c}),i.d(t,"_42",function(){return w.d})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(42);i.d(t,"Schedule",function(){return n.a}),i.d(t,"cellClick",function(){return n.b}),i.d(t,"cellDoubleClick",function(){return n.c}),i.d(t,"moreEventsClick",function(){return n.d}),i.d(t,"select",function(){return n.e}),i.d(t,"hover",function(){return n.f}),i.d(t,"actionBegin",function(){return n.g}),i.d(t,"actionComplete",function(){return n.h}),i.d(t,"actionFailure",function(){return n.i}),i.d(t,"navigating",function(){return n.j}),i.d(t,"renderCell",function(){return n.k}),i.d(t,"eventClick",function(){return n.l}),i.d(t,"eventDoubleClick",function(){return n.m}),i.d(t,"eventRendered",function(){return n.n}),i.d(t,"dataBinding",function(){return n.o}),i.d(t,"dataBound",function(){return n.p}),i.d(t,"popupOpen",function(){return n.q}),i.d(t,"popupClose",function(){return n.r}),i.d(t,"dragStart",function(){return n.s}),i.d(t,"drag",function(){return n.t}),i.d(t,"dragStop",function(){return n.u}),i.d(t,"resizeStart",function(){return n.v}),i.d(t,"resizing",function(){return n.w}),i.d(t,"resizeStop",function(){return n.x}),i.d(t,"inlineClick",function(){return n.y}),i.d(t,"cellSelect",function(){return n.z}),i.d(t,"virtualScrollStart",function(){return n.A}),i.d(t,"virtualScrollStop",function(){return n.B}),i.d(t,"initialLoad",function(){return n.C}),i.d(t,"initialEnd",function(){return n.D}),i.d(t,"print",function(){return n.E}),i.d(t,"dataReady",function(){return n.F}),i.d(t,"eventsLoaded",function(){return n.G}),i.d(t,"contentReady",function(){return n.H}),i.d(t,"scroll",function(){return n.I}),i.d(t,"virtualScroll",function(){return n.J}),i.d(t,"scrollUiUpdate",function(){return n.K}),i.d(t,"uiUpdate",function(){return n.L}),i.d(t,"documentClick",function(){return n.M}),i.d(t,"cellMouseDown",function(){return n.N}),i.d(t,"WEEK_LENGTH",function(){return n.O}),i.d(t,"DEFAULT_WEEKS",function(){return n.P}),i.d(t,"MS_PER_DAY",function(){return n.Q}),i.d(t,"MS_PER_MINUTE",function(){return n.R}),i.d(t,"getElementHeightFromClass",function(){return n.S}),i.d(t,"getElementWidthFromClass",function(){return n.T}),i.d(t,"getTranslateY",function(){return n.U}),i.d(t,"getTranslateX",function(){return n.V}),i.d(t,"getWeekFirstDate",function(){return n.W}),i.d(t,"getWeekLastDate",function(){return n.X}),i.d(t,"firstDateOfMonth",function(){return n.Y}),i.d(t,"lastDateOfMonth",function(){return n.Z}),i.d(t,"getWeekNumber",function(){return n._0}),i.d(t,"getWeekMiddleDate",function(){return n._1}),i.d(t,"setTime",function(){return n._2}),i.d(t,"resetTime",function(){return n._3}),i.d(t,"getDateInMs",function(){return n._4}),i.d(t,"getDateCount",function(){return n._5}),i.d(t,"addDays",function(){return n._6}),i.d(t,"addMonths",function(){return n._7}),i.d(t,"addYears",function(){return n._8}),i.d(t,"getStartEndHours",function(){return n._9}),i.d(t,"getMaxDays",function(){return n._10}),i.d(t,"getDaysCount",function(){return n._11}),i.d(t,"getDateFromString",function(){return n._12}),i.d(t,"getScrollBarWidth",function(){return n._13}),i.d(t,"resetScrollbarWidth",function(){return n._14}),i.d(t,"findIndexInData",function(){return n._15}),i.d(t,"getOuterHeight",function(){return n._16}),i.d(t,"removeChildren",function(){return n._17}),i.d(t,"isDaylightSavingTime",function(){return n._18}),i.d(t,"getUniversalTime",function(){return n._19}),i.d(t,"isMobile",function(){return n._20}),i.d(t,"isIPadDevice",function(){return n._21}),i.d(t,"capitalizeFirstWord",function(){return n._22}),i.d(t,"Resize",function(){return n._23}),i.d(t,"DragAndDrop",function(){return n._24}),i.d(t,"HeaderRenderer",function(){return n._25}),i.d(t,"ViewBase",function(){return n._26}),i.d(t,"Day",function(){return n._27}),i.d(t,"Week",function(){return n._28}),i.d(t,"WorkWeek",function(){return n._29}),i.d(t,"Month",function(){return n._30}),i.d(t,"Year",function(){return n._31}),i.d(t,"Agenda",function(){return n._32}),i.d(t,"MonthAgenda",function(){return n._33}),i.d(t,"TimelineViews",function(){return n._34}),i.d(t,"TimelineMonth",function(){return n._35}),i.d(t,"TimelineYear",function(){return n._36}),i.d(t,"Timezone",function(){return n._37}),i.d(t,"timezoneData",function(){return n._38}),i.d(t,"ICalendarExport",function(){return n._39}),i.d(t,"ICalendarImport",function(){return n._40}),i.d(t,"ExcelExport",function(){return n._41}),i.d(t,"Print",function(){return n._42});var r=i(41);i.d(t,"RecurrenceEditor",function(){return r.a}),i.d(t,"generateSummary",function(){return r.b}),i.d(t,"generate",function(){return r.c}),i.d(t,"getDateFromRecurrenceDateString",function(){return r.d}),i.d(t,"extractObjectFromRule",function(){return r.e}),i.d(t,"getCalendarUtil",function(){return r.f}),i.d(t,"getRecurrenceStringFromDate",function(){return r.g});var a=i(40);i.d(t,"Gregorian",function(){return a.a}),i.d(t,"Islamic",function(){return a.b})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i.n(n),i(4)),a=i(2),s=i(1),o=function(){function e(e){this.parent=e,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}return e.prototype.getQuery=function(){var e=this.parent.activeView.startDate(),t=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(e,t)},e.prototype.getTable=function(){if(this.parent.eventSettings.query){return this.parent.eventSettings.query.clone().fromTable}return null},e.prototype.refreshDataManager=function(){var e=this;if(this.parent.activeView){var t=this.parent.activeView.startDate(),i=this.parent.activeView.endDate();this.parent.dataModule.getData(this.parent.dataModule.generateQuery(t,i)).then(function(t){return e.dataManagerSuccess(t)}).catch(function(t){return e.dataManagerFailure(t)})}},e.prototype.dataManagerSuccess=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(a.n,e,function(e){var r=i.i(n.extend)([],e.result,null,!0);t.parent.eventsData=r.filter(function(e){return!e[t.parent.eventFields.isBlock]}),t.parent.blockData=r.filter(function(e){return e[t.parent.eventFields.isBlock]}),t.refreshProcessedData(),t.parent.dragAndDropModule&&"drag"===t.parent.dragAndDropModule.actionObj.action&&t.parent.dragAndDropModule.navigationWrapper(),t.parent.trigger(a.o,null,function(){t.parent.hideSpinner(),t.parent.isPrinting&&t.parent.notify(a.D,{})})})},e.prototype.dataManagerFailure=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(a.h,{error:e},function(){return t.parent.hideSpinner()})},e.prototype.refreshProcessedData=function(e,t){if(void 0===e&&(e=!1),this.parent.dragAndDropModule&&(this.parent.dragAndDropModule.actionObj.action="",i.i(n.removeClass)([this.parent.element],"e-event-action")),this.parent.activeViewOptions&&this.parent.activeViewOptions.eventTemplate){var r=["eventTemplate"];if(this.crudObj.isCrudAction&&-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)){r=[];for(var s=0,o=this.crudObj.sourceEvent.length;s<o;s++)r.push("eventTemplate_"+this.crudObj.sourceEvent[parseInt(s.toString(),10)].groupIndex),this.crudObj.targetEvent[parseInt(s.toString(),10)]&&this.crudObj.sourceEvent[parseInt(s.toString(),10)].groupIndex!==this.crudObj.targetEvent[parseInt(s.toString(),10)].groupIndex&&r.push("eventTemplate_"+this.crudObj.targetEvent[parseInt(s.toString(),10)].groupIndex)}r.length>0&&this.parent.resetTemplates(r)}if(e)return void this.parent.notify(a.E,{processedData:t?this.parent.eventBase.processData(t):this.parent.eventsProcessed});var l=this.parent.eventsData||[],c=this.parent.blockData||[],p=l.concat(c);this.parent.notify(a.E,{processedData:this.parent.eventBase?this.parent.eventBase.processData(p):[]})},e.prototype.refreshData=function(e){var t=this,r={requestType:e.requestType,cancel:!1,data:e.data,addedRecords:e.editParams.addedRecords,changedRecords:e.editParams.changedRecords,deletedRecords:e.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.isSpecificResourceEvents()&&("eventCreated"===e.requestType||"eventRemoved"===e.requestType)){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];for(var s=e.data instanceof Array?0===e.data.length&&"eventRemoved"===e.requestType?e.editParams.deletedRecords:e.data:"string"!=typeof e.data&&"number"!=typeof e.data||"eventRemoved"!==e.requestType?[e.data]:e.editParams.deletedRecords,o=this,l=0,c=s;l<c.length;l++){var p=c[l];!function(t){o.crudObj.isCrudAction=!("eventRemoved"===e.requestType&&!i.i(n.isNullOrUndefined)(t.parent));var r=o.parent.eventBase.getGroupIndexFromEvent(t);r>-1&&0===o.parent.crudModule.crudObj.sourceEvent.filter(function(e){return e.groupIndex===r}).length&&o.crudObj.isCrudAction&&o.crudObj.sourceEvent.push(o.parent.resourceBase.lastResourceLevel[parseInt(r.toString(),10)])}(p)}this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(a.g,r,function(e){e.cancel||t.refreshDataManager()}):e.promise.then(function(){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(a.g,r,function(e){e.cancel||t.refreshDataManager()})}).catch(function(e){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(a.h,{error:e})})},e.prototype.addEvent=function(e){var t=this;if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return void this.parent.quickPopup.openValidationError("blockAlert",e);var r=e instanceof Array?e:[e];if(0===r.length)return;var s={requestType:"eventCreate",cancel:!1,data:r,addedRecords:r,changedRecords:[],deletedRecords:[]};this.parent.trigger(a.f,s,function(e){if(!e.cancel){var r=t.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]},s=void 0;if(e.addedRecords instanceof Array){for(var o=0,l=e.addedRecords;o<l.length;o++){var c=l[o];c=t.parent.eventBase.updateEventDateTime(c);var p=i.i(n.extend)({},t.parent.eventBase.processTimezone(c,!0),null,!0);a.addedRecords.push(p)}s=t.parent.dataModule.dataManager.saveChanges(a,r.id,t.getTable(),t.getQuery())}else{var d=t.parent.eventBase.processTimezone(e.addedRecords,!0);a.addedRecords.push(d),s=t.parent.dataModule.dataManager.insert(d,t.getTable(),t.getQuery())}var h={requestType:"eventCreated",cancel:!1,data:e.addedRecords,promise:s,editParams:a};t.refreshData(h)}})}},e.prototype.saveEvent=function(e,t){var r=this;if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if("EditFollowingEvents"!==this.parent.currentAction&&!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return this.parent.quickPopup.openValidationError("blockAlert",e),void(this.parent.crudModule.crudObj.isCrudAction=!1);var s=e instanceof Array?e:[e];if(0===s.length)return;if(this.parent.currentAction=t,t)switch(t){case"Save":this.processSave(e);break;case"EditOccurrence":this.processOccurrences(e,t);break;case"EditFollowingEvents":this.processFollowSeries(e,t);break;case"EditSeries":this.processEntireSeries(e,t)}else{var o={requestType:"eventChange",cancel:!1,data:e,addedRecords:[],changedRecords:s,deletedRecords:[]};this.parent.trigger(a.f,o,function(e){if(!e.cancel){var t=void 0,a=r.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]};if(e.changedRecords instanceof Array){for(var o=0,l=e.changedRecords;o<l.length;o++){var c=l[o];c=r.parent.eventBase.updateEventDateTime(c);var p=i.i(n.extend)({},r.parent.eventBase.processTimezone(c,!0),null,!0);s.changedRecords.push(p)}t=r.parent.dataModule.dataManager.saveChanges(s,a.id,r.getTable(),r.getQuery())}else{var d=r.parent.eventBase.processTimezone(e.changedRecords,!0);s.changedRecords.push(d),t=r.parent.dataModule.dataManager.update(a.id,d,r.getTable(),r.getQuery())}var h=i.i(n.extend)({},e.changedRecords[e.changedRecords.length-1],null,!0);r.parent.eventBase.selectWorkCellByTime([r.parent.eventBase.processTimezone(h)]);var u={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:t,editParams:s};r.refreshData(u)}})}}},e.prototype.deleteEvent=function(e,t){var i=this;if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=t;var n=[];if(n="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(function(t){return t[i.parent.eventFields.id]===e}):e instanceof Array?e:[e],0===n.length)return;if(t)switch(t){case"Delete":this.processDelete(n);break;case"DeleteOccurrence":this.processOccurrences(n,t);break;case"DeleteFollowingEvents":this.processFollowSeries(n,t);break;case"DeleteSeries":this.processEntireSeries(n,t)}else{var r={requestType:"eventRemove",cancel:!1,data:e,addedRecords:[],changedRecords:[],deletedRecords:n};this.parent.trigger(a.f,r,function(e){if(!e.cancel){var t=void 0,n=i.parent.eventFields,r={addedRecords:[],changedRecords:[],deletedRecords:[]};e.deletedRecords.length>1?(r.deletedRecords=r.deletedRecords.concat(e.deletedRecords),t=i.parent.dataModule.dataManager.saveChanges(r,n.id,i.getTable(),i.getQuery())):(r.deletedRecords.push(e.deletedRecords[0]),t=i.parent.dataModule.dataManager.remove(n.id,e.deletedRecords[0],i.getTable(),i.getQuery())),i.parent.eventBase.selectWorkCellByTime(e.deletedRecords);var a={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:t,editParams:r};i.refreshData(a)}})}}},e.prototype.processOccurrences=function(e,t){var s=this,o=[],l=!1;if(e instanceof Array)for(var c=0,p=e;c<p.length;c++){var d=p[c];o.push({occurrence:d,parent:this.getParentEvent(d)})}else o={occurrence:e,parent:this.getParentEvent(e)};var h=e instanceof Array?e:[e],u={requestType:"EditOccurrence"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:h,deletedRecords:[]};u.data=o,this.parent.trigger(a.f,u,function(e){if(!e.cancel){for(var a=s.parent.eventFields,c={addedRecords:[],changedRecords:[],deletedRecords:[]},p=o instanceof Array?o:[o],d=0,h=e.changedRecords.length;d<h;d++)!function(n,o){var d=e.changedRecords[parseInt(n.toString(),10)],h=p[parseInt(n.toString(),10)].parent,u=h[a.recurrenceException],g=void 0,v=void 0;switch(t){case"EditOccurrence":g=s.parent.eventsProcessed.filter(function(e){return e.Guid===d.Guid})[0],v=s.excludeDateCheck(g[a.startTime],u),v!==h[a.recurrenceException]?(h[a.recurrenceException]=v,d[a.recurrenceException]=i.i(r.f)(g[a.startTime]),d[a.recurrenceID]=h[a.id],d[a.followingID]=null,c.changedRecords.push(s.parent.eventBase.processTimezone(h,!0)),c.addedRecords.push(s.parent.eventBase.processTimezone(d,!0))):c.changedRecords.push(s.parent.eventBase.processTimezone(d,!0));break;case"DeleteOccurrence":d[a.recurrenceException]||(h[a.recurrenceException]=s.excludeDateCheck(d[a.startTime],u),c.changedRecords.push(s.parent.eventBase.processTimezone(h,!0))),d[a.id]!==h[a.id]&&(c.deletedRecords.push(d),l=!0)}}(d);var u=s.parent.dataModule.dataManager.saveChanges(c,a.id,s.getTable(),s.getQuery()),g=i.i(n.extend)({},e.changedRecords[e.changedRecords.length-1],null,!0);s.parent.eventBase.selectWorkCellByTime("EditOccurrence"===t?[s.parent.eventBase.processTimezone(g)]:[g]);var v={requestType:"EditOccurrence"===t?"eventChanged":"eventRemoved",cancel:!1,data:l?e.deletedRecords:e.changedRecords,promise:u,editParams:c};s.refreshData(v)}})},e.prototype.processFollowSeries=function(e,t){var r=this,s=[];if(e instanceof Array)for(var o=0,l=e;o<l.length;o++){var c=l[o];s.push({occurrence:c,parent:this.getParentEvent(c)})}else s={occurrence:e,parent:this.getParentEvent(e)};var p=e instanceof Array?e:[e],d={requestType:"EditFollowingEvents"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:p,deletedRecords:[]};d.data=s,this.parent.trigger(a.f,d,function(e){if(!e.cancel){for(var a=r.parent.eventFields,o={addedRecords:[],changedRecords:[],deletedRecords:[]},l=s instanceof Array?s:[s],c=0,p=e.changedRecords.length;c<p;c++)!function(i,n){var s=e.changedRecords[parseInt(i.toString(),10)],c=l[parseInt(i.toString(),10)].parent,p=r.parent.eventBase.getEventCollections(c,s),d=void 0;switch(t){case"EditFollowingEvents":if(r.processRecurrenceRule(c,s),d=!r.parent.eventBase.isFollowingEvent(c,s),s[a.followingID]=d?null:c[a.id],s[a.recurrenceID]=null,o.addedRecords.push(r.parent.eventBase.processTimezone(s,!0)),o.changedRecords.push(r.parent.eventBase.processTimezone(c,!0)),!r.parent.uiStateValues.isIgnoreOccurrence){if(s[a.recurrenceException]=null,p.occurrence.length>0){var h=p.occurrence.slice(-1)[0][a.recurrenceRule];-1===h.indexOf("COUNT")&&(s[a.recurrenceRule]=h)}p.follow.length>0&&(s[a.recurrenceRule]=p.follow.slice(-1)[0][a.recurrenceRule],o.deletedRecords=o.deletedRecords.concat(p.follow)),d&&(p.occurrence=p.occurrence.filter(function(e){return e[a.recurrenceID]===c[a.id]})),o.deletedRecords=o.deletedRecords.concat(p.occurrence)}break;case"DeleteFollowingEvents":r.processRecurrenceRule(c,s[a.startTime]),o.changedRecords.push(r.parent.eventBase.processTimezone(c,!0)),o.deletedRecords=o.deletedRecords.concat(p.occurrence).concat(p.follow)}}(c);var d=r.parent.dataModule.dataManager.saveChanges(o,a.id,r.getTable(),r.getQuery()),h=i.i(n.extend)({},e.changedRecords[e.changedRecords.length-1],null,!0);r.parent.eventBase.selectWorkCellByTime("EditFollowingEvents"===t?[r.parent.eventBase.processTimezone(h)]:[h]);var u={requestType:"EditFollowingEvents"===t?"eventChanged":"eventRemoved",cancel:!1,data:e.changedRecords,promise:d,editParams:o};r.refreshData(u)}})},e.prototype.processEntireSeries=function(e,t){var r=this,s=[],o=!1;if(e instanceof Array)for(var l=0,c=e;l<c.length;l++){var p=c[l];s.push(this.getParentEvent(p,!0))}else s=this.getParentEvent(e,!0);var d=e instanceof Array?e:[e],h={requestType:"EditSeries"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:d,deletedRecords:[]};h.data=s,this.parent.trigger(a.f,h,function(e){if(!e.cancel){for(var a=r.parent.eventFields,l={addedRecords:[],changedRecords:[],deletedRecords:[]},c=s instanceof Array?s:[s],p=0,d=e.changedRecords.length;p<d;p++)!function(i,n){var s=e.changedRecords[parseInt(i.toString(),10)],p=c[parseInt(i.toString(),10)],d=r.parent.eventBase.getEventCollections(p),h=d.follow.concat(d.occurrence);switch(t){case"EditSeries":if(s[a.id]=p[a.id],s[a.recurrenceID]=null,s[a.followingID]=null,r.parent.uiStateValues.isIgnoreOccurrence&&s[a.recurrenceException]){var u=r.parent.eventsData.filter(function(e){return e[a.id]===s[a.id]});u.length>0&&(s[a.recurrenceRule]=u[0][a.recurrenceRule])}else s[a.recurrenceException]=null,l.deletedRecords=l.deletedRecords.concat(h);l.changedRecords.push(r.parent.eventBase.processTimezone(s,!0)),r.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":l.deletedRecords=l.deletedRecords.concat(h.concat(p)),o=!0}}(p);var h=r.parent.dataModule.dataManager.saveChanges(l,a.id,r.getTable(),r.getQuery()),u=i.i(n.extend)({},e.changedRecords[e.changedRecords.length-1],null,!0);r.parent.eventBase.selectWorkCellByTime("EditSeries"===t?[r.parent.eventBase.processTimezone(u)]:[u]);var g={requestType:"EditSeries"===t?"eventChanged":"eventRemoved",cancel:!1,data:o?e.deletedRecords:e.changedRecords,promise:h,editParams:l};r.refreshData(g)}})},e.prototype.processDelete=function(e){for(var t=this,r=[],s=0,o=e;s<o.length;s++){var l=o[s];l[this.parent.eventFields.recurrenceRule]?r.push({occurrence:l,parent:this.getParentEvent(l)}):r.push(l)}var c={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:e};c.data=r,this.parent.trigger(a.f,c,function(e){if(!e.cancel){for(var a=t.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=0,l=e.deletedRecords.length;o<l;o++)!function(o,l){var c=i.i(n.isNullOrUndefined)(e.deletedRecords[parseInt(o.toString(),10)][t.parent.eventFields.recurrenceRule]);if(!c){var p=r[parseInt(o.toString(),10)].parent,d=s.changedRecords.filter(function(e){return e[a.id]===p[a.id]}),h=e.deletedRecords[parseInt(o.toString(),10)][a.startTime];if(d.length>0){var u=d[0];u[a.recurrenceException]=t.excludeDateCheck(h,u[a.recurrenceException])}else p[a.recurrenceException]=t.excludeDateCheck(h,p[a.recurrenceException]);0===d.length&&s.changedRecords.push(t.parent.eventBase.processTimezone(p,!0)),c=e.deletedRecords[parseInt(o.toString(),10)][a.id]!==p[a.id]}c&&s.deletedRecords.push(e.deletedRecords[parseInt(o.toString(),10)])}(o);var c=t.parent.dataModule.dataManager.saveChanges(s,a.id,t.getTable(),t.getQuery());t.parent.eventBase.selectWorkCellByTime(e.deletedRecords);var p={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:c,editParams:s};t.refreshData(p)}})},e.prototype.processSave=function(e){for(var t=this,s=e instanceof Array?e:[e],o=[],l=0,c=s;l<c.length;l++){var p=c[l];p[this.parent.eventFields.recurrenceRule]?o.push({occurrence:p,parent:this.getParentEvent(p)}):o.push(p)}var d={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:s,deletedRecords:[]};d.data=o,this.parent.trigger(a.f,d,function(e){if(!e.cancel){for(var a=t.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=0,l=e.changedRecords;o<l.length;o++){var c=l[o];if(!i.i(n.isNullOrUndefined)(c[a.recurrenceRule])&&i.i(n.isNullOrUndefined)(c[a.recurrenceException])){var p=i.i(r.f)(c[a.startTime]),d=t.getParentEvent(c);d[a.recurrenceException]=i.i(n.isNullOrUndefined)(d[a.recurrenceException])?p:d[a.recurrenceException].concat(","+p),c[a.id]=t.parent.getEventMaxID(),c[a.recurrenceException]=p,s.addedRecords.push(t.parent.eventBase.processTimezone(c,!0)),s.changedRecords.push(t.parent.eventBase.processTimezone(d,!0))}else s.changedRecords.push(t.parent.eventBase.processTimezone(c,!0))}var h=t.parent.dataModule.dataManager.saveChanges(s,a.id,t.getTable(),t.getQuery()),u=i.i(n.extend)({},e.changedRecords[e.changedRecords.length-1],null,!0);t.parent.eventBase.selectWorkCellByTime([t.parent.eventBase.processTimezone(u)]);var g={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:h,editParams:s};t.refreshData(g)}})},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventBase.getParentEvent(e,t)||e;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i},e.prototype.excludeDateCheck=function(e,t){var a=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName();a&&(e=this.parent.tzModule.remove(new Date(+e.getTime()),a));var s=i.i(r.f)(e);return i.i(n.isNullOrUndefined)(t)?t=s:-1===t.indexOf(s)&&(t=i.i(n.isNullOrUndefined)(t)?s:t+","+s),t},e.prototype.processRecurrenceRule=function(e,t){var n,a=this.parent.eventFields,o=e[a.recurrenceRule];if(t instanceof Date)n=new Date(+t);else{n=new Date(+t[a.startTime]);var l=t[a.recurrenceRule];if(l){var c=e[a.startTime],p="DeleteFollowingEvents"===this.parent.currentAction?t[a.recurrenceException]:null,d=i.i(r.b)(c,l,p,this.parent.activeViewOptions.firstDayOfWeek),h=new Date(d.slice(-1)[0]);h.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),n.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),t[a.recurrenceRule]=this.getUpdatedRecurrenceRule(l,new Date(+h),!1)}}e[a.recurrenceRule]=this.getUpdatedRecurrenceRule(o,s.d(new Date(n.getTime()),-1),!0)},e.prototype.getUpdatedRecurrenceRule=function(e,t,n){for(var a=e.split(";"),s="",o=0,l=a;o<l.length;o++){var c=l[o];if(""!==c){var p=c.split("=")[0],d=c.split("=")[1];"COUNT"!==p&&"UNTIL"!==p||(d=i.i(r.f)(t),c=c.replace(c,"UNTIL="+d)),s+=c+";"}}return n&&-1===s.indexOf("UNTIL")&&(s+="UNTIL="+i.i(r.f)(t)),s},e.prototype.isBlockEvent=function(e){for(var t=e instanceof Array?e:[e],i=!1,n=0,r=t;n<r.length;n++){i=r[n][this.parent.eventFields.isBlock]||!1}return i},e.prototype.destroy=function(){this.crudObj=null,this.parent=null},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(0),r=(i.n(n),i(21)),a=i(5),s=i(7),o=i(25),l=i(15),c=i(3),p=i(2),d=i(1),h=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.widthUptoCursorPoint=0,t.heightUptoCursorPoint=0,t.cursorPointIndex=0,t.isHeaderRows=!1,t.isTimelineDayProcess=!1,t.widthPerMinute=0,t.heightPerMinute=0,t.minDiff=0,t.isStepDragging=!1,t.isMorePopupOpened=!1,t.isAllDayDrag=!1,t.isMultiSelect=!1,t.multiData=[],t.updatedData=[],t.swagData=[],t.startTime=0,t.isAllDayTarget=!1,t.targetTd=null,t.isCursorAhead=!1,t}return h(t,e),t.prototype.wireDragEvent=function(e){new n.Draggable(e,{abort:"."+c.U,clone:!0,isDragScroll:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!!this.parent.eventDragArea,cursorAt:this.parent.eventDragArea?{left:-20,top:-20}:{left:0,top:0},dragArea:this.dragArea,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this),queryPositionInfo:this.dragPosition.bind(this)})},t.prototype.setDragArea=function(){var e=document.querySelector(this.parent.eventDragArea);this.dragArea=this.parent.eventDragArea&&e?e:this.parent.element.querySelector("."+c.h)},t.prototype.dragHelper=function(e){var t=this;this.setDragActionDefaultValues(),this.actionObj.element=e.element,this.actionObj.action="drag";var r=[];return!this.parent.allowMultiDrag||i.i(n.isNullOrUndefined)(this.parent.selectedElements)||0===this.parent.selectedElements.length||this.parent.selectedElements.length>0&&-1===this.parent.selectedElements.indexOf(this.actionObj.element)?r=[e.element]:(r=this.parent.selectedElements,this.isMultiSelect=!0),r.forEach(function(e){var r=t.createCloneElement(e);e.getAttribute("data-guid")===t.actionObj.element.getAttribute("data-guid")&&(t.actionObj.clone=r,t.parent.eventDragArea||"Month"===t.parent.currentView||!t.parent.activeViewOptions.timeScale.enable||t.parent.activeView.isTimelineView()||t.actionObj.element.classList.contains(c._30)||i.i(n.setStyleAttribute)(t.actionObj.clone,{cursor:"move",left:"0%",right:"0%",width:"100%"}),t.actionObj.clone.style.top=i.i(n.formatUnit)(t.actionObj.element.offsetTop)),t.actionObj.cloneElement.push(r),t.actionObj.originalElement.push(e)}),this.actionObj.clone},t.prototype.dragPosition=function(e){if(this.parent.eventDragArea)return{left:e.left,top:e.top};var t=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,r=i.i(n.formatUnit)(0);"Month"===this.parent.currentView&&(r=e.left);var a;a=this.isStepDragging?Math.ceil(this.actionObj.clone.getBoundingClientRect().right)+this.actionObj.interval:this.actionObj.clone.getBoundingClientRect().right;var s=this.parent.element.querySelector("."+c.g),o=s.getBoundingClientRect().right;!(this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView&&!this.parent.enableRtl&&this.actionObj.pageX>a)||this.isMorePopupOpened||this.actionObj.pageX>o||(this.isCursorAhead=!0),this.parent.activeView.isTimelineView()&&(r=i.i(n.formatUnit)(this.actionObj.clone.offsetLeft));var l;if(this.parent.activeView.isTimelineView()||!this.parent.timeScale.enable||!i.i(n.isNullOrUndefined)(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(c._72))l=i.i(n.formatUnit)(this.actionObj.clone.offsetTop);else if("Month"===this.parent.currentView)l=i.i(n.formatUnit)(0);else if(this.actionObj.clone.classList.contains(c._30))l=i.i(n.formatUnit)(this.parent.element.querySelector("."+c._27).offsetTop),i.i(n.setStyleAttribute)(this.actionObj.clone,{width:i.i(n.formatUnit)(Math.ceil(this.actionObj.clone.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth),right:this.parent.enableRtl&&i.i(n.formatUnit)(0)});else{this.actionObj.element.classList.contains(c._30)&&!this.actionObj.clone.classList.contains(c._30)&&i.i(n.setStyleAttribute)(this.actionObj.clone,{height:i.i(n.formatUnit)(this.actionObj.cellHeight),width:i.i(n.formatUnit)(this.actionObj.cellWidth-1),pointerEvents:"none"});var p=parseInt(e.top,10);p=p<0?0:p,l=i.i(n.formatUnit)(Math.ceil(p/t)*t);var d=this.parent.element.querySelector(".e-content-wrap").scrollHeight,h=parseInt(l,10)+this.actionObj.clone.offsetHeight;h>d&&(l=parseInt(l,10)-(h-d)+"px")}return{left:r,top:l}},t.prototype.setDragActionDefaultValues=function(){this.actionObj.action="drag",this.actionObj.isAllDay=null,this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var e=this.parent.element.querySelector("."+c.n);this.actionObj.cellWidth=e.offsetWidth,this.actionObj.cellHeight=e.offsetHeight},t.prototype.dragStart=function(e){var t=this,r=this.actionObj.element.getAttribute("data-guid");this.actionObj.event=this.parent.eventBase.getEventByGuid(r);var h=i.i(n.extend)({},this.actionObj.event,null,!0);i.i(n.isNullOrUndefined)(h)||(this.startTime=h[this.parent.eventFields.startTime].getTime());var u={cancel:!1,data:h,selectedData:this.getSelectedData(),event:e,excludeSelectors:null,element:this.actionObj.element,interval:this.actionObj.interval,navigation:{enable:!1,timeDelay:2e3},scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(p.r,u,function(r){if(r.cancel||!i.i(n.isNullOrUndefined)(t.actionObj.element)&&i.i(n.isNullOrUndefined)(t.actionObj.element.parentElement)){var p=t.actionObj.element.ej2_instances[0];return i.i(n.isNullOrUndefined)(p)||p.intDestroy(e.event),t.actionObj.action="",t.removeCloneElementClasses(),void t.removeCloneElement()}t.actionClass("addClass"),t.parent.uiStateValues.action=!0,t.actionObj.start=h[t.parent.eventFields.startTime],t.actionObj.end=h[t.parent.eventFields.endTime],t.actionObj.groupIndex=parseInt(t.actionObj.element.getAttribute("data-group-index")||"0",10),t.actionObj.interval=r.interval,t.actionObj.navigation=r.navigation,t.actionObj.scroll=r.scroll,t.actionObj.excludeSelectors=r.excludeSelectors;var u=t.parent.element.querySelector("."+c.g);if(t.scrollArgs={element:u,width:u.scrollWidth,height:u.scrollHeight},t.widthPerMinute=t.actionObj.cellWidth/t.actionObj.slotInterval*t.actionObj.interval,t.heightPerMinute=t.actionObj.cellHeight/t.actionObj.slotInterval*t.actionObj.interval,t.widthUptoCursorPoint=0,t.heightUptoCursorPoint=0,t.cursorPointIndex=-1,t.isHeaderRows=!1,t.isTimelineDayProcess=!1,t.minDiff=0,t.isMorePopupOpened=!1,t.daysVariation=-1,t.isAllDayTarget=t.actionObj.clone.classList.contains(c._30),(t.parent.activeView.isTimelineView()||!t.parent.timeScale.enable)&&"TimelineYear"!==t.parent.currentView){!i.i(n.isNullOrUndefined)(t.actionObj.clone.offsetParent)&&t.actionObj.clone.offsetParent.classList.contains(c._72)&&(t.isMorePopupOpened=!0),t.actionObj.pageX=e.event.pageX;var g=t.parent.activeViewOptions.headerRows;t.isHeaderRows=g.length>0&&"Hour"!==g[g.length-1].option&&"Date"!==g[g.length-1].option,t.isTimelineDayProcess=!t.parent.activeViewOptions.timeScale.enable||t.isHeaderRows||"TimelineMonth"===t.parent.currentView||g.length>0&&"Date"===g[g.length-1].option,t.isStepDragging=!t.isTimelineDayProcess&&t.actionObj.slotInterval!==t.actionObj.interval,t.isTimelineDayProcess?t.timelineEventModule=new s.a(t.parent,"day"):t.timelineEventModule=new s.a(t.parent,"hour")}if("TimelineYear"===t.parent.currentView&&(t.yearEvent=new o.a(t.parent)),"Month"===t.parent.currentView&&(t.startTime=d.b(new Date(t.startTime)).getTime(),t.updateOriginalElement(t.actionObj.clone),t.monthEvent=new a.a(t.parent)),"Day"===t.parent.currentView||"Week"===t.parent.currentView||"WorkWeek"===t.parent.currentView){t.verticalEvent=new l.a(t.parent),t.verticalEvent.initializeValues();t.splitEvent(t.actionObj.event).forEach(function(e){var r='.e-day-wrapper[data-date="'+d.b(e[t.parent.eventFields.startTime]).getTime()+'"]';t.parent.activeViewOptions.group.resources.length>0&&(r=r.concat('[data-group-index = "'+t.actionObj.groupIndex+'"]'));var a=t.parent.element.querySelector(r);if(a){var s=a.querySelector('[data-id="'+t.actionObj.clone.getAttribute("data-id")+'"]');s&&i.i(n.addClass)([s],c._73)}})}})},t.prototype.getSelectedData=function(){if(this.isMultiSelect&&0===this.multiData.length&&this.parent.selectedElements.length>0)for(var e=0,t=this.parent.selectedElements;e<t.length;e++){var r=t[e],a=r.getAttribute("data-guid"),s=this.parent.eventBase.getEventByGuid(a);this.multiData.push(i.i(n.extend)({},s,null,!0))}return this.multiData},t.prototype.drag=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),i.i(n.isNullOrUndefined)(e.target)||!e.target.classList||!e.target.classList.contains(c.r)){var t=i.i(n.extend)({},this.actionObj.event,null,!0),r=this.parent.eventBase.getPageCoordinates(e);if(this.actionObj.Y=this.actionObj.pageY=r.pageY,this.actionObj.X=this.actionObj.pageX=r.pageX,this.actionObj.target=e.target,this.widthUptoCursorPoint=0===this.widthUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().left-this.actionObj.X)/this.widthPerMinute)*this.widthPerMinute:this.widthUptoCursorPoint,this.widthUptoCursorPoint=this.isMorePopupOpened?this.actionObj.cellWidth:this.widthUptoCursorPoint,this.heightUptoCursorPoint=0===this.heightUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().top-this.actionObj.Y)/this.heightPerMinute)*this.heightPerMinute:this.heightUptoCursorPoint,this.isAllDayDrag=this.parent.activeViewOptions.timeScale.enable?this.actionObj.clone.classList.contains(c._30):this.actionObj.event[this.parent.eventFields.isAllDay],this.isStepDragging&&0===this.minDiff&&this.calculateMinutesDiff(t),("Month"===this.parent.currentView||this.isAllDayDrag)&&this.daysVariation<0){var a=this.parent.getDateFromElement(this.actionObj.target);if(i.i(n.isNullOrUndefined)(a))this.daysVariation=0;else{var s=d.b(a),o=d.b(new Date(t[this.parent.eventFields.startTime].getTime()));this.daysVariation=(s.getTime()-o.getTime())/d.c}}else this.daysVariation=0;if(this.parent.eventDragArea){var l=r.target;this.actionObj.clone.style.top=i.i(n.formatUnit)(l.offsetTop),this.actionObj.clone.style.left=i.i(n.formatUnit)(l.offsetLeft);i.i(n.closest)(l,"."+c._74)?"Week"!==this.parent.currentView&&"WorkWeek"!==this.parent.currentView&&"Day"!==this.parent.currentView&&(this.actionObj.clone.style.width=i.i(n.formatUnit)(this.actionObj.element.offsetWidth)):(this.actionObj.clone.style.height="",this.actionObj.clone.style.width="")}this.updateScrollPosition(e),this.updateNavigatingPosition(e),this.updateDraggingDateTime(e);var h={data:t,event:e,element:this.actionObj.element,startTime:this.actionObj.start,endTime:this.actionObj.end,selectedData:this.updatedData};this.parent.group.resources.length>0&&(h.groupIndex=this.actionObj.groupIndex),this.parent.trigger(p.s,h)}},t.prototype.calculateMinutesDiff=function(e){this.parent.enableRtl?this.minDiff=(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint)/this.widthPerMinute*this.actionObj.interval:this.minDiff=this.widthUptoCursorPoint/this.widthPerMinute*this.actionObj.interval;var t=e[this.parent.eventFields.startTime],i=this.parent.activeView.renderDates[0],n=d.w(i,this.parent.activeView.getStartHour(),this.parent.activeView.getEndHour());n.startHour.getTime()>t.getTime()&&(this.minDiff=this.minDiff+(n.startHour.getTime()-t.getTime())/d.g)},t.prototype.dragStop=function(e){var t=this;if(this.isCursorAhead=!1,this.removeCloneElementClasses(),this.removeCloneElement(),clearInterval(this.actionObj.navigationInterval),this.actionObj.navigationInterval=null,clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.actionClass("removeClass"),this.parent.uiStateValues.action=!1,!this.isAllowDrop(e)){var r=e.target.classList&&!e.target.classList.contains("e-work-cells")&&this.parent.cellTemplate?i.i(n.closest)(e.target,".e-work-cells"):e.target,a={cancel:!1,data:this.getChangedData(this.updatedData),selectedData:this.updatedData,event:e,element:this.actionObj.element,target:r};this.actionObj.action=null,this.parent.trigger(p.t,a,function(e){if(!e.cancel){if(t.parent.isSpecificResourceEvents()){t.parent.crudModule.crudObj.isCrudAction=!0,t.parent.crudModule.crudObj.sourceEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(a.element.getAttribute("data-group-index"),10)]];var i=parseInt(a.target.getAttribute("data-group-index"),10)||t.actionObj.groupIndex;t.parent.crudModule.crudObj.targetEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(i.toString(),10)]]}t.saveChangedData(e,t.isMultiSelect)}}),this.updatedData=[],this.multiData=[],this.isMultiSelect=!1,this.parent.selectedElements=[]}},t.prototype.updateNavigatingPosition=function(e){var t=this;if(this.actionObj.navigation.enable){var r=this.parent.getCurrentTime();i.i(n.isNullOrUndefined)(this.actionObj.navigationInterval)&&(this.actionObj.navigationInterval=window.setInterval(function(){if(r){var i=t.parent.getCurrentTime(),n=i.getSeconds(),a=r.getSeconds()+t.actionObj.navigation.timeDelay/1e3;a=a>=60?a-60:a,a===n&&(r=t.parent.getCurrentTime(),t.viewNavigation(e),t.updateDraggingDateTime(e))}},this.actionObj.navigation.timeDelay))}},t.prototype.updateDraggingDateTime=function(e){!i.i(n.isNullOrUndefined)(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(c._72)?this.morePopupEventDragging(e):this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView?(this.timelineEventModule.dateRender=this.parent.activeView.renderDates,this.timelineEventModule.cellWidth=this.actionObj.cellWidth,this.timelineEventModule.getSlotDates(),this.actionObj.cellWidth=this.isHeaderRows?this.timelineEventModule.cellWidth:this.parent.element.querySelector("."+c.n).getBoundingClientRect().width,this.calculateTimelineTime(e)):"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView?this.calculateVerticalDate(e):this.calculateVerticalTime(e)},t.prototype.navigationWrapper=function(){if(this.parent.activeView.isTimelineView()){var e=void 0;if(e=this.parent.activeViewOptions.group.resources.length>0?this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(this.actionObj.index):this.parent.element.querySelector("."+c.l),!i.i(n.isNullOrUndefined)(e)){var t=e.querySelector("."+c.D);t||(t=i.i(n.createElement)("div",{className:c.D}),e.appendChild(t)),this.actionObj.cloneElement.forEach(function(e){t.appendChild(e)})}}else if("Month"!==this.parent.currentView&&this.parent.timeScale.enable){var r=this.actionObj.clone.classList.contains(c._30)?"."+c._6:"."+c.D;if(this.parent.element.querySelectorAll(r).item(this.actionObj.index).appendChild(this.actionObj.clone),r==="."+c._6){var a=this.getAllDayEventHeight(),s=[].slice.call(this.parent.element.querySelectorAll("."+c._4+":first-child"));if(s[0].offsetHeight<a)for(var o=0,l=s;o<l.length;o++){var p=l[o];p.style.height=(a+2)/12+"em"}this.actionObj.clone.style.height=i.i(n.formatUnit)(a)}this.actionObj.height=parseInt(this.actionObj.clone.style.height,10)}else{var d=[].slice.call(this.parent.element.querySelectorAll("."+c.n));this.actionObj.index=this.parent.activeView.renderDates.length<this.actionObj.index?this.parent.activeView.renderDates.length-1:this.actionObj.index;var h=d[this.actionObj.index].querySelector("."+c.D);h||(h=i.i(n.createElement)("div",{className:c.D}),d[this.actionObj.index].appendChild(h)),h.appendChild(this.actionObj.clone)}},t.prototype.viewNavigation=function(e){var t,r=this.parent.element.querySelector("."+c.g);r&&(!this.scrollEdges.top&&!this.scrollEdges.bottom||i.i(n.closest)(this.actionObj.clone,"."+c._6))&&(0===r.scrollLeft&&Math.round(this.actionObj.X)<=Math.round(r.getBoundingClientRect().left+this.actionObj.cellWidth+window.pageXOffset)?t=this.parent.enableRtl?"next":"previous":Math.round(r.scrollLeft)+r.clientWidth===r.scrollWidth&&Math.round(this.actionObj.X)>=Math.round(r.getBoundingClientRect().right-this.actionObj.cellWidth+window.pageXOffset)&&(t=this.parent.enableRtl?"previous":"next"),t&&this.parent.changeDate(this.parent.activeView.getNextPreviousDate(t)))},t.prototype.morePopupEventDragging=function(e){if(!(i.i(n.isNullOrUndefined)(e.target)||e.target&&i.i(n.isNullOrUndefined)(i.i(n.closest)(e.target,"td")))){var t=i.i(n.extend)({},this.actionObj.event,null,!0),r=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime(),a=i.i(n.closest)(e.target,"td");if("TimelineYear"!==this.parent.currentView||a.classList.contains(c.n)&&!a.classList.contains(c.t)){var s=this.parent.getDateFromElement(a),o=new Date(s.getTime());o.setMilliseconds(r),this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(a.getAttribute("data-group-index"),10)),this.actionObj.start=new Date(s.getTime()),this.actionObj.end=new Date(o.getTime()),this.actionObj.clone.style.top=i.i(n.formatUnit)(a.offsetParent.offsetTop),this.actionObj.clone.style.left=i.i(n.formatUnit)(a.offsetLeft),this.actionObj.clone.style.width=i.i(n.formatUnit)(a.offsetWidth);var l,p=a;if(this.parent.activeView.isTimelineView()){var d=i.i(n.closest)(a,"tr").rowIndex;p=this.parent.element.querySelectorAll(".e-appointment-container").item(d)}l=p.querySelector("."+c.D),l||(l=i.i(n.createElement)("div",{className:c.D}),p.appendChild(l)),this.appendCloneElement(l)}}},t.prototype.calculateVerticalTime=function(e){var t=this;if(!(i.i(n.isNullOrUndefined)(this.actionObj.target)||this.actionObj.target&&i.i(n.isNullOrUndefined)(i.i(n.closest)(this.actionObj.target,"tr"))||!i.i(n.closest)(this.actionObj.target,"td").classList.contains(c.n)&&!i.i(n.closest)(this.actionObj.target,"td").classList.contains(c._4))){this.parent.activeViewOptions.timeScale.enable&&this.swapDragging(e);var r=this.parent.element.querySelector("."+c.g),a=i.i(n.extend)({},this.actionObj.event,null,!0),s=a[this.parent.eventFields.startTime],o=a[this.parent.eventFields.endTime],l=d.G(o)-d.G(s),p=Math.floor(parseInt(this.actionObj.clone.style.top,10)/this.actionObj.cellHeight)*this.actionObj.cellHeight;p=p<0?0:p,(this.scrollEdges.top||this.scrollEdges.bottom)&&(p=this.scrollEdges.top?r.scrollTop-this.heightUptoCursorPoint+this.actionObj.cellHeight+window.pageYOffset:r.scrollTop+r.offsetHeight-this.actionObj.clone.offsetHeight+window.pageYOffset+(this.actionObj.clone.offsetHeight-this.heightUptoCursorPoint),p=Math.round(p/this.actionObj.cellHeight)*this.actionObj.cellHeight,r.scrollTop>0&&(this.actionObj.clone.style.top=i.i(n.formatUnit)(p)));var h,u=this.parent.activeViewOptions.timeScale.enable?p/this.actionObj.cellHeight:0,g=this.actionObj.cellHeight/this.actionObj.slotInterval,v=parseInt(this.actionObj.clone.style.top,10)-p;if(this.isAllDayDrag)h=this.parent.element.querySelector("."+c._27);else{h=[].slice.call(this.parent.getContentTable().querySelectorAll("tr"))[parseInt(u.toString(),10)]}var f;(i.i(n.closest)(this.actionObj.target,"td").classList.contains(c.n)||i.i(n.closest)(this.actionObj.target,"td").classList.contains(c._4))&&(f=i.i(n.closest)(this.actionObj.target,"td").cellIndex);var m=i.i(n.isNullOrUndefined)(f)?i.i(n.closest)(this.actionObj.clone,"td").cellIndex:f;if(this.actionObj.index=m,!i.i(n.isNullOrUndefined)(h)){var y=h.children[parseInt(m.toString(),10)];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.actionObj.groupIndex=parseInt(y.getAttribute("data-group-index"),10));var T,D;if(this.parent.activeViewOptions.timeScale.enable&&!this.isAllDayDrag)this.appendCloneElement(this.getEventWrapper(m)),T=this.parent.getDateFromElement(y),T.setMinutes(T.getMinutes()+v/g),D=new Date(T.getTime()),this.actionObj.element.classList.contains(c._30)?D.setMinutes(D.getMinutes()+this.actionObj.slotInterval):D.setMilliseconds(l);else{T=this.parent.getDateFromElement(y),T.setDate(T.getDate()-this.daysVariation),T.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),D=new Date(T.getTime()),D.setMilliseconds(l),!this.actionObj.element.classList.contains(c._30)&&this.actionObj.clone.classList.contains(c._30)&&(D=d.d(d.b(D),1));var w=this.parent.activeViewOptions.group.byDate||this.parent.virtualScrollModule&&!this.parent.activeViewOptions.timeScale.enable?m:void 0;this.updateAllDayEvents(T,D,w)}this.actionObj.start=new Date(+T),this.actionObj.end=new Date(+D);for(var b=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),C=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone")),S=0,O=C;S<O.length;S++){var E=O[S];i.i(n.remove)(E)}if(this.multiData.length>0){if(this.isAllDayTarget&&this.isAllDayDrag&&!i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)&&!this.actionObj.isAllDay){var x=parseInt(i.i(n.closest)(this.actionObj.target,"td").getAttribute("data-date"),10);this.multiData.forEach(function(e){if(t.swagData.push(i.i(n.extend)({},e,null,!0)),e[t.parent.eventFields.isAllDay]){e[t.parent.eventFields.startTime]=new Date(e[t.parent.eventFields.startTime].getTime()+(x-t.startTime));var r=new Date(e[t.parent.eventFields.startTime]),a=new Date(r.setMinutes(r.getMinutes()+t.actionObj.slotInterval));e[t.parent.eventFields.endTime]=a,e[t.parent.eventFields.isAllDay]=!1}}),this.startTime=x}if(this.isAllDayTarget&&this.isAllDayDrag&&!i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)&&this.actionObj.isAllDay&&this.swagData.length>0){this.multiData=this.swagData,this.swagData=[];var A=i.i(n.extend)({},this.actionObj.event,null,!0);this.startTime=A[this.parent.eventFields.startTime].getTime()}for(var V=b[this.parent.eventFields.startTime].getTime()-this.startTime,I=0;I<this.multiData.length;I++){this.updatedData[parseInt(I.toString(),10)]=this.updateMultipleData(this.multiData[parseInt(I.toString(),10)],V);var M=this.getDayIndex(this.updatedData[parseInt(I.toString(),10)]);if(M>=0){var E=this.getEventWrapper(M,this.updatedData[parseInt(I.toString(),10)][this.parent.eventFields.isAllDay]);this.appendCloneElement(E,this.actionObj.cloneElement[parseInt(I.toString(),10)]),this.updateEventHeight(this.updatedData[parseInt(I.toString(),10)],I,M)}else i.i(n.isNullOrUndefined)(this.actionObj.cloneElement[parseInt(I.toString(),10)].parentNode)||i.i(n.remove)(this.actionObj.cloneElement[parseInt(I.toString(),10)])}}else this.updateEventHeight(b);this.updateTimePosition(this.actionObj.start,this.updatedData)}}},t.prototype.splitEvent=function(e){var t=this.parent.eventFields,r=[],a=e[t.startTime],s=e[t.endTime];if(d.b(new Date(a.getTime()))<d.b(new Date(s.getTime()))){for(var o=d.b(new Date(a.getTime())),l=new Date(o.getTime()),c=0;o<new Date(s.getTime());c++){l=new Date(l.setDate(o.getDate()+1));var p=i.i(n.extend)({},e,null,!0);p[t.startTime]=new Date(o),p[t.endTime]=new Date(l),o=new Date(o.setDate(o.getDate()+1)),r.push(p)}var h=r.length-1;r[0][t.startTime]=a,r[parseInt(h.toString(),10)][t.endTime]=s}else r.push(e);return r},t.prototype.updateMultipleData=function(e,t){var r=i.i(n.extend)({},e,null,!0);!i.i(n.isNullOrUndefined)(this.actionObj.isAllDay)&&this.parent.activeViewOptions.timeScale.enable&&(this.isAllDayTarget&&r[this.parent.eventFields.isAllDay]||!this.isAllDayTarget&&!r[this.parent.eventFields.isAllDay])&&(r[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay);var a=r[this.parent.eventFields.endTime].getTime()-r[this.parent.eventFields.startTime].getTime();if(r[this.parent.eventFields.isAllDay]){var s=Math.ceil(t/864e5),o=Math.ceil(a/864e5),l=new Date(r[this.parent.eventFields.startTime]);r[this.parent.eventFields.startTime]=d.b(new Date(l.setDate(l.getDate()+s))),r[this.parent.eventFields.endTime]=d.d(r[this.parent.eventFields.startTime],o)}else r[this.parent.eventFields.startTime]=new Date(r[this.parent.eventFields.startTime].getTime()+t),r[this.parent.eventFields.endTime]=new Date(r[this.parent.eventFields.startTime].getTime()+a);return r},t.prototype.getDayIndex=function(e){var t=i.i(n.extend)({},e,null,!0),r=d.b(t[this.parent.eventFields.startTime]);if(this.parent.activeViewOptions.timeScale.enable&&!t[this.parent.eventFields.isAllDay]){var a=this.parent.activeView.getStartHour();r.setMilliseconds(a.getTime()-d.b(a).getTime())}var s=r.getTime(),o="",l=c._8;return l=this.parent.activeViewOptions.timeScale.enable&&t[this.parent.eventFields.isAllDay]?c._6:c.n,o="."+l+'[data-date="'+s+'"]',this.parent.activeViewOptions.group.resources.length>0&&(o=o+'[data-group-index="'+this.actionObj.groupIndex+'"]'),this.targetTd=this.parent.element.querySelector(o),i.i(n.isNullOrUndefined)(this.targetTd)?-1:this.targetTd.cellIndex},t.prototype.updateEventHeight=function(e,t,r){this.verticalEvent.initializeValues();var a=this.verticalEvent.getStartCount();if(!this.parent.uiStateValues.isGroupAdaptive)for(var s=0;s<this.actionObj.groupIndex;s++)this.verticalEvent.dateRender[parseInt(s.toString(),10)]&&(a+=this.verticalEvent.dateRender[parseInt(s.toString(),10)].length);var o=this.parent.uiStateValues.isGroupAdaptive?a:this.actionObj.groupIndex;if(!(!this.parent.activeViewOptions.group.byDate||i.i(n.isNullOrUndefined)(this.parent.getDateFromElement(this.actionObj.target)))||!this.parent.activeViewOptions.group.byDate)for(var l=-1,p=this.parent.activeViewOptions.group.byDate?this.parent.getIndexOfDate(this.verticalEvent.dateRender[parseInt(o.toString(),10)],d.b(this.parent.getDateFromElement(i.i(n.isNullOrUndefined)(t)?this.actionObj.target:this.targetTd))):i.i(n.isNullOrUndefined)(t)?this.actionObj.index-a:r-a,h=this.splitEvent(e),u=this.parent.eventBase.isAllDayAppointment(e)||h.length>2||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement?[e]:h,s=0;s<u.length;s++){if(s>0){var g='.e-day-wrapper[data-date="'+d.b(u[parseInt(s.toString(),10)][this.parent.eventFields.startTime]).getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&(g=g.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var v=this.parent.element.querySelector(g);v?(p+=1,l=v.cellIndex):p=-1}if(p>=0){var f=this.verticalEvent.isSpannedEvent(u[parseInt(s.toString(),10)],p,o),m=f[this.verticalEvent.fields.startTime],y=f[this.verticalEvent.fields.endTime],T=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getHeight(m,y):this.actionObj.element.offsetHeight,D=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getTopValue(m,p,o):this.actionObj.element.offsetTop;if(i.i(n.isNullOrUndefined)(t))0===s?