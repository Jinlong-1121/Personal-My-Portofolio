import{C as ne,D as Q,_ as oe,E as se,F as R,G as me,H as fe,B as ve,r as X,m as Z,z as ie,I as he,c as ae,J as ge,a as ye,K as be,L as we,y as _e,M as xe,N as $e,O as ke,g as Ce,P as Ae}from"./dckvv1o7.js";import{_ as Be}from"./ncheckbox.vue-dizdk93x.js";import{_ as Pe}from"./ndropdown.vue-i27dwkwo.js";import{_ as Ve}from"./nnavbar.vue-ip749nge.js";import{p as W,f as E,ag as le,P as f,a1 as r,X as Y,u as b,aa as q,a3 as v,Q as l,a9 as S,F as L,ae as J,S as F,R as U,a2 as A,q as I,V as re,a8 as N,U as De,C as je,an as Fe,W as Se}from"./vendor/json-editor-vue-llkaejaf.js";import{_ as Ne}from"./nsection-block-ez4av87h.js";import{_ as ze}from"./filepath-item.vue-iltgx83i.js";import{_ as Ue}from"./code-snippets.vue-donzovu5.js";import{_ as Ie}from"./ndrawer.vue-iqsqqdsc.js";import{D as Oe}from"./constants-b32h69zq.js";import"./vendor/unocss-mvzv9iuf.js";import"./vendor/shiki-kdj4mcqm.js";import"./nicon-title.vue-dsf9ygne.js";import"./ncode-block.vue-bir2wz4z.js";import"./client-gsjyqe32.js";const Ee={key:0,"h-full":"","w-full":"",flex:"","items-center":"","justify-center":""},Te={for:"drop-zone-input","text-3xl":"",hover:"text-green cursor-pointer","transition-all":""},Me={key:1,relative:"","h-full":"","w-full":"",grid:"~ rows-[max-content_1fr_max-content]"},Le={grid:"~ cols-minmax-8rem gap-8","overflow-auto":"",p6:""},Re={flex:"","items-center":"","justify-center":"","of-hidden":"",rounded:"","rounded-t-lg":"","bg-active":"","object-cover":"",class:"aspect-1/1",border:"~ base"},Ke=["src"],qe={flex:"~ gap1","items-center":""},Ge={flex:"~ gap-2","items-center":"","justify-center":"",p8:""},Je=W({__name:"AssetDropZone",props:{modelValue:{type:Boolean,required:!0},folder:{type:String,required:!0}},setup(_){const s=_,e=ne(s,"modelValue"),o=E(),n=E([]);function a(u){o.value=u.target,e.value=!0}function i(u){u.target===o.value&&(e.value=!1)}function y(u){u.preventDefault()}function g(u){u.preventDefault(),w(u.dataTransfer.files)}function w(u){const c=Array.from(u||[]);if(c.length){const $=[],x=n.value.map(p=>p.name);for(const p of c)if(x.includes(p.name)){let B=1;const[P,T]=p.name.split(".");for(;x.includes(`${P} (${B}).${T}`);)B++;const K=`${P}-${B}.${T}`,m=new Blob([p],{type:p.type}),t=new File([m],K,{lastModified:Date.now()});$.push(t),x.push(K)}else p.type===""&&R({message:"Folders are not supported yet",icon:"carbon:face-dissatisfied",classes:"text-orange"}),$.push(p);n.value=[...n.value,...$]}}async function D(){if(me.value||fe.value)return;ve("assets:upload");const u=[];for(const c of n.value){const $=new FileReader;$.readAsDataURL(c);const p=(await new Promise(B=>{$.onload=()=>B($.result)})).split(";base64,").pop();u.push({path:c.name,encoding:"base64",content:p})}await X.writeStaticAssets(await Z(),[...u],s.folder).then(()=>{h(),R({message:"Files uploaded successfully!",icon:"i-carbon:checkmark"})}).catch(c=>{h(),R({message:`Error uploading files: ${c?.message??"unknown"}`,icon:"i-carbon-warning",classes:"text-red"})}),e.value=!1}function M(u){n.value?.splice(u,1)}function k(u){return URL.createObjectURL(u)}function C(u,c){const[$,x]=u.name.split("."),p=c.replace(/\.\w+$/,""),B=`${p}.${x}`;return p.length===0?(alert("File name must be at least 1 characters long"),$):(Object.defineProperty(u,"name",{value:B,writable:!1}),n.value.splice(n.value.indexOf(u),1,u),u)}function d(){n.value=[]}function h(){e.value=!1,d()}return Q("dragenter",a),Q("dragleave",i),Q("dragover",y),Q("drop",g),(u,c)=>{const $=oe,x=se,p=ie,B=le("tooltip");return r(),f("div",{fixed:"","bottom-0":"","left-13":"","right-0":"","top-0":"","z-10":"","backdrop-blur-20":"","transition-all":"",class:Y(b(e)?"opacity-100 visible":"opacity-0 invisible")},[q(v($,{icon:"carbon-close",title:"Close",absolute:"","right-5":"","top-5":"","z-20":"","text-xl":"",border:!1,onClick:h},null,512),[[B,"Close",void 0,{"bottom-end":!0}]]),n.value?.length?(r(),f("div",Me,[c[4]||(c[4]=l("div",{px6:"",py6:""},[l("h1",{"text-2xl":""}," Upload "),l("p",{"text-sm":"",op50:""}," Drag and drop files to upload ")],-1)),l("div",Le,[(r(!0),f(L,null,J(n.value,(P,T)=>(r(),f("div",{key:P.name,flex:"~ col gap-2",relative:"","h-50":"","w-40":"","items-center":""},[l("div",Re,[l("img",{"h-full":"","w-full":"","rounded-t-lg":"","object-cover":"",src:k(P)},null,8,Ke)]),l("div",qe,[v(p,{n:"xs","h-full":"","flex-auto":"","model-value":P.name,"onUpdate:modelValue":K=>C(P,K.target.value)},null,8,["model-value","onUpdate:modelValue"]),v($,{n:"red",icon:"carbon-trash-can","h-full":"","flex-none":"",title:"Remove file",onClick:K=>M(T)},null,8,["onClick"])])]))),128))]),l("div",Ge,[n.value.length?(r(),F($,{key:0,n:"red",onClick:d},{default:A(()=>[v(x,{icon:"carbon-clean"}),c[2]||(c[2]=S(" Clear "))]),_:1})):U("",!0),v($,{disabled:!n.value.length,n:"primary solid",onClick:D},{default:A(()=>[v(x,{icon:"carbon-cloud-upload"}),c[3]||(c[3]=S(" Upload "))]),_:1},8,["disabled"])])])):(r(),f("div",Ee,[l("label",Te,[v(x,{icon:"carbon-cloud-upload","mr-2":""}),c[1]||(c[1]=S(" Drop files here or click to select "))]),l("input",{id:"drop-zone-input",type:"file",multiple:"",hidden:"",onChange:c[0]||(c[0]=P=>w(P.target.files))},null,32)]))],2)}}});function We(_){return typeof _=="string"?`'${_}'`:new Xe().serialize(_)}const Xe=function(){class _{#e=new Map;compare(e,o){return typeof e=="number"&&typeof o=="number"?e-o:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(o,!0))}serialize(e,o){if(e===null)return"null";switch(typeof e){case"string":return o?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const o=Object.prototype.toString.call(e),n=e.constructor?.name,a=n==="Object"||n===void 0?"":n;let i=o.length<10?`unknown:${o}`:o.slice(8,-1);if(i==="Object"&&a in globalThis&&(i=a),i!=="Object"&&i!=="Function"&&i!=="AsyncFunction"){const y=this["$"+i];if(y)return y.call(this,e);if(typeof e?.entries=="function")return this.serializeObjectEntries(i,e.entries());throw new Error(`Cannot serialize ${i}`)}return typeof e.toJSON=="function"?a+this.$object(e.toJSON()):this.serializeObjectEntries(a,Object.entries(e))}serializeObjectEntries(e,o){const n=Array.from(o).sort((i,y)=>this.compare(i[0],y[0]));let a=`${e}{`;for(let i=0;i<n.length;i++){const[y,g]=n[i];a+=`${y}:`,a+=this.serialize(g),i<n.length-1&&(a+=",")}return a+"}"}$object(e){let o=this.#e.get(e);return o===void 0&&(this.#e.set(e,`#${this.#e.size}`),o=this.serializeObject(e),this.#e.set(e,o)),o}$function(e){const o=Function.prototype.toString.call(e);return o.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${o.replace(/\s*\n\s*/g,"")}`}$Array(e){let o="[";for(let n=0;n<e.length;n++)o+=this.serialize(e[n]),n<e.length-1&&(o+=",");return o+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${Array.prototype.slice.call(new Uint8Array(e)).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((o,n)=>this.compare(o,n)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const s of["Error","RegExp","URL"])_.prototype["$"+s]=function(e){return`${s}(${e})`};for(const s of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])_.prototype["$"+s]=function(e){return`${s}[${Array.prototype.slice.call(e).join(",")}]`};for(const s of["BigInt64Array","BigUint64Array"])_.prototype["$"+s]=function(e){return`${s}[${Array.prototype.slice.call(e).map(o=>`${o}n`).join(",")}]`};return _}(),Ze=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],He=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",G=[];class Ye{_data=new H;_hash=new H([...Ze]);_nDataBytes=0;_minBufferSize=0;finalize(s){s&&this._append(s);const e=this._nDataBytes*8,o=this._data.sigBytes*8;return this._data.words[o>>>5]|=128<<24-o%32,this._data.words[(o+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(o+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(s,e){const o=this._hash.words;let n=o[0],a=o[1],i=o[2],y=o[3],g=o[4],w=o[5],D=o[6],M=o[7];for(let k=0;k<64;k++){if(k<16)G[k]=s[e+k]|0;else{const x=G[k-15],p=(x<<25|x>>>7)^(x<<14|x>>>18)^x>>>3,B=G[k-2],P=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;G[k]=p+G[k-7]+P+G[k-16]}const C=g&w^~g&D,d=n&a^n&i^a&i,h=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),u=(g<<26|g>>>6)^(g<<21|g>>>11)^(g<<7|g>>>25),c=M+u+C+He[k]+G[k],$=h+d;M=D,D=w,w=g,g=y+c|0,y=i,i=a,a=n,n=c+$|0}o[0]=o[0]+n|0,o[1]=o[1]+a|0,o[2]=o[2]+i|0,o[3]=o[3]+y|0,o[4]=o[4]+g|0,o[5]=o[5]+w|0,o[6]=o[6]+D|0,o[7]=o[7]+M|0}_append(s){typeof s=="string"&&(s=H.fromUtf8(s)),this._data.concat(s),this._nDataBytes+=s.sigBytes}_process(s){let e,o=this._data.sigBytes/64;s?o=Math.ceil(o):o=Math.max((o|0)-this._minBufferSize,0);const n=o*16,a=Math.min(n*4,this._data.sigBytes);if(n){for(let i=0;i<n;i+=16)this._doProcessBlock(this._data.words,i);e=this._data.words.splice(0,n),this._data.sigBytes-=a}return new H(e,a)}}class H{words;sigBytes;constructor(s,e){s=this.words=s||[],this.sigBytes=e===void 0?s.length*4:e}static fromUtf8(s){const e=unescape(encodeURIComponent(s)),o=e.length,n=[];for(let a=0;a<o;a++)n[a>>>2]|=(e.charCodeAt(a)&255)<<24-a%4*8;return new H(n,o)}toBase64(){const s=[];for(let e=0;e<this.sigBytes;e+=3){const o=this.words[e>>>2]>>>24-e%4*8&255,n=this.words[e+1>>>2]>>>24-(e+1)%4*8&255,a=this.words[e+2>>>2]>>>24-(e+2)%4*8&255,i=o<<16|n<<8|a;for(let y=0;y<4&&e*8+y*6<this.sigBytes*8;y++)s.push(Qe.charAt(i>>>6*(3-y)&63))}return s.join("")}concat(s){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<s.sigBytes;e++){const o=s.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=o<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<s.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=s.words[e>>>2];this.sigBytes+=s.sigBytes}}function et(_){return new Ye().finalize(_).toBase64()}function tt(_){return et(We(_))}const nt=W({__name:"AssetFontPreview",props:{asset:{}},setup(_){const s=_,e=I(()=>`devtools-assets-${tt(s.asset)}`);return he(I(()=>`
  @font-face {
    font-family: '${e.value}';
    src: url('${s.asset.publicPath}');
  }
`)),(o,n)=>(r(),f("div",{"of-hidden":"",style:re({fontFamily:`'${e.value}'`})}," Aa Bb Cc Dd Ee Ff Gg Hh Ii Jj Kk Ll Mm Nn Oo Pp Qq Rr Ss Tt Uu Vv Ww Xx Yy Zz ",4))}}),ot={flex:"","items-center":"","justify-center":"","of-hidden":"","bg-active":"","object-cover":"",p1:""},st=["src"],lt={key:2,"i-carbon-document":"","text-3xl":"",op20:""},at={key:3,"w-full":"","self-start":"",p4:""},it=["textContent"],rt={key:4},ut=["src","autoplay","controls"],dt={key:5},ct={key:0,"i-carbon-volume-up":"","text-3xl":"",op20:""},pt=["src"],mt={key:6,"i-carbon-help":"","text-3xl":"",op20:""},ue=W({__name:"AssetPreview",props:{asset:{},textContent:{},detail:{type:Boolean}},setup(_){return(s,e)=>{const o=nt;return r(),f("div",ot,[s.asset.type==="image"?(r(),f("img",{key:0,src:s.asset.publicPath},null,8,st)):s.asset.type==="font"?(r(),F(o,{key:s.asset.publicPath,asset:s.asset,"self-stretch":"",p2:"","text-2xl":""},null,8,["asset"])):s.asset.type==="text"&&!s.textContent?(r(),f("div",lt)):s.asset.type==="text"&&s.textContent?(r(),f("div",at,[l("pre",{"max-h-10rem":"","of-hidden":"","text-xs":"","font-mono":"",textContent:N(s.textContent)},null,8,it)])):s.asset.type==="video"?(r(),f("div",rt,[l("video",{src:s.asset.publicPath,autoplay:s.detail,controls:s.detail},null,8,ut)])):s.asset.type==="audio"?(r(),f("div",dt,[s.detail?(r(),f("audio",{key:1,src:s.asset.publicPath,controls:""},null,8,pt)):(r(),f("div",ct))])):(r(),f("div",mt))])}}}),ft={relative:"",flex:"~ col gap-1",hover:"bg-active","items-center":"","of-hidden":"",rounded:"",p2:""},vt={"w-full":"","of-hidden":"",truncate:"","ws-nowrap":"","text-center":"","text-xs":""},ht=W({__name:"AssetGridItem",props:{asset:{},folder:{}},setup(_){const s=_,e=I(()=>s.folder&&s.asset.path.startsWith(s.folder)?s.asset.path.slice(s.folder.length):s.asset.path);return(o,n)=>{const a=se,i=ue;return r(),f("button",ft,[o.asset.layer?(r(),F(a,{key:0,icon:"i-carbon-layers",absolute:"","right-4":"","top-4":"","bg-primary":""})):U("",!0),v(i,{"h-30":"","w-30":"",rounded:"",border:"~ base",asset:o.asset},null,8,["asset"]),l("div",vt,N(e.value),1)])}}}),de=W({__name:"AssetListItem",props:{item:{},index:{default:0},modelValue:{}},setup(_,{emit:s}){const e=_,n=ne(e,"modelValue",s,{passive:!0}),a=I(()=>e.item?.children?.length),i=E(!0),y=I(()=>a.value?"i-carbon-folder":e.item.type==="image"?"i-carbon-image":e.item.type==="video"?"i-carbon-video":e.item.type==="audio"?"i-carbon-volume-up":e.item.type==="font"?"i-carbon-text-small-caps":e.item.type==="text"?"i-carbon-document":e.item.type==="json"?"i-carbon-json":"i-carbon-document-blank");return(g,w)=>{const D=se,M=de;return r(),f("div",null,[l("button",{flex:"~ gap-2","w-full":"","items-center":"",hover:"bg-active",px4:"",py1:"",style:re({paddingLeft:`calc(1rem + ${g.index*1.5}em)`}),class:Y({"bg-active":!a.value&&b(n)?.filePath===g.item?.filePath}),border:"b base",onClick:w[0]||(w[0]=k=>a.value?i.value=!i.value:n.value=g.item)},[l("div",{class:Y(y.value)},null,2),l("span",{class:Y({"flex items-center":a.value}),"flex-auto":"","text-start":"","text-sm":"","font-mono":""},[S(N(g.item.path)+" ",1),g.item.layer?(r(),F(D,{key:0,icon:"i-carbon-layers","bg-primary":""})):U("",!0)],2),a.value?(r(),F(D,{key:0,icon:"carbon:chevron-right","transform-rotate":i.value?90:0,transition:""},null,8,["transform-rotate"])):U("",!0)],6),i.value?De(g.$slots,"default",{key:0},()=>[(r(!0),f(L,null,J(g.item?.children,k=>(r(),F(M,{key:k.filepath,modelValue:b(n),"onUpdate:modelValue":w[1]||(w[1]=C=>je(n)?n.value=C:null),item:k,index:g.index+1},null,8,["modelValue","item","index"]))),128))]):U("",!0)])}}}),gt={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p4:""},yt={flex:"~","items-center":"","justify-center":""},bt={"max-w-full":"","w-full":"","table-fixed":""},wt={flex:"~ gap-1","w-full":"","items-center":""},_t={flex:"~ gap-1","w-full":"","items-center":"","of-hidden":""},xt={"flex-auto":"","of-hidden":"",truncate:"","ws-pre":"","font-mono":""},$t={capitalize:""},kt={key:0},Ct={op70:""},At={flex:"~ gap2 wrap"},Bt={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p8:""},Pt={flex:"~ gap2 wrap justify-center"},Vt={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p8:""},Dt={flex:"~ gap2 wrap justify-center"},jt={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p4:""},Ft={flex:"","justify-end":"","gap-4":""},St=W({__name:"AssetDetails",props:{modelValue:{}},setup(_,{emit:s}){const n=ne(_,"modelValue",s,{passive:!0}),a=ae(async()=>{if(n.value.type==="image")return X.getImageMeta(await Z(),n.value.filePath)}),i=E(!1),y=E(),g=E(0),w=ae(async()=>{if(n.value.type!=="text")return;g.value;const m=await X.getTextAssetContent(await Z(),n.value.filePath);return y.value=m,m});async function D(){if(w.value!==y.value)try{await X.writeStaticAssets(await Z(),[{path:n.value.path,content:y.value,override:!0}],""),i.value=!1,g.value++,R({message:"Updated",icon:"i-carbon-checkmark",classes:"text-green"})}catch(m){console.error(m),R({message:"Something went wrong!",icon:"i-carbon-warning",classes:"text-red"})}}const M=ge(),k=I(()=>(M.value?._installedModules||[]).some(t=>t.meta?.name==="@nuxt/image"||t.meta?.name==="@nuxt/image-edge"||t.meta?.name==="@nuxt/image-nightly")),C=I(()=>{const m=[];if(n.value.type==="image"){const t=a.value?.width?`
  width="${a.value.width}"
  height="${a.value.height}" `:" ";return m.push({lang:"vue-html",code:`<img${t}
  src="${n.value.publicPath}"
/>`,name:"Plain Image"}),k.value&&m.push({lang:"vue-html",code:`<NuxtImg${t}
  src="${n.value.publicPath}"
/>`,name:"Nuxt Img",docs:"https://image.nuxt.com/usage/nuxt-img"},{lang:"vue-html",code:`<NuxtPicture${t}
  src="${n.value.publicPath}"
/>`,name:"Nuxt Picture",docs:"https://image.nuxt.com/usage/nuxt-picture"}),m}return m.push({lang:"html",code:`<a download href="${n.value.publicPath}">
  Download ${n.value.path.split("/").slice(-1)[0]}
</a>`,name:"Download link"}),m}),d=ye(),h=be(),u=we(()=>n.value.mtime),c=I(()=>{const m=n.value.size;return m<1024?`${m} B`:m<1024*1024?`${(m/1024).toFixed(2)} KB`:`${(m/1024/1024).toFixed(2)} MB`}),$=I(()=>{if(!a.value?.width||!a.value?.height)return"";const m=(V,O)=>O?m(O,V%O):V,t=m(a.value.width,a.value.height);return t>3?`${a.value.width/t}:${a.value.height/t}`:""}),x=I(()=>["image","text","video","audio","font"].includes(n.value.type)),p=E(!1);async function B(){try{await X.deleteStaticAsset(await Z(),n.value.filePath),n.value=void 0,p.value=!1,R({message:"Asset deleted",icon:"i-carbon-checkmark",classes:"text-green"})}catch(m){console.error(m),R({message:"Something went wrong!",icon:"i-carbon-warning",classes:"text-red"})}}const P=E(!1),T=E("");async function K(){const m=n.value.filePath.split("/"),t=m.slice(-1)[0].split(".").slice(0,-1).join(".");if(!T.value||T.value===t)return R({message:"Please enter a new name",icon:"i-carbon-warning",classes:"text-orange"});try{const V=m.slice(-1)[0].split(".").slice(-1)[0],O=`${m.slice(0,-1).join("/")}/${T.value}.${V}`;await X.renameStaticAsset(await Z(),n.value.filePath,O),n.value=void 0,P.value=!1,R({message:"Asset renamed",icon:"i-carbon-checkmark",classes:"text-green"})}catch(V){console.error(V),R({message:"Something went wrong!",icon:"i-carbon-warning",classes:"text-red"})}}return(m,t)=>{const V=ue,O=ze,z=oe,ce=Ue,ee=_e,pe=ie,te=le("tooltip");return r(),f(L,null,[l("div",gt,[x.value?(r(),f(L,{key:0},[t[13]||(t[13]=l("div",{flex:"~ gap2","mb--2":"","items-center":"",op50:""},[l("div",{"x-divider":""}),l("div",{"flex-none":""}," Preview "),l("div",{"x-divider":""})],-1)),l("div",yt,[v(V,{detail:"","max-h-80":"","min-h-20":"","min-w-20":"","w-auto":"",rounded:"",border:"~ base",asset:b(n),"text-content":b(w)},null,8,["asset","text-content"])])],64)):U("",!0),t[25]||(t[25]=l("div",{flex:"~ gap2","mb--2":"","items-center":"",op50:""},[l("div",{"x-divider":""}),l("div",{"flex-none":""}," Details "),l("div",{"x-divider":""})],-1)),l("table",bt,[l("tbody",null,[l("tr",null,[t[14]||(t[14]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Filepath ",-1)),l("td",null,[l("div",wt,[v(O,{filepath:b(n).filePath,"text-left":""},null,8,["filepath"]),q(v(z,{"flex-none":"",title:"Open in Editor",icon:"carbon-launch",border:!1,onClick:t[0]||(t[0]=j=>b(h)(b(n).filePath))},null,512),[[te,"Open in Editor"]])])])]),l("tr",null,[t[15]||(t[15]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Public Path ",-1)),l("td",null,[l("div",_t,[l("div",xt,N(b(n).publicPath),1),q(v(z,{"flex-none":"",title:"Copy public path",icon:"carbon-copy",border:!1,onClick:t[1]||(t[1]=j=>b(d)(b(n).publicPath,"assets-public-path"))},null,512),[[te,"Copy public path"]]),q(v(z,{"flex-none":"",to:b(n).publicPath,icon:"carbon-launch",target:"_blank",border:!1,title:"Open in browser"},null,8,["to"]),[[te,"Open in browser"]])])])]),l("tr",null,[t[16]||(t[16]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Type ",-1)),l("td",$t,N(b(n).type),1)]),b(a)?.width?(r(),f(L,{key:0},[l("tr",null,[t[17]||(t[17]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Image Size ",-1)),l("td",null,N(b(a).width)+" x "+N(b(a).height),1)]),$.value?(r(),f("tr",kt,[t[18]||(t[18]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Aspect Ratio ",-1)),l("td",null,N($.value),1)])):U("",!0)],64)):U("",!0),l("tr",null,[t[19]||(t[19]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," File size ",-1)),l("td",null,N(c.value),1)]),l("tr",null,[t[20]||(t[20]=l("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Last modified ",-1)),l("td",null,[S(N(new Date(b(n).mtime).toLocaleString())+" ",1),l("span",Ct,"("+N(b(u))+")",1)])])])]),t[26]||(t[26]=l("div",{flex:"~ gap2","mb--2":"","items-center":"",op50:""},[l("div",{"x-divider":""}),l("div",{"flex-none":""}," Actions "),l("div",{"x-divider":""})],-1)),l("div",At,[v(z,{to:b(n).publicPath,download:"",target:"_blank",icon:"carbon-download",n:"green"},{default:A(()=>t[21]||(t[21]=[S(" Download ")])),_:1},8,["to"]),b(n).type==="text"?(r(),F(z,{key:0,icon:"carbon-edit",n:"cyan",onClick:t[2]||(t[2]=j=>i.value=!i.value)},{default:A(()=>t[22]||(t[22]=[S(" Edit ")])),_:1})):U("",!0),v(z,{icon:"carbon-text-annotation-toggle",n:"blue",onClick:t[3]||(t[3]=j=>P.value=!P.value)},{default:A(()=>t[23]||(t[23]=[S(" Rename ")])),_:1}),v(z,{icon:"carbon-delete",n:"red",onClick:t[4]||(t[4]=j=>p.value=!p.value)},{default:A(()=>t[24]||(t[24]=[S(" Delete ")])),_:1})]),t[27]||(t[27]=l("div",{"flex-auto":""},null,-1)),C.value.length?(r(),F(ce,{key:1,border:"t base","mx--4":"","mb--4":"","code-snippets":C.value},null,8,["code-snippets"])):U("",!0)]),v(ee,{modelValue:p.value,"onUpdate:modelValue":t[6]||(t[6]=j=>p.value=j)},{default:A(()=>[l("div",Bt,[t[30]||(t[30]=l("span",null," Are you sure you want to delete this asset? ",-1)),l("div",Pt,[v(z,{icon:"carbon-close",onClick:t[5]||(t[5]=j=>p.value=!1)},{default:A(()=>t[28]||(t[28]=[S(" Cancel ")])),_:1}),v(z,{icon:"carbon-delete",n:"red",onClick:B},{default:A(()=>t[29]||(t[29]=[S(" Delete ")])),_:1})])])]),_:1},8,["modelValue"]),v(ee,{modelValue:P.value,"onUpdate:modelValue":t[9]||(t[9]=j=>P.value=j)},{default:A(()=>[l("div",Vt,[v(pe,{modelValue:T.value,"onUpdate:modelValue":t[7]||(t[7]=j=>T.value=j),placeholder:"New name",n:"blue"},null,8,["modelValue"]),l("div",Dt,[v(z,{icon:"carbon-close",onClick:t[8]||(t[8]=j=>P.value=!1)},{default:A(()=>t[31]||(t[31]=[S(" Cancel ")])),_:1}),v(z,{icon:"carbon-text-annotation-toggle",n:"blue",onClick:K},{default:A(()=>t[32]||(t[32]=[S(" Rename ")])),_:1})])])]),_:1},8,["modelValue"]),b(n).type==="text"?(r(),F(ee,{key:0,modelValue:i.value,"onUpdate:modelValue":t[12]||(t[12]=j=>i.value=j)},{default:A(()=>[l("div",jt,[q(l("textarea",{"onUpdate:modelValue":t[10]||(t[10]=j=>y.value=j),placeholder:"Item value...",class:"h-lg w-xl of-auto rounded-lg p-4 text-sm font-mono outline-none",onKeydown:Se(D,["enter"])},null,544),[[Fe,y.value]]),l("div",Ft,[v(z,{icon:"carbon-close",onClick:t[11]||(t[11]=j=>i.value=!1)},{default:A(()=>t[33]||(t[33]=[S(" Cancel ")])),_:1}),v(z,{icon:"carbon:save",n:"primary",onClick:D},{default:A(()=>t[34]||(t[34]=[S(" save ")])),_:1})])])]),_:1},8,["modelValue"])):U("",!0)],64)}}}),Nt={"h-full":"","of-auto":""},zt={"flex-none":"",flex:"~ gap2 items-center","text-lg":""},Ut={flex:"~ items-center justify-center",absolute:"","bottom--1":"","right--1":"","h-4":"","w-4":"","rounded-full":"","bg-primary:30":"","text-8px":""},It={flex:"~ col","w-30":"","of-auto":""},Ot={"text-xs":"",op75:""},Et={op50:""},Tt={key:0},Mt={"mt--4":"",px2:"",grid:"~ cols-minmax-8rem"},Lt={key:1,p2:"",grid:"~ cols-minmax-8rem"},Rt={key:1},ln=W({__name:"assets",setup(_){const s=xe(),e=E(!1),o=E(""),n=I(()=>new $e(s.value||[],{keys:["path"]})),a=ke(()=>{const C=[];for(const d of s.value||[]){const h=d.path.split(".").pop();h&&!C.find(u=>u.name===h)&&C.push({name:h,value:!0})}return C}),i=I(()=>(o.value?n.value.search(o.value).map(d=>d.item):s.value||[]).filter(d=>{const h=d.path.split(".").pop();return!h||a.some(u=>u.name===h&&u.value)})),y=I(()=>{const C={};for(const d of i.value){const h=`${d.path.split("/").slice(0,-1).join("/")}/`;C[h]||(C[h]=[]),C[h].push(d)}return Object.entries(C).sort(([d],[h])=>d.localeCompare(h))}),g=I(()=>{const C={children:[]},d=(h,u,c)=>{const[$,...x]=u;let p=h.children.find(B=>B.path===$);p||(p={...c,path:$,children:[]},h.children.push(p)),x.length>1?d(p,x,c):x.length===1&&p.children.push({...c,path:x[0]})};return i.value.forEach(h=>{const u=h.path.split("/").filter(c=>c!=="");d(C,u,h)}),C.children}),w=E(),{view:D}=Ce("assets");function M(){D.value=D.value==="list"?"grid":"list"}Ae("Escape",()=>{w.value=void 0});const k=E();return(C,d)=>{const h=oe,u=Be,c=Pe,$=Ve,x=Je,p=ht,B=Ne,P=de,T=St,K=Ie,m=le("tooltip");return r(),f("div",Nt,[v($,{ref_key:"navbar",ref:k,search:o.value,"onUpdate:search":d[1]||(d[1]=t=>o.value=t),pb2:""},{actions:A(()=>[l("div",zt,[q(v(h,{icon:"carbon:cloud-upload",title:"File Upload",border:!1,onClick:d[0]||(d[0]=t=>e.value=!e.value)},null,512),[[m,"File Upload",void 0,{"bottom-end":!0}]]),b(a).length?(r(),F(c,{key:0,direction:"end",n:"sm primary"},{trigger:A(({click:t})=>[q(v(h,{icon:"carbon-filter",border:!1,title:"Filter",p3:"","text-lg":"",onClick:V=>t()},null,8,["onClick"]),[[m,"Filter",void 0,{"bottom-end":!0}]]),l("span",Ut,N(b(a).length),1)]),default:A(()=>[l("div",It,[(r(!0),f(L,null,J(b(a),t=>(r(),F(u,{key:t.name,modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,flex:"~ gap-2",rounded:"",px2:"",py2:""},{default:A(()=>[l("span",Ot,N(t.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))])]),_:1})):U("",!0),q(v(h,{"text-lg":"",border:!1,icon:b(D)==="grid"?"i-carbon-list":"i-carbon-grid",title:"Toggle view",onClick:M},null,8,["icon"]),[[m,"Toggle View",void 0,{"bottom-end":!0}]])])]),default:A(()=>[l("div",Et,[o.value?(r(),f("span",Tt,N(i.value.length)+" matched Â· ",1)):U("",!0),l("span",null,N(b(s)?.length)+" assets in total",1)])]),_:1},8,["search"]),v(x,{modelValue:e.value,"onUpdate:modelValue":d[2]||(d[2]=t=>e.value=t),folder:"/"},null,8,["modelValue"]),b(D)==="grid"?(r(),f(L,{key:0},[y.value.length>1?(r(!0),f(L,{key:0},J(y.value,([t,V])=>(r(),F(B,{key:t,text:t,description:`${V.length} items`,open:V.length<=b(Oe),padding:!1},{default:A(()=>[l("div",Mt,[(r(!0),f(L,null,J(V,O=>(r(),F(p,{key:O.path,asset:O,folder:t,onClick:z=>w.value=O},null,8,["asset","folder","onClick"]))),128))])]),_:2},1032,["text","description","open"]))),128)):(r(),f("div",Lt,[(r(!0),f(L,null,J(i.value,t=>(r(),F(p,{key:t.path,asset:t,onClick:V=>w.value=t},null,8,["asset","onClick"]))),128))]))],64)):(r(),f("div",Rt,[(r(!0),f(L,null,J(g.value,(t,V)=>(r(),F(P,{key:V,modelValue:w.value,"onUpdate:modelValue":d[3]||(d[3]=O=>w.value=O),item:t},null,8,["modelValue","item"]))),128))])),v(K,{"model-value":!!w.value,"auto-close":"","w-120":"",top:k.value,onClose:d[5]||(d[5]=t=>w.value=void 0)},{default:A(()=>[w.value?(r(),F(T,{key:0,modelValue:w.value,"onUpdate:modelValue":d[4]||(d[4]=t=>w.value=t)},null,8,["modelValue"])):U("",!0)]),_:1},8,["model-value","top"])])}}});export{ln as default};
