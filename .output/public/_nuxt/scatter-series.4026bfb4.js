import{aY as w,aZ as V,a_ as L,a$ as S,b0 as p,r as R,b1 as C,b2 as x,b3 as P,b4 as B,b5 as M,b6 as k,b7 as A}from"./VWindowItem.951c014a.js";var T=globalThis&&globalThis.__extends||function(){var c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var n in l)l.hasOwnProperty(n)&&(r[n]=l[n])},c(t,e)};return function(t,e){c(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O=function(c){T(t,c);function t(){return c!==null&&c.apply(this,arguments)||this}return t.prototype.render=function(e){for(var r=this.getSideBySideInfo(e),l=e.stackedValues,n,h=0,i=e.points;h<i.length;h++){var a=i[h];if(a.symbolLocations=[],a.regions=[],a.visible&&w(e.points[a.index-1],a,e.points[a.index+1],e)&&(this.rect=this.getRectangle(a.xValue+r.start,l.endValues[a.index],a.xValue+r.end,l.startValues[a.index],e),this.rect.height=e.columnWidthInPixel?e.columnWidthInPixel:this.rect.height,this.rect.y=e.columnWidthInPixel?this.rect.y-e.columnWidthInPixel/2:this.rect.y,n=this.triggerEvent(e,a,e.interior,{width:e.border.width,color:e.border.color}),!n.cancel&&(this.drawRectangle(e,a,this.rect,n),this.updateSymbolLocation(a,this.rect,e),e.columnFacet==="Cylinder"))){var d={isColumn:!1,stacking:e.type==="StackingBar100",isLastSeries:!0};this.drawCylinder(this.options,this.element,d,this.rect,e)}}this.renderMarker(e)},t.prototype.destroy=function(){},t.prototype.getModuleName=function(){return"StackingBarSeries"},t.prototype.doAnimation=function(e){this.animate(e)},t}(V),E=function(){function c(){}return c.prototype.render=function(t,e,r,l){t.isRectSeries=!1;for(var n=t.marker,h=this.enableComplexProperty(t),i,a=t.chart.chartAreaType==="PolarRadar"?L:S,d,u=t.chart.redraw,f={width:this.isLineShapeMarker(n.shape)?t.width:t.border.width,color:this.isLineShapeMarker(n.shape)?t.interior:t.border.color},v=0,m=h;v<m.length;v++){var o=m[v];d=u&&o.symbolLocations?o.symbolLocations[0]:null,o.symbolLocations=[],o.regions=[],o.visible&&w(h[o.index-1],o,h[o.index+1],t)&&(i={cancel:!1,name:p,series:t,point:o,fill:t.setPointColor(o,t.interior),border:t.setBorderColor(o,f),height:n.height,width:n.width,shape:n.shape},t.chart.trigger(p,i),i.cancel?o.marker={visible:!0}:(o.symbolLocations.push(a(o.xValue,o.yValue,e,r,l,t)),o.color=i.fill,this.refresh(t,o,i,d)))}},c.prototype.isLineShapeMarker=function(t){return t==="HorizontalLine"||t==="VerticalLine"||t==="Cross"},c.prototype.enableComplexProperty=function(t){for(var e=[],r=[],l=t.yAxis.visibleRange,n=t.xAxis.visibleRange,h=t.clipRect,i=t.points,a=Math.abs(l.delta/h.height),d=Math.abs(n.delta/h.width),u=i[0]&&i[0].y>a?0:a,f=i[0]&&i[0].x>d?0:d,v=0,m=0,o=0,g=i;o<g.length;o++){var y=g[o];y.symbolLocations=[],v=y.yValue?y.yValue:l.min,m=y.xValue?y.xValue:n.min,(Math.abs(u-v)>=a||Math.abs(f-m)>=d)&&(r.push(y),u=v,f=m)}for(var s,b=0;b<r.length;b++)s=r[b],!(R(s.x)||s.x==="")&&e.push(s);return e},c.prototype.refresh=function(t,e,r,l){var n=t.chart,h,i,a=t.marker,d=r.point.marker.imageUrl||a.imageUrl,u=new C(n.element.id+"_Series_"+t.index+"_Point_"+e.index,r.fill,r.border.width,r.border.color,t.opacity,null);n.redraw&&x(u.id)&&(h=r.shape==="Circle"?"c":"",i=x(u.id).getAttribute("d")),P(t.chart.enableCanvas,t.seriesElement,B(e.symbolLocations[0],r.shape,new M(r.width,r.height),d,u,e.x.toString()+":"+e.yValue.toString(),t.chart.svgRenderer,t.clipRect),n.redraw,!0,h+"x",h+"y",l,i),e.regions.push(new k(e.symbolLocations[0].x-a.width,e.symbolLocations[0].y-a.height,2*a.width,2*a.height)),e.marker={border:r.border,fill:r.fill,height:r.height,visible:!0,width:r.width,shape:r.shape,imageUrl:d},t.chart.enableCanvas&&t.chart.markerRender.render(t)},c.prototype.doAnimation=function(t){for(var e=t.animation.duration,r=t.animation.delay,l=t.seriesElement.childNodes,n=1,h=0,i=t.points;h<i.length;h++){var a=i[h];!a.symbolLocations.length||!l[n]||(A(l[n],r,e,t,a.index,a.symbolLocations[0],!1),n++)}},c.prototype.getModuleName=function(){return"ScatterSeries"},c.prototype.destroy=function(){},c}();export{E as S,O as a};
